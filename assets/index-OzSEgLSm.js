function U8(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in t)){const i=Object.getOwnPropertyDescriptor(s,r);i&&Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function L4(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Hb={exports:{}},wf={};var LN;function F8(){if(LN)return wf;LN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,r,i){var o=null;if(i!==void 0&&(o=""+i),r.key!==void 0&&(o=""+r.key),"key"in r){i={};for(var l in r)l!=="key"&&(i[l]=r[l])}else i=r;return r=i.ref,{$$typeof:t,type:s,key:o,ref:r!==void 0?r:null,props:i}}return wf.Fragment=e,wf.jsx=n,wf.jsxs=n,wf}var VN;function H8(){return VN||(VN=1,Hb.exports=F8()),Hb.exports}var m=H8(),$b={exports:{}},$e={};var zN;function $8(){if(zN)return $e;zN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),y=Symbol.iterator;function x(q){return q===null||typeof q!="object"?null:(q=y&&q[y]||q["@@iterator"],typeof q=="function"?q:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,S={};function A(q,se,ue){this.props=q,this.context=se,this.refs=S,this.updater=ue||w}A.prototype.isReactComponent={},A.prototype.setState=function(q,se){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,se,"setState")},A.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function N(){}N.prototype=A.prototype;function P(q,se,ue){this.props=q,this.context=se,this.refs=S,this.updater=ue||w}var O=P.prototype=new N;O.constructor=P,T(O,A.prototype),O.isPureReactComponent=!0;var L=Array.isArray;function F(){}var I={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function D(q,se,ue){var pe=ue.ref;return{$$typeof:t,type:q,key:se,ref:pe!==void 0?pe:null,props:ue}}function z(q,se){return D(q.type,se,q.props)}function B(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function H(q){var se={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ue){return se[ue]})}var U=/\/+/g;function he(q,se){return typeof q=="object"&&q!==null&&q.key!=null?H(""+q.key):se.toString(36)}function ce(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(F,F):(q.status="pending",q.then(function(se){q.status==="pending"&&(q.status="fulfilled",q.value=se)},function(se){q.status==="pending"&&(q.status="rejected",q.reason=se)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function K(q,se,ue,pe,Ae){var Te=typeof q;(Te==="undefined"||Te==="boolean")&&(q=null);var de=!1;if(q===null)de=!0;else switch(Te){case"bigint":case"string":case"number":de=!0;break;case"object":switch(q.$$typeof){case t:case e:de=!0;break;case f:return de=q._init,K(de(q._payload),se,ue,pe,Ae)}}if(de)return Ae=Ae(q),de=pe===""?"."+he(q,0):pe,L(Ae)?(ue="",de!=null&&(ue=de.replace(U,"$&/")+"/"),K(Ae,se,ue,"",function(Se){return Se})):Ae!=null&&(B(Ae)&&(Ae=z(Ae,ue+(Ae.key==null||q&&q.key===Ae.key?"":(""+Ae.key).replace(U,"$&/")+"/")+de)),se.push(Ae)),1;de=0;var Le=pe===""?".":pe+":";if(L(q))for(var Pe=0;Pe<q.length;Pe++)pe=q[Pe],Te=Le+he(pe,Pe),de+=K(pe,se,ue,Te,Ae);else if(Pe=x(q),typeof Pe=="function")for(q=Pe.call(q),Pe=0;!(pe=q.next()).done;)pe=pe.value,Te=Le+he(pe,Pe++),de+=K(pe,se,ue,Te,Ae);else if(Te==="object"){if(typeof q.then=="function")return K(ce(q),se,ue,pe,Ae);throw se=String(q),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return de}function X(q,se,ue){if(q==null)return q;var pe=[],Ae=0;return K(q,pe,"","",function(Te){return se.call(ue,Te,Ae++)}),pe}function Y(q){if(q._status===-1){var se=q._result;se=se(),se.then(function(ue){(q._status===0||q._status===-1)&&(q._status=1,q._result=ue)},function(ue){(q._status===0||q._status===-1)&&(q._status=2,q._result=ue)}),q._status===-1&&(q._status=0,q._result=se)}if(q._status===1)return q._result.default;throw q._result}var xe=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},Me={map:X,forEach:function(q,se,ue){X(q,function(){se.apply(this,arguments)},ue)},count:function(q){var se=0;return X(q,function(){se++}),se},toArray:function(q){return X(q,function(se){return se})||[]},only:function(q){if(!B(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return $e.Activity=p,$e.Children=Me,$e.Component=A,$e.Fragment=n,$e.Profiler=r,$e.PureComponent=P,$e.StrictMode=s,$e.Suspense=u,$e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,$e.__COMPILER_RUNTIME={__proto__:null,c:function(q){return I.H.useMemoCache(q)}},$e.cache=function(q){return function(){return q.apply(null,arguments)}},$e.cacheSignal=function(){return null},$e.cloneElement=function(q,se,ue){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var pe=T({},q.props),Ae=q.key;if(se!=null)for(Te in se.key!==void 0&&(Ae=""+se.key),se)!R.call(se,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&se.ref===void 0||(pe[Te]=se[Te]);var Te=arguments.length-2;if(Te===1)pe.children=ue;else if(1<Te){for(var de=Array(Te),Le=0;Le<Te;Le++)de[Le]=arguments[Le+2];pe.children=de}return D(q.type,Ae,pe)},$e.createContext=function(q){return q={$$typeof:o,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:i,_context:q},q},$e.createElement=function(q,se,ue){var pe,Ae={},Te=null;if(se!=null)for(pe in se.key!==void 0&&(Te=""+se.key),se)R.call(se,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(Ae[pe]=se[pe]);var de=arguments.length-2;if(de===1)Ae.children=ue;else if(1<de){for(var Le=Array(de),Pe=0;Pe<de;Pe++)Le[Pe]=arguments[Pe+2];Ae.children=Le}if(q&&q.defaultProps)for(pe in de=q.defaultProps,de)Ae[pe]===void 0&&(Ae[pe]=de[pe]);return D(q,Te,Ae)},$e.createRef=function(){return{current:null}},$e.forwardRef=function(q){return{$$typeof:l,render:q}},$e.isValidElement=B,$e.lazy=function(q){return{$$typeof:f,_payload:{_status:-1,_result:q},_init:Y}},$e.memo=function(q,se){return{$$typeof:d,type:q,compare:se===void 0?null:se}},$e.startTransition=function(q){var se=I.T,ue={};I.T=ue;try{var pe=q(),Ae=I.S;Ae!==null&&Ae(ue,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(F,xe)}catch(Te){xe(Te)}finally{se!==null&&ue.types!==null&&(se.types=ue.types),I.T=se}},$e.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},$e.use=function(q){return I.H.use(q)},$e.useActionState=function(q,se,ue){return I.H.useActionState(q,se,ue)},$e.useCallback=function(q,se){return I.H.useCallback(q,se)},$e.useContext=function(q){return I.H.useContext(q)},$e.useDebugValue=function(){},$e.useDeferredValue=function(q,se){return I.H.useDeferredValue(q,se)},$e.useEffect=function(q,se){return I.H.useEffect(q,se)},$e.useEffectEvent=function(q){return I.H.useEffectEvent(q)},$e.useId=function(){return I.H.useId()},$e.useImperativeHandle=function(q,se,ue){return I.H.useImperativeHandle(q,se,ue)},$e.useInsertionEffect=function(q,se){return I.H.useInsertionEffect(q,se)},$e.useLayoutEffect=function(q,se){return I.H.useLayoutEffect(q,se)},$e.useMemo=function(q,se){return I.H.useMemo(q,se)},$e.useOptimistic=function(q,se){return I.H.useOptimistic(q,se)},$e.useReducer=function(q,se,ue){return I.H.useReducer(q,se,ue)},$e.useRef=function(q){return I.H.useRef(q)},$e.useState=function(q){return I.H.useState(q)},$e.useSyncExternalStore=function(q,se,ue){return I.H.useSyncExternalStore(q,se,ue)},$e.useTransition=function(){return I.H.useTransition()},$e.version="19.2.3",$e}var BN;function Jp(){return BN||(BN=1,$b.exports=$8()),$b.exports}var _=Jp();const et=L4(_),mT=U8({__proto__:null,default:et},[_]);var qb={exports:{}},Ef={},Wb={exports:{}},Kb={};var UN;function q8(){return UN||(UN=1,(function(t){function e(K,X){var Y=K.length;K.push(X);e:for(;0<Y;){var xe=Y-1>>>1,Me=K[xe];if(0<r(Me,X))K[xe]=X,K[Y]=Me,Y=xe;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var X=K[0],Y=K.pop();if(Y!==X){K[0]=Y;e:for(var xe=0,Me=K.length,q=Me>>>1;xe<q;){var se=2*(xe+1)-1,ue=K[se],pe=se+1,Ae=K[pe];if(0>r(ue,Y))pe<Me&&0>r(Ae,ue)?(K[xe]=Ae,K[pe]=Y,xe=pe):(K[xe]=ue,K[se]=Y,xe=se);else if(pe<Me&&0>r(Ae,Y))K[xe]=Ae,K[pe]=Y,xe=pe;else break e}}return X}function r(K,X){var Y=K.sortIndex-X.sortIndex;return Y!==0?Y:K.id-X.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],d=[],f=1,p=null,y=3,x=!1,w=!1,T=!1,S=!1,A=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function O(K){for(var X=n(d);X!==null;){if(X.callback===null)s(d);else if(X.startTime<=K)s(d),X.sortIndex=X.expirationTime,e(u,X);else break;X=n(d)}}function L(K){if(T=!1,O(K),!w)if(n(u)!==null)w=!0,F||(F=!0,H());else{var X=n(d);X!==null&&ce(L,X.startTime-K)}}var F=!1,I=-1,R=5,D=-1;function z(){return S?!0:!(t.unstable_now()-D<R)}function B(){if(S=!1,F){var K=t.unstable_now();D=K;var X=!0;try{e:{w=!1,T&&(T=!1,N(I),I=-1),x=!0;var Y=y;try{t:{for(O(K),p=n(u);p!==null&&!(p.expirationTime>K&&z());){var xe=p.callback;if(typeof xe=="function"){p.callback=null,y=p.priorityLevel;var Me=xe(p.expirationTime<=K);if(K=t.unstable_now(),typeof Me=="function"){p.callback=Me,O(K),X=!0;break t}p===n(u)&&s(u),O(K)}else s(u);p=n(u)}if(p!==null)X=!0;else{var q=n(d);q!==null&&ce(L,q.startTime-K),X=!1}}break e}finally{p=null,y=Y,x=!1}X=void 0}}finally{X?H():F=!1}}}var H;if(typeof P=="function")H=function(){P(B)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,he=U.port2;U.port1.onmessage=B,H=function(){he.postMessage(null)}}else H=function(){A(B,0)};function ce(K,X){I=A(function(){K(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(K){switch(y){case 1:case 2:case 3:var X=3;break;default:X=y}var Y=y;y=X;try{return K()}finally{y=Y}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(K,X){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var Y=y;y=K;try{return X()}finally{y=Y}},t.unstable_scheduleCallback=function(K,X,Y){var xe=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?xe+Y:xe):Y=xe,K){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=Y+Me,K={id:f++,callback:X,priorityLevel:K,startTime:Y,expirationTime:Me,sortIndex:-1},Y>xe?(K.sortIndex=Y,e(d,K),n(u)===null&&K===n(d)&&(T?(N(I),I=-1):T=!0,ce(L,Y-xe))):(K.sortIndex=Me,e(u,K),w||x||(w=!0,F||(F=!0,H()))),K},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(K){var X=y;return function(){var Y=y;y=X;try{return K.apply(this,arguments)}finally{y=Y}}}})(Kb)),Kb}var FN;function W8(){return FN||(FN=1,Wb.exports=q8()),Wb.exports}var Gb={exports:{}},ms={};var HN;function K8(){if(HN)return ms;HN=1;var t=Jp();function e(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)d+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function i(u,d,f){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:p==null?null:""+p,children:u,containerInfo:d,implementation:f}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return ms.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ms.createPortal=function(u,d){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return i(u,d,null,f)},ms.flushSync=function(u){var d=o.T,f=s.p;try{if(o.T=null,s.p=2,u)return u()}finally{o.T=d,s.p=f,s.d.f()}},ms.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,s.d.C(u,d))},ms.prefetchDNS=function(u){typeof u=="string"&&s.d.D(u)},ms.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var f=d.as,p=l(f,d.crossOrigin),y=typeof d.integrity=="string"?d.integrity:void 0,x=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;f==="style"?s.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:y,fetchPriority:x}):f==="script"&&s.d.X(u,{crossOrigin:p,integrity:y,fetchPriority:x,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},ms.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var f=l(d.as,d.crossOrigin);s.d.M(u,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&s.d.M(u)},ms.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var f=d.as,p=l(f,d.crossOrigin);s.d.L(u,f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},ms.preloadModule=function(u,d){if(typeof u=="string")if(d){var f=l(d.as,d.crossOrigin);s.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else s.d.m(u)},ms.requestFormReset=function(u){s.d.r(u)},ms.unstable_batchedUpdates=function(u,d){return u(d)},ms.useFormState=function(u,d,f){return o.H.useFormState(u,d,f)},ms.useFormStatus=function(){return o.H.useHostTransitionStatus()},ms.version="19.2.3",ms}var $N;function V4(){if($N)return Gb.exports;$N=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Gb.exports=K8(),Gb.exports}var qN;function G8(){if(qN)return Ef;qN=1;var t=W8(),e=Jp(),n=V4();function s(a){var c="https://react.dev/errors/"+a;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function i(a){var c=a,h=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,(c.flags&4098)!==0&&(h=c.return),a=c.return;while(a)}return c.tag===3?h:null}function o(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function l(a){if(a.tag===31){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function u(a){if(i(a)!==a)throw Error(s(188))}function d(a){var c=a.alternate;if(!c){if(c=i(a),c===null)throw Error(s(188));return c!==a?null:a}for(var h=a,g=c;;){var b=h.return;if(b===null)break;var E=b.alternate;if(E===null){if(g=b.return,g!==null){h=g;continue}break}if(b.child===E.child){for(E=b.child;E;){if(E===h)return u(b),a;if(E===g)return u(b),c;E=E.sibling}throw Error(s(188))}if(h.return!==g.return)h=b,g=E;else{for(var k=!1,j=b.child;j;){if(j===h){k=!0,h=b,g=E;break}if(j===g){k=!0,g=b,h=E;break}j=j.sibling}if(!k){for(j=E.child;j;){if(j===h){k=!0,h=E,g=b;break}if(j===g){k=!0,g=E,h=b;break}j=j.sibling}if(!k)throw Error(s(189))}}if(h.alternate!==g)throw Error(s(190))}if(h.tag!==3)throw Error(s(188));return h.stateNode.current===h?a:c}function f(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a;for(a=a.child;a!==null;){if(c=f(a),c!==null)return c;a=a.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),P=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function H(a){return a===null||typeof a!="object"?null:(a=B&&a[B]||a["@@iterator"],typeof a=="function"?a:null)}var U=Symbol.for("react.client.reference");function he(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===U?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case T:return"Fragment";case A:return"Profiler";case S:return"StrictMode";case L:return"Suspense";case F:return"SuspenseList";case D:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case w:return"Portal";case P:return a.displayName||"Context";case N:return(a._context.displayName||"Context")+".Consumer";case O:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case I:return c=a.displayName||null,c!==null?c:he(a.type)||"Memo";case R:c=a._payload,a=a._init;try{return he(a(c))}catch{}}return null}var ce=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},xe=[],Me=-1;function q(a){return{current:a}}function se(a){0>Me||(a.current=xe[Me],xe[Me]=null,Me--)}function ue(a,c){Me++,xe[Me]=a.current,a.current=c}var pe=q(null),Ae=q(null),Te=q(null),de=q(null);function Le(a,c){switch(ue(Te,c),ue(Ae,a),ue(pe,null),c.nodeType){case 9:case 11:a=(a=c.documentElement)&&(a=a.namespaceURI)?oN(a):0;break;default:if(a=c.tagName,c=c.namespaceURI)c=oN(c),a=aN(c,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}se(pe),ue(pe,a)}function Pe(){se(pe),se(Ae),se(Te)}function Se(a){a.memoizedState!==null&&ue(de,a);var c=pe.current,h=aN(c,a.type);c!==h&&(ue(Ae,a),ue(pe,h))}function Ye(a){Ae.current===a&&(se(pe),se(Ae)),de.current===a&&(se(de),yf._currentValue=Y)}var We,Rt;function wt(a){if(We===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);We=c&&c[1]||"",Rt=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+We+a+Rt}var us=!1;function Ln(a,c){if(!a||us)return"";us=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(c){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(ne){var ee=ne}Reflect.construct(a,[],ae)}else{try{ae.call()}catch(ne){ee=ne}a.call(ae.prototype)}}else{try{throw Error()}catch(ne){ee=ne}(ae=a())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(ne){if(ne&&ee&&typeof ne.stack=="string")return[ne.stack,ee.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=g.DetermineComponentFrameRoot(),k=E[0],j=E[1];if(k&&j){var $=k.split(`
`),Z=j.split(`
`);for(b=g=0;g<$.length&&!$[g].includes("DetermineComponentFrameRoot");)g++;for(;b<Z.length&&!Z[b].includes("DetermineComponentFrameRoot");)b++;if(g===$.length||b===Z.length)for(g=$.length-1,b=Z.length-1;1<=g&&0<=b&&$[g]!==Z[b];)b--;for(;1<=g&&0<=b;g--,b--)if($[g]!==Z[b]){if(g!==1||b!==1)do if(g--,b--,0>b||$[g]!==Z[b]){var re=`
`+$[g].replace(" at new "," at ");return a.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",a.displayName)),re}while(1<=g&&0<=b);break}}}finally{us=!1,Error.prepareStackTrace=h}return(h=a?a.displayName||a.name:"")?wt(h):""}function Sr(a,c){switch(a.tag){case 26:case 27:case 5:return wt(a.type);case 16:return wt("Lazy");case 13:return a.child!==c&&c!==null?wt("Suspense Fallback"):wt("Suspense");case 19:return wt("SuspenseList");case 0:case 15:return Ln(a.type,!1);case 11:return Ln(a.type.render,!1);case 1:return Ln(a.type,!0);case 31:return wt("Activity");default:return""}}function ha(a){try{var c="",h=null;do c+=Sr(a,h),h=a,a=a.return;while(a);return c}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var Lt=Object.prototype.hasOwnProperty,Et=t.unstable_scheduleCallback,tr=t.unstable_cancelCallback,fa=t.unstable_shouldYield,Gl=t.unstable_requestPaint,Vn=t.unstable_now,yo=t.unstable_getCurrentPriorityLevel,Yl=t.unstable_ImmediatePriority,Tr=t.unstable_UserBlockingPriority,Cs=t.unstable_NormalPriority,xo=t.unstable_LowPriority,Xl=t.unstable_IdlePriority,nr=t.log,Ql=t.unstable_setDisableYieldValue,sr=null,Nn=null;function ds(a){if(typeof nr=="function"&&Ql(a),Nn&&typeof Nn.setStrictMode=="function")try{Nn.setStrictMode(sr,a)}catch{}}var Vt=Math.clz32?Math.clz32:yu,gu=Math.log,vo=Math.LN2;function yu(a){return a>>>=0,a===0?32:31-(gu(a)/vo|0)|0}var _r=256,bo=262144,tt=4194304;function zt(a){var c=a&42;if(c!==0)return c;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Bt(a,c,h){var g=a.pendingLanes;if(g===0)return 0;var b=0,E=a.suspendedLanes,k=a.pingedLanes;a=a.warmLanes;var j=g&134217727;return j!==0?(g=j&~E,g!==0?b=zt(g):(k&=j,k!==0?b=zt(k):h||(h=j&~a,h!==0&&(b=zt(h))))):(j=g&~E,j!==0?b=zt(j):k!==0?b=zt(k):h||(h=g&~a,h!==0&&(b=zt(h)))),b===0?0:c!==0&&c!==b&&(c&E)===0&&(E=b&-b,h=c&-c,E>=h||E===32&&(h&4194048)!==0)?c:b}function fn(a,c){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&c)===0}function hs(a,c){switch(a){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zn(){var a=tt;return tt<<=1,(tt&62914560)===0&&(tt=4194304),a}function nn(a){for(var c=[],h=0;31>h;h++)c.push(a);return c}function Bs(a,c){a.pendingLanes|=c,c!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function sn(a,c,h,g,b,E){var k=a.pendingLanes;a.pendingLanes=h,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=h,a.entangledLanes&=h,a.errorRecoveryDisabledLanes&=h,a.shellSuspendCounter=0;var j=a.entanglements,$=a.expirationTimes,Z=a.hiddenUpdates;for(h=k&~h;0<h;){var re=31-Vt(h),ae=1<<re;j[re]=0,$[re]=-1;var ee=Z[re];if(ee!==null)for(Z[re]=null,re=0;re<ee.length;re++){var ne=ee[re];ne!==null&&(ne.lane&=-536870913)}h&=~ae}g!==0&&fs(a,g,0),E!==0&&b===0&&a.tag!==0&&(a.suspendedLanes|=E&~(k&~c))}function fs(a,c,h){a.pendingLanes|=c,a.suspendedLanes&=~c;var g=31-Vt(c);a.entangledLanes|=c,a.entanglements[g]=a.entanglements[g]|1073741824|h&261930}function ps(a,c){var h=a.entangledLanes|=c;for(a=a.entanglements;h;){var g=31-Vt(h),b=1<<g;b&c|a[g]&c&&(a[g]|=c),h&=~b}}function ks(a,c){var h=c&-c;return h=(h&42)!==0?1:rr(h),(h&(a.suspendedLanes|c))!==0?0:h}function rr(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Ns(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function ir(){var a=X.p;return a!==0?a:(a=window.event,a===void 0?32:RN(a.type))}function Gn(a,c){var h=X.p;try{return X.p=a,c()}finally{X.p=h}}var Rs=Math.random().toString(36).slice(2),pn="__reactFiber$"+Rs,Bn="__reactProps$"+Rs,_i="__reactContainer$"+Rs,xu="__reactEvents$"+Rs,Yv="__reactListeners$"+Rs,km="__reactHandles$"+Rs,Nm="__reactResources$"+Rs,Ai="__reactMarker$"+Rs;function vu(a){delete a[pn],delete a[Bn],delete a[xu],delete a[Yv],delete a[km]}function Ci(a){var c=a[pn];if(c)return c;for(var h=a.parentNode;h;){if(c=h[_i]||h[pn]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(a=pN(a);a!==null;){if(h=a[pn])return h;a=pN(a)}return c}a=h,h=a.parentNode}return null}function Ar(a){if(a=a[pn]||a[_i]){var c=a.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return a}return null}function or(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a.stateNode;throw Error(s(33))}function ki(a){var c=a[Nm];return c||(c=a[Nm]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function mn(a){a[Ai]=!0}var Sh=new Set,Th={};function Ni(a,c){Ri(a,c),Ri(a+"Capture",c)}function Ri(a,c){for(Th[a]=c,a=0;a<c.length;a++)Sh.add(c[a])}var _h=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ah={},Ch={};function Rm(a){return Lt.call(Ch,a)?!0:Lt.call(Ah,a)?!1:_h.test(a)?Ch[a]=!0:(Ah[a]=!0,!1)}function bu(a,c,h){if(Rm(c))if(h===null)a.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":a.removeAttribute(c);return;case"boolean":var g=c.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){a.removeAttribute(c);return}}a.setAttribute(c,""+h)}}function ar(a,c,h){if(h===null)a.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttribute(c,""+h)}}function gn(a,c,h,g){if(g===null)a.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(h);return}a.setAttributeNS(c,h,""+g)}}function Un(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function pa(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function kh(a,c,h){var g=Object.getOwnPropertyDescriptor(a.constructor.prototype,c);if(!a.hasOwnProperty(c)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var b=g.get,E=g.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return b.call(this)},set:function(k){h=""+k,E.call(this,k)}}),Object.defineProperty(a,c,{enumerable:g.enumerable}),{getValue:function(){return h},setValue:function(k){h=""+k},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function yt(a){if(!a._valueTracker){var c=pa(a)?"checked":"value";a._valueTracker=kh(a,c,""+a[c])}}function Jl(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var h=c.getValue(),g="";return a&&(g=pa(a)?a.checked?"true":"false":a.value),a=g,a!==h?(c.setValue(a),!0):!1}function Mi(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Zl=/[\n"\\]/g;function Us(a){return a.replace(Zl,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function wu(a,c,h,g,b,E,k,j){a.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?a.type=k:a.removeAttribute("type"),c!=null?k==="number"?(c===0&&a.value===""||a.value!=c)&&(a.value=""+Un(c)):a.value!==""+Un(c)&&(a.value=""+Un(c)):k!=="submit"&&k!=="reset"||a.removeAttribute("value"),c!=null?Nh(a,k,Un(c)):h!=null?Nh(a,k,Un(h)):g!=null&&a.removeAttribute("value"),b==null&&E!=null&&(a.defaultChecked=!!E),b!=null&&(a.checked=b&&typeof b!="function"&&typeof b!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?a.name=""+Un(j):a.removeAttribute("name")}function Mm(a,c,h,g,b,E,k,j){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(a.type=E),c!=null||h!=null){if(!(E!=="submit"&&E!=="reset"||c!=null)){yt(a);return}h=h!=null?""+Un(h):"",c=c!=null?""+Un(c):h,j||c===a.value||(a.value=c),a.defaultValue=c}g=g??b,g=typeof g!="function"&&typeof g!="symbol"&&!!g,a.checked=j?a.checked:!!g,a.defaultChecked=!!g,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(a.name=k),yt(a)}function Nh(a,c,h){c==="number"&&Mi(a.ownerDocument)===a||a.defaultValue===""+h||(a.defaultValue=""+h)}function ma(a,c,h,g){if(a=a.options,c){c={};for(var b=0;b<h.length;b++)c["$"+h[b]]=!0;for(h=0;h<a.length;h++)b=c.hasOwnProperty("$"+a[h].value),a[h].selected!==b&&(a[h].selected=b),b&&g&&(a[h].defaultSelected=!0)}else{for(h=""+Un(h),c=null,b=0;b<a.length;b++){if(a[b].value===h){a[b].selected=!0,g&&(a[b].defaultSelected=!0);return}c!==null||a[b].disabled||(c=a[b])}c!==null&&(c.selected=!0)}}function Im(a,c,h){if(c!=null&&(c=""+Un(c),c!==a.value&&(a.value=c),h==null)){a.defaultValue!==c&&(a.defaultValue=c);return}a.defaultValue=h!=null?""+Un(h):""}function ga(a,c,h,g){if(c==null){if(g!=null){if(h!=null)throw Error(s(92));if(ce(g)){if(1<g.length)throw Error(s(93));g=g[0]}h=g}h==null&&(h=""),c=h}h=Un(c),a.defaultValue=h,g=a.textContent,g===h&&g!==""&&g!==null&&(a.value=g),yt(a)}function Fs(a,c){if(c){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=c;return}}a.textContent=c}var Dm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rh(a,c,h){var g=c.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?g?a.setProperty(c,""):c==="float"?a.cssFloat="":a[c]="":g?a.setProperty(c,h):typeof h!="number"||h===0||Dm.has(c)?c==="float"?a.cssFloat=h:a[c]=(""+h).trim():a[c]=h+"px"}function Mh(a,c,h){if(c!=null&&typeof c!="object")throw Error(s(62));if(a=a.style,h!=null){for(var g in h)!h.hasOwnProperty(g)||c!=null&&c.hasOwnProperty(g)||(g.indexOf("--")===0?a.setProperty(g,""):g==="float"?a.cssFloat="":a[g]="");for(var b in c)g=c[b],c.hasOwnProperty(b)&&h[b]!==g&&Rh(a,b,g)}else for(var E in c)c.hasOwnProperty(E)&&Rh(a,E,c[E])}function Eu(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ya=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Su(a){return ya.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Yr(){}var Ih=null;function Cr(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var xa=null,Ii=null;function ec(a){var c=Ar(a);if(c&&(a=c.stateNode)){var h=a[Bn]||null;e:switch(a=c.stateNode,c.type){case"input":if(wu(a,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),c=h.name,h.type==="radio"&&c!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Us(""+c)+'"][type="radio"]'),c=0;c<h.length;c++){var g=h[c];if(g!==a&&g.form===a.form){var b=g[Bn]||null;if(!b)throw Error(s(90));wu(g,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(c=0;c<h.length;c++)g=h[c],g.form===a.form&&Jl(g)}break e;case"textarea":Im(a,h.value,h.defaultValue);break e;case"select":c=h.value,c!=null&&ma(a,!!h.multiple,c,!1)}}}var Tu=!1;function va(a,c,h){if(Tu)return a(c,h);Tu=!0;try{var g=a(c);return g}finally{if(Tu=!1,(xa!==null||Ii!==null)&&(Cg(),xa&&(c=xa,a=Ii,Ii=xa=null,ec(c),a)))for(c=0;c<a.length;c++)ec(a[c])}}function Xr(a,c){var h=a.stateNode;if(h===null)return null;var g=h[Bn]||null;if(g===null)return null;h=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(s(231,c,typeof h));return h}var kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tc=!1;if(kr)try{var St={};Object.defineProperty(St,"passive",{get:function(){tc=!0}}),window.addEventListener("test",St,St),window.removeEventListener("test",St,St)}catch{tc=!1}var Di=null,Dh=null,nc=null;function Ph(){if(nc)return nc;var a,c=Dh,h=c.length,g,b="value"in Di?Di.value:Di.textContent,E=b.length;for(a=0;a<h&&c[a]===b[a];a++);var k=h-a;for(g=1;g<=k&&c[h-g]===b[E-g];g++);return nc=b.slice(a,1<g?1-g:void 0)}function sc(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function wo(){return!0}function Qr(){return!1}function Yn(a){function c(h,g,b,E,k){this._reactName=h,this._targetInst=b,this.type=g,this.nativeEvent=E,this.target=k,this.currentTarget=null;for(var j in a)a.hasOwnProperty(j)&&(h=a[j],this[j]=h?h(E):E[j]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?wo:Qr,this.isPropagationStopped=Qr,this}return p(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=wo)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=wo)},persist:function(){},isPersistent:wo}),c}var Eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pi=Yn(Eo),ba=p({},Eo,{view:0,detail:0}),Oh=Yn(ba),wa,_u,Oi,Au=p({},ba,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ea,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Oi&&(Oi&&a.type==="mousemove"?(wa=a.screenX-Oi.screenX,_u=a.screenY-Oi.screenY):_u=wa=0,Oi=a),wa)},movementY:function(a){return"movementY"in a?a.movementY:_u}}),jh=Yn(Au),rc=p({},Au,{dataTransfer:0}),Om=Yn(rc),jm=p({},ba,{relatedTarget:0}),ic=Yn(jm),Lh=p({},Eo,{animationName:0,elapsedTime:0,pseudoElement:0}),Lm=Yn(Lh),Cu=p({},Eo,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Vm=Yn(Cu),zm=p({},Eo,{data:0}),ji=Yn(zm),Bm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Um={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hm(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=Fm[a])?!!c[a]:!1}function Ea(){return Hm}var Ms=p({},ba,{key:function(a){if(a.key){var c=Bm[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=sc(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Um[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ea,charCode:function(a){return a.type==="keypress"?sc(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?sc(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),$m=Yn(Ms),qm=p({},Au,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),So=Yn(qm),v=p({},ba,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ea}),C=Yn(v),M=p({},Eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),V=Yn(M),Q=p({},Au,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),te=Yn(Q),ye=p({},Eo,{newState:0,oldState:0}),Ke=Yn(ye),rn=[9,13,27,32],pt=kr&&"CompositionEvent"in window,Ut=null;kr&&"documentMode"in document&&(Ut=document.documentMode);var Nr=kr&&"TextEvent"in window&&!Ut,Li=kr&&(!pt||Ut&&8<Ut&&11>=Ut),Jr=" ",Zr=!1;function oc(a,c){switch(a){case"keyup":return rn.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ku(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Nu=!1;function d7(a,c){switch(a){case"compositionend":return ku(c);case"keypress":return c.which!==32?null:(Zr=!0,Jr);case"textInput":return a=c.data,a===Jr&&Zr?null:a;default:return null}}function h7(a,c){if(Nu)return a==="compositionend"||!pt&&oc(a,c)?(a=Ph(),nc=Dh=Di=null,Nu=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Li&&c.locale!=="ko"?null:c.data;default:return null}}var f7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yA(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!f7[a.type]:c==="textarea"}function xA(a,c,h,g){xa?Ii?Ii.push(g):Ii=[g]:xa=g,c=Pg(c,"onChange"),0<c.length&&(h=new Pi("onChange","change",null,h,g),a.push({event:h,listeners:c}))}var Vh=null,zh=null;function p7(a){eN(a,0)}function Wm(a){var c=or(a);if(Jl(c))return a}function vA(a,c){if(a==="change")return c}var bA=!1;if(kr){var Xv;if(kr){var Qv="oninput"in document;if(!Qv){var wA=document.createElement("div");wA.setAttribute("oninput","return;"),Qv=typeof wA.oninput=="function"}Xv=Qv}else Xv=!1;bA=Xv&&(!document.documentMode||9<document.documentMode)}function EA(){Vh&&(Vh.detachEvent("onpropertychange",SA),zh=Vh=null)}function SA(a){if(a.propertyName==="value"&&Wm(zh)){var c=[];xA(c,zh,a,Cr(a)),va(p7,c)}}function m7(a,c,h){a==="focusin"?(EA(),Vh=c,zh=h,Vh.attachEvent("onpropertychange",SA)):a==="focusout"&&EA()}function g7(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Wm(zh)}function y7(a,c){if(a==="click")return Wm(c)}function x7(a,c){if(a==="input"||a==="change")return Wm(c)}function v7(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var lr=typeof Object.is=="function"?Object.is:v7;function Bh(a,c){if(lr(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var h=Object.keys(a),g=Object.keys(c);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var b=h[g];if(!Lt.call(c,b)||!lr(a[b],c[b]))return!1}return!0}function TA(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function _A(a,c){var h=TA(a);a=0;for(var g;h;){if(h.nodeType===3){if(g=a+h.textContent.length,a<=c&&g>=c)return{node:h,offset:c-a};a=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=TA(h)}}function AA(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?AA(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function CA(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var c=Mi(a.document);c instanceof a.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)a=c.contentWindow;else break;c=Mi(a.document)}return c}function Jv(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}var b7=kr&&"documentMode"in document&&11>=document.documentMode,Ru=null,Zv=null,Uh=null,e1=!1;function kA(a,c,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;e1||Ru==null||Ru!==Mi(g)||(g=Ru,"selectionStart"in g&&Jv(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Uh&&Bh(Uh,g)||(Uh=g,g=Pg(Zv,"onSelect"),0<g.length&&(c=new Pi("onSelect","select",null,c,h),a.push({event:c,listeners:g}),c.target=Ru)))}function ac(a,c){var h={};return h[a.toLowerCase()]=c.toLowerCase(),h["Webkit"+a]="webkit"+c,h["Moz"+a]="moz"+c,h}var Mu={animationend:ac("Animation","AnimationEnd"),animationiteration:ac("Animation","AnimationIteration"),animationstart:ac("Animation","AnimationStart"),transitionrun:ac("Transition","TransitionRun"),transitionstart:ac("Transition","TransitionStart"),transitioncancel:ac("Transition","TransitionCancel"),transitionend:ac("Transition","TransitionEnd")},t1={},NA={};kr&&(NA=document.createElement("div").style,"AnimationEvent"in window||(delete Mu.animationend.animation,delete Mu.animationiteration.animation,delete Mu.animationstart.animation),"TransitionEvent"in window||delete Mu.transitionend.transition);function lc(a){if(t1[a])return t1[a];if(!Mu[a])return a;var c=Mu[a],h;for(h in c)if(c.hasOwnProperty(h)&&h in NA)return t1[a]=c[h];return a}var RA=lc("animationend"),MA=lc("animationiteration"),IA=lc("animationstart"),w7=lc("transitionrun"),E7=lc("transitionstart"),S7=lc("transitioncancel"),DA=lc("transitionend"),PA=new Map,n1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");n1.push("scrollEnd");function ei(a,c){PA.set(a,c),Ni(c,[a])}var Km=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Rr=[],Iu=0,s1=0;function Gm(){for(var a=Iu,c=s1=Iu=0;c<a;){var h=Rr[c];Rr[c++]=null;var g=Rr[c];Rr[c++]=null;var b=Rr[c];Rr[c++]=null;var E=Rr[c];if(Rr[c++]=null,g!==null&&b!==null){var k=g.pending;k===null?b.next=b:(b.next=k.next,k.next=b),g.pending=b}E!==0&&OA(h,b,E)}}function Ym(a,c,h,g){Rr[Iu++]=a,Rr[Iu++]=c,Rr[Iu++]=h,Rr[Iu++]=g,s1|=g,a.lanes|=g,a=a.alternate,a!==null&&(a.lanes|=g)}function r1(a,c,h,g){return Ym(a,c,h,g),Xm(a)}function cc(a,c){return Ym(a,null,null,c),Xm(a)}function OA(a,c,h){a.lanes|=h;var g=a.alternate;g!==null&&(g.lanes|=h);for(var b=!1,E=a.return;E!==null;)E.childLanes|=h,g=E.alternate,g!==null&&(g.childLanes|=h),E.tag===22&&(a=E.stateNode,a===null||a._visibility&1||(b=!0)),a=E,E=E.return;return a.tag===3?(E=a.stateNode,b&&c!==null&&(b=31-Vt(h),a=E.hiddenUpdates,g=a[b],g===null?a[b]=[c]:g.push(c),c.lane=h|536870912),E):null}function Xm(a){if(50<uf)throw uf=0,fb=null,Error(s(185));for(var c=a.return;c!==null;)a=c,c=a.return;return a.tag===3?a.stateNode:null}var Du={};function T7(a,c,h,g){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cr(a,c,h,g){return new T7(a,c,h,g)}function i1(a){return a=a.prototype,!(!a||!a.isReactComponent)}function To(a,c){var h=a.alternate;return h===null?(h=cr(a.tag,c,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=c,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&65011712,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,c=a.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h.refCleanup=a.refCleanup,h}function jA(a,c){a.flags&=65011714;var h=a.alternate;return h===null?(a.childLanes=0,a.lanes=c,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=h.childLanes,a.lanes=h.lanes,a.child=h.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=h.memoizedProps,a.memoizedState=h.memoizedState,a.updateQueue=h.updateQueue,a.type=h.type,c=h.dependencies,a.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),a}function Qm(a,c,h,g,b,E){var k=0;if(g=a,typeof a=="function")i1(a)&&(k=1);else if(typeof a=="string")k=N8(a,h,pe.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case D:return a=cr(31,h,c,b),a.elementType=D,a.lanes=E,a;case T:return uc(h.children,b,E,c);case S:k=8,b|=24;break;case A:return a=cr(12,h,c,b|2),a.elementType=A,a.lanes=E,a;case L:return a=cr(13,h,c,b),a.elementType=L,a.lanes=E,a;case F:return a=cr(19,h,c,b),a.elementType=F,a.lanes=E,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case P:k=10;break e;case N:k=9;break e;case O:k=11;break e;case I:k=14;break e;case R:k=16,g=null;break e}k=29,h=Error(s(130,a===null?"null":typeof a,"")),g=null}return c=cr(k,h,c,b),c.elementType=a,c.type=g,c.lanes=E,c}function uc(a,c,h,g){return a=cr(7,a,g,c),a.lanes=h,a}function o1(a,c,h){return a=cr(6,a,null,c),a.lanes=h,a}function LA(a){var c=cr(18,null,null,0);return c.stateNode=a,c}function a1(a,c,h){return c=cr(4,a.children!==null?a.children:[],a.key,c),c.lanes=h,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}var VA=new WeakMap;function Mr(a,c){if(typeof a=="object"&&a!==null){var h=VA.get(a);return h!==void 0?h:(c={value:a,source:c,stack:ha(c)},VA.set(a,c),c)}return{value:a,source:c,stack:ha(c)}}var Pu=[],Ou=0,Jm=null,Fh=0,Ir=[],Dr=0,Sa=null,Vi=1,zi="";function _o(a,c){Pu[Ou++]=Fh,Pu[Ou++]=Jm,Jm=a,Fh=c}function zA(a,c,h){Ir[Dr++]=Vi,Ir[Dr++]=zi,Ir[Dr++]=Sa,Sa=a;var g=Vi;a=zi;var b=32-Vt(g)-1;g&=~(1<<b),h+=1;var E=32-Vt(c)+b;if(30<E){var k=b-b%5;E=(g&(1<<k)-1).toString(32),g>>=k,b-=k,Vi=1<<32-Vt(c)+b|h<<b|g,zi=E+a}else Vi=1<<E|h<<b|g,zi=a}function l1(a){a.return!==null&&(_o(a,1),zA(a,1,0))}function c1(a){for(;a===Jm;)Jm=Pu[--Ou],Pu[Ou]=null,Fh=Pu[--Ou],Pu[Ou]=null;for(;a===Sa;)Sa=Ir[--Dr],Ir[Dr]=null,zi=Ir[--Dr],Ir[Dr]=null,Vi=Ir[--Dr],Ir[Dr]=null}function BA(a,c){Ir[Dr++]=Vi,Ir[Dr++]=zi,Ir[Dr++]=Sa,Vi=c.id,zi=c.overflow,Sa=a}var Xn=null,Dt=null,ct=!1,Ta=null,Pr=!1,u1=Error(s(519));function _a(a){var c=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Hh(Mr(c,a)),u1}function UA(a){var c=a.stateNode,h=a.type,g=a.memoizedProps;switch(c[pn]=a,c[Bn]=g,h){case"dialog":st("cancel",c),st("close",c);break;case"iframe":case"object":case"embed":st("load",c);break;case"video":case"audio":for(h=0;h<hf.length;h++)st(hf[h],c);break;case"source":st("error",c);break;case"img":case"image":case"link":st("error",c),st("load",c);break;case"details":st("toggle",c);break;case"input":st("invalid",c),Mm(c,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":st("invalid",c);break;case"textarea":st("invalid",c),ga(c,g.value,g.defaultValue,g.children)}h=g.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||c.textContent===""+h||g.suppressHydrationWarning===!0||rN(c.textContent,h)?(g.popover!=null&&(st("beforetoggle",c),st("toggle",c)),g.onScroll!=null&&st("scroll",c),g.onScrollEnd!=null&&st("scrollend",c),g.onClick!=null&&(c.onclick=Yr),c=!0):c=!1,c||_a(a,!0)}function FA(a){for(Xn=a.return;Xn;)switch(Xn.tag){case 5:case 31:case 13:Pr=!1;return;case 27:case 3:Pr=!0;return;default:Xn=Xn.return}}function ju(a){if(a!==Xn)return!1;if(!ct)return FA(a),ct=!0,!1;var c=a.tag,h;if((h=c!==3&&c!==27)&&((h=c===5)&&(h=a.type,h=!(h!=="form"&&h!=="button")||kb(a.type,a.memoizedProps)),h=!h),h&&Dt&&_a(a),FA(a),c===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(s(317));Dt=fN(a)}else if(c===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(s(317));Dt=fN(a)}else c===27?(c=Dt,za(a.type)?(a=Db,Db=null,Dt=a):Dt=c):Dt=Xn?jr(a.stateNode.nextSibling):null;return!0}function dc(){Dt=Xn=null,ct=!1}function d1(){var a=Ta;return a!==null&&(Ws===null?Ws=a:Ws.push.apply(Ws,a),Ta=null),a}function Hh(a){Ta===null?Ta=[a]:Ta.push(a)}var h1=q(null),hc=null,Ao=null;function Aa(a,c,h){ue(h1,c._currentValue),c._currentValue=h}function Co(a){a._currentValue=h1.current,se(h1)}function f1(a,c,h){for(;a!==null;){var g=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),a===h)break;a=a.return}}function p1(a,c,h,g){var b=a.child;for(b!==null&&(b.return=a);b!==null;){var E=b.dependencies;if(E!==null){var k=b.child;E=E.firstContext;e:for(;E!==null;){var j=E;E=b;for(var $=0;$<c.length;$++)if(j.context===c[$]){E.lanes|=h,j=E.alternate,j!==null&&(j.lanes|=h),f1(E.return,h,a),g||(k=null);break e}E=j.next}}else if(b.tag===18){if(k=b.return,k===null)throw Error(s(341));k.lanes|=h,E=k.alternate,E!==null&&(E.lanes|=h),f1(k,h,a),k=null}else k=b.child;if(k!==null)k.return=b;else for(k=b;k!==null;){if(k===a){k=null;break}if(b=k.sibling,b!==null){b.return=k.return,k=b;break}k=k.return}b=k}}function Lu(a,c,h,g){a=null;for(var b=c,E=!1;b!==null;){if(!E){if((b.flags&524288)!==0)E=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var k=b.alternate;if(k===null)throw Error(s(387));if(k=k.memoizedProps,k!==null){var j=b.type;lr(b.pendingProps.value,k.value)||(a!==null?a.push(j):a=[j])}}else if(b===de.current){if(k=b.alternate,k===null)throw Error(s(387));k.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(a!==null?a.push(yf):a=[yf])}b=b.return}a!==null&&p1(c,a,h,g),c.flags|=262144}function Zm(a){for(a=a.firstContext;a!==null;){if(!lr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function fc(a){hc=a,Ao=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Qn(a){return HA(hc,a)}function eg(a,c){return hc===null&&fc(a),HA(a,c)}function HA(a,c){var h=c._currentValue;if(c={context:c,memoizedValue:h,next:null},Ao===null){if(a===null)throw Error(s(308));Ao=c,a.dependencies={lanes:0,firstContext:c},a.flags|=524288}else Ao=Ao.next=c;return h}var _7=typeof AbortController<"u"?AbortController:function(){var a=[],c=this.signal={aborted:!1,addEventListener:function(h,g){a.push(g)}};this.abort=function(){c.aborted=!0,a.forEach(function(h){return h()})}},A7=t.unstable_scheduleCallback,C7=t.unstable_NormalPriority,yn={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function m1(){return{controller:new _7,data:new Map,refCount:0}}function $h(a){a.refCount--,a.refCount===0&&A7(C7,function(){a.controller.abort()})}var qh=null,g1=0,Vu=0,zu=null;function k7(a,c){if(qh===null){var h=qh=[];g1=0,Vu=vb(),zu={status:"pending",value:void 0,then:function(g){h.push(g)}}}return g1++,c.then($A,$A),c}function $A(){if(--g1===0&&qh!==null){zu!==null&&(zu.status="fulfilled");var a=qh;qh=null,Vu=0,zu=null;for(var c=0;c<a.length;c++)(0,a[c])()}}function N7(a,c){var h=[],g={status:"pending",value:null,reason:null,then:function(b){h.push(b)}};return a.then(function(){g.status="fulfilled",g.value=c;for(var b=0;b<h.length;b++)(0,h[b])(c)},function(b){for(g.status="rejected",g.reason=b,b=0;b<h.length;b++)(0,h[b])(void 0)}),g}var qA=K.S;K.S=function(a,c){kk=Vn(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&k7(a,c),qA!==null&&qA(a,c)};var pc=q(null);function y1(){var a=pc.current;return a!==null?a:Ct.pooledCache}function tg(a,c){c===null?ue(pc,pc.current):ue(pc,c.pool)}function WA(){var a=y1();return a===null?null:{parent:yn._currentValue,pool:a}}var Bu=Error(s(460)),x1=Error(s(474)),ng=Error(s(542)),sg={then:function(){}};function KA(a){return a=a.status,a==="fulfilled"||a==="rejected"}function GA(a,c,h){switch(h=a[h],h===void 0?a.push(c):h!==c&&(c.then(Yr,Yr),c=h),c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,XA(a),a;default:if(typeof c.status=="string")c.then(Yr,Yr);else{if(a=Ct,a!==null&&100<a.shellSuspendCounter)throw Error(s(482));a=c,a.status="pending",a.then(function(g){if(c.status==="pending"){var b=c;b.status="fulfilled",b.value=g}},function(g){if(c.status==="pending"){var b=c;b.status="rejected",b.reason=g}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,XA(a),a}throw gc=c,Bu}}function mc(a){try{var c=a._init;return c(a._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(gc=h,Bu):h}}var gc=null;function YA(){if(gc===null)throw Error(s(459));var a=gc;return gc=null,a}function XA(a){if(a===Bu||a===ng)throw Error(s(483))}var Uu=null,Wh=0;function rg(a){var c=Wh;return Wh+=1,Uu===null&&(Uu=[]),GA(Uu,a,c)}function Kh(a,c){c=c.props.ref,a.ref=c!==void 0?c:null}function ig(a,c){throw c.$$typeof===y?Error(s(525)):(a=Object.prototype.toString.call(c),Error(s(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a)))}function QA(a){function c(G,W){if(a){var J=G.deletions;J===null?(G.deletions=[W],G.flags|=16):J.push(W)}}function h(G,W){if(!a)return null;for(;W!==null;)c(G,W),W=W.sibling;return null}function g(G){for(var W=new Map;G!==null;)G.key!==null?W.set(G.key,G):W.set(G.index,G),G=G.sibling;return W}function b(G,W){return G=To(G,W),G.index=0,G.sibling=null,G}function E(G,W,J){return G.index=J,a?(J=G.alternate,J!==null?(J=J.index,J<W?(G.flags|=67108866,W):J):(G.flags|=67108866,W)):(G.flags|=1048576,W)}function k(G){return a&&G.alternate===null&&(G.flags|=67108866),G}function j(G,W,J,ie){return W===null||W.tag!==6?(W=o1(J,G.mode,ie),W.return=G,W):(W=b(W,J),W.return=G,W)}function $(G,W,J,ie){var Oe=J.type;return Oe===T?re(G,W,J.props.children,ie,J.key):W!==null&&(W.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===R&&mc(Oe)===W.type)?(W=b(W,J.props),Kh(W,J),W.return=G,W):(W=Qm(J.type,J.key,J.props,null,G.mode,ie),Kh(W,J),W.return=G,W)}function Z(G,W,J,ie){return W===null||W.tag!==4||W.stateNode.containerInfo!==J.containerInfo||W.stateNode.implementation!==J.implementation?(W=a1(J,G.mode,ie),W.return=G,W):(W=b(W,J.children||[]),W.return=G,W)}function re(G,W,J,ie,Oe){return W===null||W.tag!==7?(W=uc(J,G.mode,ie,Oe),W.return=G,W):(W=b(W,J),W.return=G,W)}function ae(G,W,J){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=o1(""+W,G.mode,J),W.return=G,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case x:return J=Qm(W.type,W.key,W.props,null,G.mode,J),Kh(J,W),J.return=G,J;case w:return W=a1(W,G.mode,J),W.return=G,W;case R:return W=mc(W),ae(G,W,J)}if(ce(W)||H(W))return W=uc(W,G.mode,J,null),W.return=G,W;if(typeof W.then=="function")return ae(G,rg(W),J);if(W.$$typeof===P)return ae(G,eg(G,W),J);ig(G,W)}return null}function ee(G,W,J,ie){var Oe=W!==null?W.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Oe!==null?null:j(G,W,""+J,ie);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case x:return J.key===Oe?$(G,W,J,ie):null;case w:return J.key===Oe?Z(G,W,J,ie):null;case R:return J=mc(J),ee(G,W,J,ie)}if(ce(J)||H(J))return Oe!==null?null:re(G,W,J,ie,null);if(typeof J.then=="function")return ee(G,W,rg(J),ie);if(J.$$typeof===P)return ee(G,W,eg(G,J),ie);ig(G,J)}return null}function ne(G,W,J,ie,Oe){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return G=G.get(J)||null,j(W,G,""+ie,Oe);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case x:return G=G.get(ie.key===null?J:ie.key)||null,$(W,G,ie,Oe);case w:return G=G.get(ie.key===null?J:ie.key)||null,Z(W,G,ie,Oe);case R:return ie=mc(ie),ne(G,W,J,ie,Oe)}if(ce(ie)||H(ie))return G=G.get(J)||null,re(W,G,ie,Oe,null);if(typeof ie.then=="function")return ne(G,W,J,rg(ie),Oe);if(ie.$$typeof===P)return ne(G,W,J,eg(W,ie),Oe);ig(W,ie)}return null}function _e(G,W,J,ie){for(var Oe=null,ht=null,Re=W,Xe=W=0,it=null;Re!==null&&Xe<J.length;Xe++){Re.index>Xe?(it=Re,Re=null):it=Re.sibling;var ft=ee(G,Re,J[Xe],ie);if(ft===null){Re===null&&(Re=it);break}a&&Re&&ft.alternate===null&&c(G,Re),W=E(ft,W,Xe),ht===null?Oe=ft:ht.sibling=ft,ht=ft,Re=it}if(Xe===J.length)return h(G,Re),ct&&_o(G,Xe),Oe;if(Re===null){for(;Xe<J.length;Xe++)Re=ae(G,J[Xe],ie),Re!==null&&(W=E(Re,W,Xe),ht===null?Oe=Re:ht.sibling=Re,ht=Re);return ct&&_o(G,Xe),Oe}for(Re=g(Re);Xe<J.length;Xe++)it=ne(Re,G,Xe,J[Xe],ie),it!==null&&(a&&it.alternate!==null&&Re.delete(it.key===null?Xe:it.key),W=E(it,W,Xe),ht===null?Oe=it:ht.sibling=it,ht=it);return a&&Re.forEach(function($a){return c(G,$a)}),ct&&_o(G,Xe),Oe}function ze(G,W,J,ie){if(J==null)throw Error(s(151));for(var Oe=null,ht=null,Re=W,Xe=W=0,it=null,ft=J.next();Re!==null&&!ft.done;Xe++,ft=J.next()){Re.index>Xe?(it=Re,Re=null):it=Re.sibling;var $a=ee(G,Re,ft.value,ie);if($a===null){Re===null&&(Re=it);break}a&&Re&&$a.alternate===null&&c(G,Re),W=E($a,W,Xe),ht===null?Oe=$a:ht.sibling=$a,ht=$a,Re=it}if(ft.done)return h(G,Re),ct&&_o(G,Xe),Oe;if(Re===null){for(;!ft.done;Xe++,ft=J.next())ft=ae(G,ft.value,ie),ft!==null&&(W=E(ft,W,Xe),ht===null?Oe=ft:ht.sibling=ft,ht=ft);return ct&&_o(G,Xe),Oe}for(Re=g(Re);!ft.done;Xe++,ft=J.next())ft=ne(Re,G,Xe,ft.value,ie),ft!==null&&(a&&ft.alternate!==null&&Re.delete(ft.key===null?Xe:ft.key),W=E(ft,W,Xe),ht===null?Oe=ft:ht.sibling=ft,ht=ft);return a&&Re.forEach(function(B8){return c(G,B8)}),ct&&_o(G,Xe),Oe}function At(G,W,J,ie){if(typeof J=="object"&&J!==null&&J.type===T&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case x:e:{for(var Oe=J.key;W!==null;){if(W.key===Oe){if(Oe=J.type,Oe===T){if(W.tag===7){h(G,W.sibling),ie=b(W,J.props.children),ie.return=G,G=ie;break e}}else if(W.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===R&&mc(Oe)===W.type){h(G,W.sibling),ie=b(W,J.props),Kh(ie,J),ie.return=G,G=ie;break e}h(G,W);break}else c(G,W);W=W.sibling}J.type===T?(ie=uc(J.props.children,G.mode,ie,J.key),ie.return=G,G=ie):(ie=Qm(J.type,J.key,J.props,null,G.mode,ie),Kh(ie,J),ie.return=G,G=ie)}return k(G);case w:e:{for(Oe=J.key;W!==null;){if(W.key===Oe)if(W.tag===4&&W.stateNode.containerInfo===J.containerInfo&&W.stateNode.implementation===J.implementation){h(G,W.sibling),ie=b(W,J.children||[]),ie.return=G,G=ie;break e}else{h(G,W);break}else c(G,W);W=W.sibling}ie=a1(J,G.mode,ie),ie.return=G,G=ie}return k(G);case R:return J=mc(J),At(G,W,J,ie)}if(ce(J))return _e(G,W,J,ie);if(H(J)){if(Oe=H(J),typeof Oe!="function")throw Error(s(150));return J=Oe.call(J),ze(G,W,J,ie)}if(typeof J.then=="function")return At(G,W,rg(J),ie);if(J.$$typeof===P)return At(G,W,eg(G,J),ie);ig(G,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,W!==null&&W.tag===6?(h(G,W.sibling),ie=b(W,J),ie.return=G,G=ie):(h(G,W),ie=o1(J,G.mode,ie),ie.return=G,G=ie),k(G)):h(G,W)}return function(G,W,J,ie){try{Wh=0;var Oe=At(G,W,J,ie);return Uu=null,Oe}catch(Re){if(Re===Bu||Re===ng)throw Re;var ht=cr(29,Re,null,G.mode);return ht.lanes=ie,ht.return=G,ht}}}var yc=QA(!0),JA=QA(!1),Ca=!1;function v1(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function b1(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function ka(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Na(a,c,h){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(mt&2)!==0){var b=g.pending;return b===null?c.next=c:(c.next=b.next,b.next=c),g.pending=c,c=Xm(a),OA(a,null,h),c}return Ym(a,g,c,h),Xm(a)}function Gh(a,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194048)!==0)){var g=c.lanes;g&=a.pendingLanes,h|=g,c.lanes=h,ps(a,h)}}function w1(a,c){var h=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var b=null,E=null;if(h=h.firstBaseUpdate,h!==null){do{var k={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};E===null?b=E=k:E=E.next=k,h=h.next}while(h!==null);E===null?b=E=c:E=E.next=c}else b=E=c;h={baseState:g.baseState,firstBaseUpdate:b,lastBaseUpdate:E,shared:g.shared,callbacks:g.callbacks},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=c}var E1=!1;function Yh(){if(E1){var a=zu;if(a!==null)throw a}}function Xh(a,c,h,g){E1=!1;var b=a.updateQueue;Ca=!1;var E=b.firstBaseUpdate,k=b.lastBaseUpdate,j=b.shared.pending;if(j!==null){b.shared.pending=null;var $=j,Z=$.next;$.next=null,k===null?E=Z:k.next=Z,k=$;var re=a.alternate;re!==null&&(re=re.updateQueue,j=re.lastBaseUpdate,j!==k&&(j===null?re.firstBaseUpdate=Z:j.next=Z,re.lastBaseUpdate=$))}if(E!==null){var ae=b.baseState;k=0,re=Z=$=null,j=E;do{var ee=j.lane&-536870913,ne=ee!==j.lane;if(ne?(rt&ee)===ee:(g&ee)===ee){ee!==0&&ee===Vu&&(E1=!0),re!==null&&(re=re.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var _e=a,ze=j;ee=c;var At=h;switch(ze.tag){case 1:if(_e=ze.payload,typeof _e=="function"){ae=_e.call(At,ae,ee);break e}ae=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=ze.payload,ee=typeof _e=="function"?_e.call(At,ae,ee):_e,ee==null)break e;ae=p({},ae,ee);break e;case 2:Ca=!0}}ee=j.callback,ee!==null&&(a.flags|=64,ne&&(a.flags|=8192),ne=b.callbacks,ne===null?b.callbacks=[ee]:ne.push(ee))}else ne={lane:ee,tag:j.tag,payload:j.payload,callback:j.callback,next:null},re===null?(Z=re=ne,$=ae):re=re.next=ne,k|=ee;if(j=j.next,j===null){if(j=b.shared.pending,j===null)break;ne=j,j=ne.next,ne.next=null,b.lastBaseUpdate=ne,b.shared.pending=null}}while(!0);re===null&&($=ae),b.baseState=$,b.firstBaseUpdate=Z,b.lastBaseUpdate=re,E===null&&(b.shared.lanes=0),Pa|=k,a.lanes=k,a.memoizedState=ae}}function ZA(a,c){if(typeof a!="function")throw Error(s(191,a));a.call(c)}function eC(a,c){var h=a.callbacks;if(h!==null)for(a.callbacks=null,a=0;a<h.length;a++)ZA(h[a],c)}var Fu=q(null),og=q(0);function tC(a,c){a=jo,ue(og,a),ue(Fu,c),jo=a|c.baseLanes}function S1(){ue(og,jo),ue(Fu,Fu.current)}function T1(){jo=og.current,se(Fu),se(og)}var ur=q(null),Or=null;function Ra(a){var c=a.alternate;ue(on,on.current&1),ue(ur,a),Or===null&&(c===null||Fu.current!==null||c.memoizedState!==null)&&(Or=a)}function _1(a){ue(on,on.current),ue(ur,a),Or===null&&(Or=a)}function nC(a){a.tag===22?(ue(on,on.current),ue(ur,a),Or===null&&(Or=a)):Ma()}function Ma(){ue(on,on.current),ue(ur,ur.current)}function dr(a){se(ur),Or===a&&(Or=null),se(on)}var on=q(0);function ag(a){for(var c=a;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||Mb(h)||Ib(h)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var ko=0,Ge=null,Tt=null,xn=null,lg=!1,Hu=!1,xc=!1,cg=0,Qh=0,$u=null,R7=0;function Yt(){throw Error(s(321))}function A1(a,c){if(c===null)return!1;for(var h=0;h<c.length&&h<a.length;h++)if(!lr(a[h],c[h]))return!1;return!0}function C1(a,c,h,g,b,E){return ko=E,Ge=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,K.H=a===null||a.memoizedState===null?zC:F1,xc=!1,E=h(g,b),xc=!1,Hu&&(E=rC(c,h,g,b)),sC(a),E}function sC(a){K.H=ef;var c=Tt!==null&&Tt.next!==null;if(ko=0,xn=Tt=Ge=null,lg=!1,Qh=0,$u=null,c)throw Error(s(300));a===null||vn||(a=a.dependencies,a!==null&&Zm(a)&&(vn=!0))}function rC(a,c,h,g){Ge=a;var b=0;do{if(Hu&&($u=null),Qh=0,Hu=!1,25<=b)throw Error(s(301));if(b+=1,xn=Tt=null,a.updateQueue!=null){var E=a.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}K.H=BC,E=c(h,g)}while(Hu);return E}function M7(){var a=K.H,c=a.useState()[0];return c=typeof c.then=="function"?Jh(c):c,a=a.useState()[0],(Tt!==null?Tt.memoizedState:null)!==a&&(Ge.flags|=1024),c}function k1(){var a=cg!==0;return cg=0,a}function N1(a,c,h){c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~h}function R1(a){if(lg){for(a=a.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}lg=!1}ko=0,xn=Tt=Ge=null,Hu=!1,Qh=cg=0,$u=null}function Is(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?Ge.memoizedState=xn=a:xn=xn.next=a,xn}function an(){if(Tt===null){var a=Ge.alternate;a=a!==null?a.memoizedState:null}else a=Tt.next;var c=xn===null?Ge.memoizedState:xn.next;if(c!==null)xn=c,Tt=a;else{if(a===null)throw Ge.alternate===null?Error(s(467)):Error(s(310));Tt=a,a={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},xn===null?Ge.memoizedState=xn=a:xn=xn.next=a}return xn}function ug(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jh(a){var c=Qh;return Qh+=1,$u===null&&($u=[]),a=GA($u,a,c),c=Ge,(xn===null?c.memoizedState:xn.next)===null&&(c=c.alternate,K.H=c===null||c.memoizedState===null?zC:F1),a}function dg(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Jh(a);if(a.$$typeof===P)return Qn(a)}throw Error(s(438,String(a)))}function M1(a){var c=null,h=Ge.updateQueue;if(h!==null&&(c=h.memoCache),c==null){var g=Ge.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(c={data:g.data.map(function(b){return b.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),h===null&&(h=ug(),Ge.updateQueue=h),h.memoCache=c,h=c.data[c.index],h===void 0)for(h=c.data[c.index]=Array(a),g=0;g<a;g++)h[g]=z;return c.index++,h}function No(a,c){return typeof c=="function"?c(a):c}function hg(a){var c=an();return I1(c,Tt,a)}function I1(a,c,h){var g=a.queue;if(g===null)throw Error(s(311));g.lastRenderedReducer=h;var b=a.baseQueue,E=g.pending;if(E!==null){if(b!==null){var k=b.next;b.next=E.next,E.next=k}c.baseQueue=b=E,g.pending=null}if(E=a.baseState,b===null)a.memoizedState=E;else{c=b.next;var j=k=null,$=null,Z=c,re=!1;do{var ae=Z.lane&-536870913;if(ae!==Z.lane?(rt&ae)===ae:(ko&ae)===ae){var ee=Z.revertLane;if(ee===0)$!==null&&($=$.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ae===Vu&&(re=!0);else if((ko&ee)===ee){Z=Z.next,ee===Vu&&(re=!0);continue}else ae={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},$===null?(j=$=ae,k=E):$=$.next=ae,Ge.lanes|=ee,Pa|=ee;ae=Z.action,xc&&h(E,ae),E=Z.hasEagerState?Z.eagerState:h(E,ae)}else ee={lane:ae,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},$===null?(j=$=ee,k=E):$=$.next=ee,Ge.lanes|=ae,Pa|=ae;Z=Z.next}while(Z!==null&&Z!==c);if($===null?k=E:$.next=j,!lr(E,a.memoizedState)&&(vn=!0,re&&(h=zu,h!==null)))throw h;a.memoizedState=E,a.baseState=k,a.baseQueue=$,g.lastRenderedState=E}return b===null&&(g.lanes=0),[a.memoizedState,g.dispatch]}function D1(a){var c=an(),h=c.queue;if(h===null)throw Error(s(311));h.lastRenderedReducer=a;var g=h.dispatch,b=h.pending,E=c.memoizedState;if(b!==null){h.pending=null;var k=b=b.next;do E=a(E,k.action),k=k.next;while(k!==b);lr(E,c.memoizedState)||(vn=!0),c.memoizedState=E,c.baseQueue===null&&(c.baseState=E),h.lastRenderedState=E}return[E,g]}function iC(a,c,h){var g=Ge,b=an(),E=ct;if(E){if(h===void 0)throw Error(s(407));h=h()}else h=c();var k=!lr((Tt||b).memoizedState,h);if(k&&(b.memoizedState=h,vn=!0),b=b.queue,j1(lC.bind(null,g,b,a),[a]),b.getSnapshot!==c||k||xn!==null&&xn.memoizedState.tag&1){if(g.flags|=2048,qu(9,{destroy:void 0},aC.bind(null,g,b,h,c),null),Ct===null)throw Error(s(349));E||(ko&127)!==0||oC(g,c,h)}return h}function oC(a,c,h){a.flags|=16384,a={getSnapshot:c,value:h},c=Ge.updateQueue,c===null?(c=ug(),Ge.updateQueue=c,c.stores=[a]):(h=c.stores,h===null?c.stores=[a]:h.push(a))}function aC(a,c,h,g){c.value=h,c.getSnapshot=g,cC(c)&&uC(a)}function lC(a,c,h){return h(function(){cC(c)&&uC(a)})}function cC(a){var c=a.getSnapshot;a=a.value;try{var h=c();return!lr(a,h)}catch{return!0}}function uC(a){var c=cc(a,2);c!==null&&Ks(c,a,2)}function P1(a){var c=Is();if(typeof a=="function"){var h=a;if(a=h(),xc){ds(!0);try{h()}finally{ds(!1)}}}return c.memoizedState=c.baseState=a,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:a},c}function dC(a,c,h,g){return a.baseState=h,I1(a,Tt,typeof g=="function"?g:No)}function I7(a,c,h,g,b){if(mg(a))throw Error(s(485));if(a=c.action,a!==null){var E={payload:b,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){E.listeners.push(k)}};K.T!==null?h(!0):E.isTransition=!1,g(E),h=c.pending,h===null?(E.next=c.pending=E,hC(c,E)):(E.next=h.next,c.pending=h.next=E)}}function hC(a,c){var h=c.action,g=c.payload,b=a.state;if(c.isTransition){var E=K.T,k={};K.T=k;try{var j=h(b,g),$=K.S;$!==null&&$(k,j),fC(a,c,j)}catch(Z){O1(a,c,Z)}finally{E!==null&&k.types!==null&&(E.types=k.types),K.T=E}}else try{E=h(b,g),fC(a,c,E)}catch(Z){O1(a,c,Z)}}function fC(a,c,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(g){pC(a,c,g)},function(g){return O1(a,c,g)}):pC(a,c,h)}function pC(a,c,h){c.status="fulfilled",c.value=h,mC(c),a.state=h,c=a.pending,c!==null&&(h=c.next,h===c?a.pending=null:(h=h.next,c.next=h,hC(a,h)))}function O1(a,c,h){var g=a.pending;if(a.pending=null,g!==null){g=g.next;do c.status="rejected",c.reason=h,mC(c),c=c.next;while(c!==g)}a.action=null}function mC(a){a=a.listeners;for(var c=0;c<a.length;c++)(0,a[c])()}function gC(a,c){return c}function yC(a,c){if(ct){var h=Ct.formState;if(h!==null){e:{var g=Ge;if(ct){if(Dt){t:{for(var b=Dt,E=Pr;b.nodeType!==8;){if(!E){b=null;break t}if(b=jr(b.nextSibling),b===null){b=null;break t}}E=b.data,b=E==="F!"||E==="F"?b:null}if(b){Dt=jr(b.nextSibling),g=b.data==="F!";break e}}_a(g)}g=!1}g&&(c=h[0])}}return h=Is(),h.memoizedState=h.baseState=c,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gC,lastRenderedState:c},h.queue=g,h=jC.bind(null,Ge,g),g.dispatch=h,g=P1(!1),E=U1.bind(null,Ge,!1,g.queue),g=Is(),b={state:c,dispatch:null,action:a,pending:null},g.queue=b,h=I7.bind(null,Ge,b,E,h),b.dispatch=h,g.memoizedState=a,[c,h,!1]}function xC(a){var c=an();return vC(c,Tt,a)}function vC(a,c,h){if(c=I1(a,c,gC)[0],a=hg(No)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var g=Jh(c)}catch(k){throw k===Bu?ng:k}else g=c;c=an();var b=c.queue,E=b.dispatch;return h!==c.memoizedState&&(Ge.flags|=2048,qu(9,{destroy:void 0},D7.bind(null,b,h),null)),[g,E,a]}function D7(a,c){a.action=c}function bC(a){var c=an(),h=Tt;if(h!==null)return vC(c,h,a);an(),c=c.memoizedState,h=an();var g=h.queue.dispatch;return h.memoizedState=a,[c,g,!1]}function qu(a,c,h,g){return a={tag:a,create:h,deps:g,inst:c,next:null},c=Ge.updateQueue,c===null&&(c=ug(),Ge.updateQueue=c),h=c.lastEffect,h===null?c.lastEffect=a.next=a:(g=h.next,h.next=a,a.next=g,c.lastEffect=a),a}function wC(){return an().memoizedState}function fg(a,c,h,g){var b=Is();Ge.flags|=a,b.memoizedState=qu(1|c,{destroy:void 0},h,g===void 0?null:g)}function pg(a,c,h,g){var b=an();g=g===void 0?null:g;var E=b.memoizedState.inst;Tt!==null&&g!==null&&A1(g,Tt.memoizedState.deps)?b.memoizedState=qu(c,E,h,g):(Ge.flags|=a,b.memoizedState=qu(1|c,E,h,g))}function EC(a,c){fg(8390656,8,a,c)}function j1(a,c){pg(2048,8,a,c)}function P7(a){Ge.flags|=4;var c=Ge.updateQueue;if(c===null)c=ug(),Ge.updateQueue=c,c.events=[a];else{var h=c.events;h===null?c.events=[a]:h.push(a)}}function SC(a){var c=an().memoizedState;return P7({ref:c,nextImpl:a}),function(){if((mt&2)!==0)throw Error(s(440));return c.impl.apply(void 0,arguments)}}function TC(a,c){return pg(4,2,a,c)}function _C(a,c){return pg(4,4,a,c)}function AC(a,c){if(typeof c=="function"){a=a();var h=c(a);return function(){typeof h=="function"?h():c(null)}}if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function CC(a,c,h){h=h!=null?h.concat([a]):null,pg(4,4,AC.bind(null,c,a),h)}function L1(){}function kC(a,c){var h=an();c=c===void 0?null:c;var g=h.memoizedState;return c!==null&&A1(c,g[1])?g[0]:(h.memoizedState=[a,c],a)}function NC(a,c){var h=an();c=c===void 0?null:c;var g=h.memoizedState;if(c!==null&&A1(c,g[1]))return g[0];if(g=a(),xc){ds(!0);try{a()}finally{ds(!1)}}return h.memoizedState=[g,c],g}function V1(a,c,h){return h===void 0||(ko&1073741824)!==0&&(rt&261930)===0?a.memoizedState=c:(a.memoizedState=h,a=Rk(),Ge.lanes|=a,Pa|=a,h)}function RC(a,c,h,g){return lr(h,c)?h:Fu.current!==null?(a=V1(a,h,g),lr(a,c)||(vn=!0),a):(ko&42)===0||(ko&1073741824)!==0&&(rt&261930)===0?(vn=!0,a.memoizedState=h):(a=Rk(),Ge.lanes|=a,Pa|=a,c)}function MC(a,c,h,g,b){var E=X.p;X.p=E!==0&&8>E?E:8;var k=K.T,j={};K.T=j,U1(a,!1,c,h);try{var $=b(),Z=K.S;if(Z!==null&&Z(j,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var re=N7($,g);Zh(a,c,re,pr(a))}else Zh(a,c,g,pr(a))}catch(ae){Zh(a,c,{then:function(){},status:"rejected",reason:ae},pr())}finally{X.p=E,k!==null&&j.types!==null&&(k.types=j.types),K.T=k}}function O7(){}function z1(a,c,h,g){if(a.tag!==5)throw Error(s(476));var b=IC(a).queue;MC(a,b,c,Y,h===null?O7:function(){return DC(a),h(g)})}function IC(a){var c=a.memoizedState;if(c!==null)return c;c={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:Y},next:null};var h={};return c.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:h},next:null},a.memoizedState=c,a=a.alternate,a!==null&&(a.memoizedState=c),c}function DC(a){var c=IC(a);c.next===null&&(c=a.alternate.memoizedState),Zh(a,c.next.queue,{},pr())}function B1(){return Qn(yf)}function PC(){return an().memoizedState}function OC(){return an().memoizedState}function j7(a){for(var c=a.return;c!==null;){switch(c.tag){case 24:case 3:var h=pr();a=ka(h);var g=Na(c,a,h);g!==null&&(Ks(g,c,h),Gh(g,c,h)),c={cache:m1()},a.payload=c;return}c=c.return}}function L7(a,c,h){var g=pr();h={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},mg(a)?LC(c,h):(h=r1(a,c,h,g),h!==null&&(Ks(h,a,g),VC(h,c,g)))}function jC(a,c,h){var g=pr();Zh(a,c,h,g)}function Zh(a,c,h,g){var b={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(mg(a))LC(c,b);else{var E=a.alternate;if(a.lanes===0&&(E===null||E.lanes===0)&&(E=c.lastRenderedReducer,E!==null))try{var k=c.lastRenderedState,j=E(k,h);if(b.hasEagerState=!0,b.eagerState=j,lr(j,k))return Ym(a,c,b,0),Ct===null&&Gm(),!1}catch{}if(h=r1(a,c,b,g),h!==null)return Ks(h,a,g),VC(h,c,g),!0}return!1}function U1(a,c,h,g){if(g={lane:2,revertLane:vb(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},mg(a)){if(c)throw Error(s(479))}else c=r1(a,h,g,2),c!==null&&Ks(c,a,2)}function mg(a){var c=a.alternate;return a===Ge||c!==null&&c===Ge}function LC(a,c){Hu=lg=!0;var h=a.pending;h===null?c.next=c:(c.next=h.next,h.next=c),a.pending=c}function VC(a,c,h){if((h&4194048)!==0){var g=c.lanes;g&=a.pendingLanes,h|=g,c.lanes=h,ps(a,h)}}var ef={readContext:Qn,use:dg,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useLayoutEffect:Yt,useInsertionEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useSyncExternalStore:Yt,useId:Yt,useHostTransitionStatus:Yt,useFormState:Yt,useActionState:Yt,useOptimistic:Yt,useMemoCache:Yt,useCacheRefresh:Yt};ef.useEffectEvent=Yt;var zC={readContext:Qn,use:dg,useCallback:function(a,c){return Is().memoizedState=[a,c===void 0?null:c],a},useContext:Qn,useEffect:EC,useImperativeHandle:function(a,c,h){h=h!=null?h.concat([a]):null,fg(4194308,4,AC.bind(null,c,a),h)},useLayoutEffect:function(a,c){return fg(4194308,4,a,c)},useInsertionEffect:function(a,c){fg(4,2,a,c)},useMemo:function(a,c){var h=Is();c=c===void 0?null:c;var g=a();if(xc){ds(!0);try{a()}finally{ds(!1)}}return h.memoizedState=[g,c],g},useReducer:function(a,c,h){var g=Is();if(h!==void 0){var b=h(c);if(xc){ds(!0);try{h(c)}finally{ds(!1)}}}else b=c;return g.memoizedState=g.baseState=b,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b},g.queue=a,a=a.dispatch=L7.bind(null,Ge,a),[g.memoizedState,a]},useRef:function(a){var c=Is();return a={current:a},c.memoizedState=a},useState:function(a){a=P1(a);var c=a.queue,h=jC.bind(null,Ge,c);return c.dispatch=h,[a.memoizedState,h]},useDebugValue:L1,useDeferredValue:function(a,c){var h=Is();return V1(h,a,c)},useTransition:function(){var a=P1(!1);return a=MC.bind(null,Ge,a.queue,!0,!1),Is().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,c,h){var g=Ge,b=Is();if(ct){if(h===void 0)throw Error(s(407));h=h()}else{if(h=c(),Ct===null)throw Error(s(349));(rt&127)!==0||oC(g,c,h)}b.memoizedState=h;var E={value:h,getSnapshot:c};return b.queue=E,EC(lC.bind(null,g,E,a),[a]),g.flags|=2048,qu(9,{destroy:void 0},aC.bind(null,g,E,h,c),null),h},useId:function(){var a=Is(),c=Ct.identifierPrefix;if(ct){var h=zi,g=Vi;h=(g&~(1<<32-Vt(g)-1)).toString(32)+h,c="_"+c+"R_"+h,h=cg++,0<h&&(c+="H"+h.toString(32)),c+="_"}else h=R7++,c="_"+c+"r_"+h.toString(32)+"_";return a.memoizedState=c},useHostTransitionStatus:B1,useFormState:yC,useActionState:yC,useOptimistic:function(a){var c=Is();c.memoizedState=c.baseState=a;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=h,c=U1.bind(null,Ge,!0,h),h.dispatch=c,[a,c]},useMemoCache:M1,useCacheRefresh:function(){return Is().memoizedState=j7.bind(null,Ge)},useEffectEvent:function(a){var c=Is(),h={impl:a};return c.memoizedState=h,function(){if((mt&2)!==0)throw Error(s(440));return h.impl.apply(void 0,arguments)}}},F1={readContext:Qn,use:dg,useCallback:kC,useContext:Qn,useEffect:j1,useImperativeHandle:CC,useInsertionEffect:TC,useLayoutEffect:_C,useMemo:NC,useReducer:hg,useRef:wC,useState:function(){return hg(No)},useDebugValue:L1,useDeferredValue:function(a,c){var h=an();return RC(h,Tt.memoizedState,a,c)},useTransition:function(){var a=hg(No)[0],c=an().memoizedState;return[typeof a=="boolean"?a:Jh(a),c]},useSyncExternalStore:iC,useId:PC,useHostTransitionStatus:B1,useFormState:xC,useActionState:xC,useOptimistic:function(a,c){var h=an();return dC(h,Tt,a,c)},useMemoCache:M1,useCacheRefresh:OC};F1.useEffectEvent=SC;var BC={readContext:Qn,use:dg,useCallback:kC,useContext:Qn,useEffect:j1,useImperativeHandle:CC,useInsertionEffect:TC,useLayoutEffect:_C,useMemo:NC,useReducer:D1,useRef:wC,useState:function(){return D1(No)},useDebugValue:L1,useDeferredValue:function(a,c){var h=an();return Tt===null?V1(h,a,c):RC(h,Tt.memoizedState,a,c)},useTransition:function(){var a=D1(No)[0],c=an().memoizedState;return[typeof a=="boolean"?a:Jh(a),c]},useSyncExternalStore:iC,useId:PC,useHostTransitionStatus:B1,useFormState:bC,useActionState:bC,useOptimistic:function(a,c){var h=an();return Tt!==null?dC(h,Tt,a,c):(h.baseState=a,[a,h.queue.dispatch])},useMemoCache:M1,useCacheRefresh:OC};BC.useEffectEvent=SC;function H1(a,c,h,g){c=a.memoizedState,h=h(g,c),h=h==null?c:p({},c,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var $1={enqueueSetState:function(a,c,h){a=a._reactInternals;var g=pr(),b=ka(g);b.payload=c,h!=null&&(b.callback=h),c=Na(a,b,g),c!==null&&(Ks(c,a,g),Gh(c,a,g))},enqueueReplaceState:function(a,c,h){a=a._reactInternals;var g=pr(),b=ka(g);b.tag=1,b.payload=c,h!=null&&(b.callback=h),c=Na(a,b,g),c!==null&&(Ks(c,a,g),Gh(c,a,g))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var h=pr(),g=ka(h);g.tag=2,c!=null&&(g.callback=c),c=Na(a,g,h),c!==null&&(Ks(c,a,h),Gh(c,a,h))}};function UC(a,c,h,g,b,E,k){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,E,k):c.prototype&&c.prototype.isPureReactComponent?!Bh(h,g)||!Bh(b,E):!0}function FC(a,c,h,g){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,g),c.state!==a&&$1.enqueueReplaceState(c,c.state,null)}function vc(a,c){var h=c;if("ref"in c){h={};for(var g in c)g!=="ref"&&(h[g]=c[g])}if(a=a.defaultProps){h===c&&(h=p({},h));for(var b in a)h[b]===void 0&&(h[b]=a[b])}return h}function HC(a){Km(a)}function $C(a){console.error(a)}function qC(a){Km(a)}function gg(a,c){try{var h=a.onUncaughtError;h(c.value,{componentStack:c.stack})}catch(g){setTimeout(function(){throw g})}}function WC(a,c,h){try{var g=a.onCaughtError;g(h.value,{componentStack:h.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function q1(a,c,h){return h=ka(h),h.tag=3,h.payload={element:null},h.callback=function(){gg(a,c)},h}function KC(a){return a=ka(a),a.tag=3,a}function GC(a,c,h,g){var b=h.type.getDerivedStateFromError;if(typeof b=="function"){var E=g.value;a.payload=function(){return b(E)},a.callback=function(){WC(c,h,g)}}var k=h.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(a.callback=function(){WC(c,h,g),typeof b!="function"&&(Oa===null?Oa=new Set([this]):Oa.add(this));var j=g.stack;this.componentDidCatch(g.value,{componentStack:j!==null?j:""})})}function V7(a,c,h,g,b){if(h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(c=h.alternate,c!==null&&Lu(c,h,b,!0),h=ur.current,h!==null){switch(h.tag){case 31:case 13:return Or===null?kg():h.alternate===null&&Xt===0&&(Xt=3),h.flags&=-257,h.flags|=65536,h.lanes=b,g===sg?h.flags|=16384:(c=h.updateQueue,c===null?h.updateQueue=new Set([g]):c.add(g),gb(a,g,b)),!1;case 22:return h.flags|=65536,g===sg?h.flags|=16384:(c=h.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([g])},h.updateQueue=c):(h=c.retryQueue,h===null?c.retryQueue=new Set([g]):h.add(g)),gb(a,g,b)),!1}throw Error(s(435,h.tag))}return gb(a,g,b),kg(),!1}if(ct)return c=ur.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=b,g!==u1&&(a=Error(s(422),{cause:g}),Hh(Mr(a,h)))):(g!==u1&&(c=Error(s(423),{cause:g}),Hh(Mr(c,h))),a=a.current.alternate,a.flags|=65536,b&=-b,a.lanes|=b,g=Mr(g,h),b=q1(a.stateNode,g,b),w1(a,b),Xt!==4&&(Xt=2)),!1;var E=Error(s(520),{cause:g});if(E=Mr(E,h),cf===null?cf=[E]:cf.push(E),Xt!==4&&(Xt=2),c===null)return!0;g=Mr(g,h),h=c;do{switch(h.tag){case 3:return h.flags|=65536,a=b&-b,h.lanes|=a,a=q1(h.stateNode,g,a),w1(h,a),!1;case 1:if(c=h.type,E=h.stateNode,(h.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Oa===null||!Oa.has(E))))return h.flags|=65536,b&=-b,h.lanes|=b,b=KC(b),GC(b,a,h,g),w1(h,b),!1}h=h.return}while(h!==null);return!1}var W1=Error(s(461)),vn=!1;function Jn(a,c,h,g){c.child=a===null?JA(c,null,h,g):yc(c,a.child,h,g)}function YC(a,c,h,g,b){h=h.render;var E=c.ref;if("ref"in g){var k={};for(var j in g)j!=="ref"&&(k[j]=g[j])}else k=g;return fc(c),g=C1(a,c,h,k,E,b),j=k1(),a!==null&&!vn?(N1(a,c,b),Ro(a,c,b)):(ct&&j&&l1(c),c.flags|=1,Jn(a,c,g,b),c.child)}function XC(a,c,h,g,b){if(a===null){var E=h.type;return typeof E=="function"&&!i1(E)&&E.defaultProps===void 0&&h.compare===null?(c.tag=15,c.type=E,QC(a,c,E,g,b)):(a=Qm(h.type,null,g,c,c.mode,b),a.ref=c.ref,a.return=c,c.child=a)}if(E=a.child,!eb(a,b)){var k=E.memoizedProps;if(h=h.compare,h=h!==null?h:Bh,h(k,g)&&a.ref===c.ref)return Ro(a,c,b)}return c.flags|=1,a=To(E,g),a.ref=c.ref,a.return=c,c.child=a}function QC(a,c,h,g,b){if(a!==null){var E=a.memoizedProps;if(Bh(E,g)&&a.ref===c.ref)if(vn=!1,c.pendingProps=g=E,eb(a,b))(a.flags&131072)!==0&&(vn=!0);else return c.lanes=a.lanes,Ro(a,c,b)}return K1(a,c,h,g,b)}function JC(a,c,h,g){var b=g.children,E=a!==null?a.memoizedState:null;if(a===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((c.flags&128)!==0){if(E=E!==null?E.baseLanes|h:h,a!==null){for(g=c.child=a.child,b=0;g!==null;)b=b|g.lanes|g.childLanes,g=g.sibling;g=b&~E}else g=0,c.child=null;return ZC(a,c,E,h,g)}if((h&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},a!==null&&tg(c,E!==null?E.cachePool:null),E!==null?tC(c,E):S1(),nC(c);else return g=c.lanes=536870912,ZC(a,c,E!==null?E.baseLanes|h:h,h,g)}else E!==null?(tg(c,E.cachePool),tC(c,E),Ma(),c.memoizedState=null):(a!==null&&tg(c,null),S1(),Ma());return Jn(a,c,b,h),c.child}function tf(a,c){return a!==null&&a.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function ZC(a,c,h,g,b){var E=y1();return E=E===null?null:{parent:yn._currentValue,pool:E},c.memoizedState={baseLanes:h,cachePool:E},a!==null&&tg(c,null),S1(),nC(c),a!==null&&Lu(a,c,g,!0),c.childLanes=b,null}function yg(a,c){return c=vg({mode:c.mode,children:c.children},a.mode),c.ref=a.ref,a.child=c,c.return=a,c}function ek(a,c,h){return yc(c,a.child,null,h),a=yg(c,c.pendingProps),a.flags|=2,dr(c),c.memoizedState=null,a}function z7(a,c,h){var g=c.pendingProps,b=(c.flags&128)!==0;if(c.flags&=-129,a===null){if(ct){if(g.mode==="hidden")return a=yg(c,g),c.lanes=536870912,tf(null,a);if(_1(c),(a=Dt)?(a=hN(a,Pr),a=a!==null&&a.data==="&"?a:null,a!==null&&(c.memoizedState={dehydrated:a,treeContext:Sa!==null?{id:Vi,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},h=LA(a),h.return=c,c.child=h,Xn=c,Dt=null)):a=null,a===null)throw _a(c);return c.lanes=536870912,null}return yg(c,g)}var E=a.memoizedState;if(E!==null){var k=E.dehydrated;if(_1(c),b)if(c.flags&256)c.flags&=-257,c=ek(a,c,h);else if(c.memoizedState!==null)c.child=a.child,c.flags|=128,c=null;else throw Error(s(558));else if(vn||Lu(a,c,h,!1),b=(h&a.childLanes)!==0,vn||b){if(g=Ct,g!==null&&(k=ks(g,h),k!==0&&k!==E.retryLane))throw E.retryLane=k,cc(a,k),Ks(g,a,k),W1;kg(),c=ek(a,c,h)}else a=E.treeContext,Dt=jr(k.nextSibling),Xn=c,ct=!0,Ta=null,Pr=!1,a!==null&&BA(c,a),c=yg(c,g),c.flags|=4096;return c}return a=To(a.child,{mode:g.mode,children:g.children}),a.ref=c.ref,c.child=a,a.return=c,a}function xg(a,c){var h=c.ref;if(h===null)a!==null&&a.ref!==null&&(c.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(s(284));(a===null||a.ref!==h)&&(c.flags|=4194816)}}function K1(a,c,h,g,b){return fc(c),h=C1(a,c,h,g,void 0,b),g=k1(),a!==null&&!vn?(N1(a,c,b),Ro(a,c,b)):(ct&&g&&l1(c),c.flags|=1,Jn(a,c,h,b),c.child)}function tk(a,c,h,g,b,E){return fc(c),c.updateQueue=null,h=rC(c,g,h,b),sC(a),g=k1(),a!==null&&!vn?(N1(a,c,E),Ro(a,c,E)):(ct&&g&&l1(c),c.flags|=1,Jn(a,c,h,E),c.child)}function nk(a,c,h,g,b){if(fc(c),c.stateNode===null){var E=Du,k=h.contextType;typeof k=="object"&&k!==null&&(E=Qn(k)),E=new h(g,E),c.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=$1,c.stateNode=E,E._reactInternals=c,E=c.stateNode,E.props=g,E.state=c.memoizedState,E.refs={},v1(c),k=h.contextType,E.context=typeof k=="object"&&k!==null?Qn(k):Du,E.state=c.memoizedState,k=h.getDerivedStateFromProps,typeof k=="function"&&(H1(c,h,k,g),E.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(k=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),k!==E.state&&$1.enqueueReplaceState(E,E.state,null),Xh(c,g,E,b),Yh(),E.state=c.memoizedState),typeof E.componentDidMount=="function"&&(c.flags|=4194308),g=!0}else if(a===null){E=c.stateNode;var j=c.memoizedProps,$=vc(h,j);E.props=$;var Z=E.context,re=h.contextType;k=Du,typeof re=="object"&&re!==null&&(k=Qn(re));var ae=h.getDerivedStateFromProps;re=typeof ae=="function"||typeof E.getSnapshotBeforeUpdate=="function",j=c.pendingProps!==j,re||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(j||Z!==k)&&FC(c,E,g,k),Ca=!1;var ee=c.memoizedState;E.state=ee,Xh(c,g,E,b),Yh(),Z=c.memoizedState,j||ee!==Z||Ca?(typeof ae=="function"&&(H1(c,h,ae,g),Z=c.memoizedState),($=Ca||UC(c,h,$,g,ee,Z,k))?(re||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(c.flags|=4194308)):(typeof E.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=Z),E.props=g,E.state=Z,E.context=k,g=$):(typeof E.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{E=c.stateNode,b1(a,c),k=c.memoizedProps,re=vc(h,k),E.props=re,ae=c.pendingProps,ee=E.context,Z=h.contextType,$=Du,typeof Z=="object"&&Z!==null&&($=Qn(Z)),j=h.getDerivedStateFromProps,(Z=typeof j=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(k!==ae||ee!==$)&&FC(c,E,g,$),Ca=!1,ee=c.memoizedState,E.state=ee,Xh(c,g,E,b),Yh();var ne=c.memoizedState;k!==ae||ee!==ne||Ca||a!==null&&a.dependencies!==null&&Zm(a.dependencies)?(typeof j=="function"&&(H1(c,h,j,g),ne=c.memoizedState),(re=Ca||UC(c,h,re,g,ee,ne,$)||a!==null&&a.dependencies!==null&&Zm(a.dependencies))?(Z||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(g,ne,$),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(g,ne,$)),typeof E.componentDidUpdate=="function"&&(c.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof E.componentDidUpdate!="function"||k===a.memoizedProps&&ee===a.memoizedState||(c.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||k===a.memoizedProps&&ee===a.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=ne),E.props=g,E.state=ne,E.context=$,g=re):(typeof E.componentDidUpdate!="function"||k===a.memoizedProps&&ee===a.memoizedState||(c.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||k===a.memoizedProps&&ee===a.memoizedState||(c.flags|=1024),g=!1)}return E=g,xg(a,c),g=(c.flags&128)!==0,E||g?(E=c.stateNode,h=g&&typeof h.getDerivedStateFromError!="function"?null:E.render(),c.flags|=1,a!==null&&g?(c.child=yc(c,a.child,null,b),c.child=yc(c,null,h,b)):Jn(a,c,h,b),c.memoizedState=E.state,a=c.child):a=Ro(a,c,b),a}function sk(a,c,h,g){return dc(),c.flags|=256,Jn(a,c,h,g),c.child}var G1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Y1(a){return{baseLanes:a,cachePool:WA()}}function X1(a,c,h){return a=a!==null?a.childLanes&~h:0,c&&(a|=fr),a}function rk(a,c,h){var g=c.pendingProps,b=!1,E=(c.flags&128)!==0,k;if((k=E)||(k=a!==null&&a.memoizedState===null?!1:(on.current&2)!==0),k&&(b=!0,c.flags&=-129),k=(c.flags&32)!==0,c.flags&=-33,a===null){if(ct){if(b?Ra(c):Ma(),(a=Dt)?(a=hN(a,Pr),a=a!==null&&a.data!=="&"?a:null,a!==null&&(c.memoizedState={dehydrated:a,treeContext:Sa!==null?{id:Vi,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},h=LA(a),h.return=c,c.child=h,Xn=c,Dt=null)):a=null,a===null)throw _a(c);return Ib(a)?c.lanes=32:c.lanes=536870912,null}var j=g.children;return g=g.fallback,b?(Ma(),b=c.mode,j=vg({mode:"hidden",children:j},b),g=uc(g,b,h,null),j.return=c,g.return=c,j.sibling=g,c.child=j,g=c.child,g.memoizedState=Y1(h),g.childLanes=X1(a,k,h),c.memoizedState=G1,tf(null,g)):(Ra(c),Q1(c,j))}var $=a.memoizedState;if($!==null&&(j=$.dehydrated,j!==null)){if(E)c.flags&256?(Ra(c),c.flags&=-257,c=J1(a,c,h)):c.memoizedState!==null?(Ma(),c.child=a.child,c.flags|=128,c=null):(Ma(),j=g.fallback,b=c.mode,g=vg({mode:"visible",children:g.children},b),j=uc(j,b,h,null),j.flags|=2,g.return=c,j.return=c,g.sibling=j,c.child=g,yc(c,a.child,null,h),g=c.child,g.memoizedState=Y1(h),g.childLanes=X1(a,k,h),c.memoizedState=G1,c=tf(null,g));else if(Ra(c),Ib(j)){if(k=j.nextSibling&&j.nextSibling.dataset,k)var Z=k.dgst;k=Z,g=Error(s(419)),g.stack="",g.digest=k,Hh({value:g,source:null,stack:null}),c=J1(a,c,h)}else if(vn||Lu(a,c,h,!1),k=(h&a.childLanes)!==0,vn||k){if(k=Ct,k!==null&&(g=ks(k,h),g!==0&&g!==$.retryLane))throw $.retryLane=g,cc(a,g),Ks(k,a,g),W1;Mb(j)||kg(),c=J1(a,c,h)}else Mb(j)?(c.flags|=192,c.child=a.child,c=null):(a=$.treeContext,Dt=jr(j.nextSibling),Xn=c,ct=!0,Ta=null,Pr=!1,a!==null&&BA(c,a),c=Q1(c,g.children),c.flags|=4096);return c}return b?(Ma(),j=g.fallback,b=c.mode,$=a.child,Z=$.sibling,g=To($,{mode:"hidden",children:g.children}),g.subtreeFlags=$.subtreeFlags&65011712,Z!==null?j=To(Z,j):(j=uc(j,b,h,null),j.flags|=2),j.return=c,g.return=c,g.sibling=j,c.child=g,tf(null,g),g=c.child,j=a.child.memoizedState,j===null?j=Y1(h):(b=j.cachePool,b!==null?($=yn._currentValue,b=b.parent!==$?{parent:$,pool:$}:b):b=WA(),j={baseLanes:j.baseLanes|h,cachePool:b}),g.memoizedState=j,g.childLanes=X1(a,k,h),c.memoizedState=G1,tf(a.child,g)):(Ra(c),h=a.child,a=h.sibling,h=To(h,{mode:"visible",children:g.children}),h.return=c,h.sibling=null,a!==null&&(k=c.deletions,k===null?(c.deletions=[a],c.flags|=16):k.push(a)),c.child=h,c.memoizedState=null,h)}function Q1(a,c){return c=vg({mode:"visible",children:c},a.mode),c.return=a,a.child=c}function vg(a,c){return a=cr(22,a,null,c),a.lanes=0,a}function J1(a,c,h){return yc(c,a.child,null,h),a=Q1(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function ik(a,c,h){a.lanes|=c;var g=a.alternate;g!==null&&(g.lanes|=c),f1(a.return,c,h)}function Z1(a,c,h,g,b,E){var k=a.memoizedState;k===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:b,treeForkCount:E}:(k.isBackwards=c,k.rendering=null,k.renderingStartTime=0,k.last=g,k.tail=h,k.tailMode=b,k.treeForkCount=E)}function ok(a,c,h){var g=c.pendingProps,b=g.revealOrder,E=g.tail;g=g.children;var k=on.current,j=(k&2)!==0;if(j?(k=k&1|2,c.flags|=128):k&=1,ue(on,k),Jn(a,c,g,h),g=ct?Fh:0,!j&&a!==null&&(a.flags&128)!==0)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&ik(a,h,c);else if(a.tag===19)ik(a,h,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(b){case"forwards":for(h=c.child,b=null;h!==null;)a=h.alternate,a!==null&&ag(a)===null&&(b=h),h=h.sibling;h=b,h===null?(b=c.child,c.child=null):(b=h.sibling,h.sibling=null),Z1(c,!1,b,h,E,g);break;case"backwards":case"unstable_legacy-backwards":for(h=null,b=c.child,c.child=null;b!==null;){if(a=b.alternate,a!==null&&ag(a)===null){c.child=b;break}a=b.sibling,b.sibling=h,h=b,b=a}Z1(c,!0,h,null,E,g);break;case"together":Z1(c,!1,null,null,void 0,g);break;default:c.memoizedState=null}return c.child}function Ro(a,c,h){if(a!==null&&(c.dependencies=a.dependencies),Pa|=c.lanes,(h&c.childLanes)===0)if(a!==null){if(Lu(a,c,h,!1),(h&c.childLanes)===0)return null}else return null;if(a!==null&&c.child!==a.child)throw Error(s(153));if(c.child!==null){for(a=c.child,h=To(a,a.pendingProps),c.child=h,h.return=c;a.sibling!==null;)a=a.sibling,h=h.sibling=To(a,a.pendingProps),h.return=c;h.sibling=null}return c.child}function eb(a,c){return(a.lanes&c)!==0?!0:(a=a.dependencies,!!(a!==null&&Zm(a)))}function B7(a,c,h){switch(c.tag){case 3:Le(c,c.stateNode.containerInfo),Aa(c,yn,a.memoizedState.cache),dc();break;case 27:case 5:Se(c);break;case 4:Le(c,c.stateNode.containerInfo);break;case 10:Aa(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,_1(c),null;break;case 13:var g=c.memoizedState;if(g!==null)return g.dehydrated!==null?(Ra(c),c.flags|=128,null):(h&c.child.childLanes)!==0?rk(a,c,h):(Ra(c),a=Ro(a,c,h),a!==null?a.sibling:null);Ra(c);break;case 19:var b=(a.flags&128)!==0;if(g=(h&c.childLanes)!==0,g||(Lu(a,c,h,!1),g=(h&c.childLanes)!==0),b){if(g)return ok(a,c,h);c.flags|=128}if(b=c.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),ue(on,on.current),g)break;return null;case 22:return c.lanes=0,JC(a,c,h,c.pendingProps);case 24:Aa(c,yn,a.memoizedState.cache)}return Ro(a,c,h)}function ak(a,c,h){if(a!==null)if(a.memoizedProps!==c.pendingProps)vn=!0;else{if(!eb(a,h)&&(c.flags&128)===0)return vn=!1,B7(a,c,h);vn=(a.flags&131072)!==0}else vn=!1,ct&&(c.flags&1048576)!==0&&zA(c,Fh,c.index);switch(c.lanes=0,c.tag){case 16:e:{var g=c.pendingProps;if(a=mc(c.elementType),c.type=a,typeof a=="function")i1(a)?(g=vc(a,g),c.tag=1,c=nk(null,c,a,g,h)):(c.tag=0,c=K1(null,c,a,g,h));else{if(a!=null){var b=a.$$typeof;if(b===O){c.tag=11,c=YC(null,c,a,g,h);break e}else if(b===I){c.tag=14,c=XC(null,c,a,g,h);break e}}throw c=he(a)||a,Error(s(306,c,""))}}return c;case 0:return K1(a,c,c.type,c.pendingProps,h);case 1:return g=c.type,b=vc(g,c.pendingProps),nk(a,c,g,b,h);case 3:e:{if(Le(c,c.stateNode.containerInfo),a===null)throw Error(s(387));g=c.pendingProps;var E=c.memoizedState;b=E.element,b1(a,c),Xh(c,g,null,h);var k=c.memoizedState;if(g=k.cache,Aa(c,yn,g),g!==E.cache&&p1(c,[yn],h,!0),Yh(),g=k.element,E.isDehydrated)if(E={element:g,isDehydrated:!1,cache:k.cache},c.updateQueue.baseState=E,c.memoizedState=E,c.flags&256){c=sk(a,c,g,h);break e}else if(g!==b){b=Mr(Error(s(424)),c),Hh(b),c=sk(a,c,g,h);break e}else for(a=c.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,Dt=jr(a.firstChild),Xn=c,ct=!0,Ta=null,Pr=!0,h=JA(c,null,g,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(dc(),g===b){c=Ro(a,c,h);break e}Jn(a,c,g,h)}c=c.child}return c;case 26:return xg(a,c),a===null?(h=xN(c.type,null,c.pendingProps,null))?c.memoizedState=h:ct||(h=c.type,a=c.pendingProps,g=Og(Te.current).createElement(h),g[pn]=c,g[Bn]=a,Zn(g,h,a),mn(g),c.stateNode=g):c.memoizedState=xN(c.type,a.memoizedProps,c.pendingProps,a.memoizedState),null;case 27:return Se(c),a===null&&ct&&(g=c.stateNode=mN(c.type,c.pendingProps,Te.current),Xn=c,Pr=!0,b=Dt,za(c.type)?(Db=b,Dt=jr(g.firstChild)):Dt=b),Jn(a,c,c.pendingProps.children,h),xg(a,c),a===null&&(c.flags|=4194304),c.child;case 5:return a===null&&ct&&((b=g=Dt)&&(g=g8(g,c.type,c.pendingProps,Pr),g!==null?(c.stateNode=g,Xn=c,Dt=jr(g.firstChild),Pr=!1,b=!0):b=!1),b||_a(c)),Se(c),b=c.type,E=c.pendingProps,k=a!==null?a.memoizedProps:null,g=E.children,kb(b,E)?g=null:k!==null&&kb(b,k)&&(c.flags|=32),c.memoizedState!==null&&(b=C1(a,c,M7,null,null,h),yf._currentValue=b),xg(a,c),Jn(a,c,g,h),c.child;case 6:return a===null&&ct&&((a=h=Dt)&&(h=y8(h,c.pendingProps,Pr),h!==null?(c.stateNode=h,Xn=c,Dt=null,a=!0):a=!1),a||_a(c)),null;case 13:return rk(a,c,h);case 4:return Le(c,c.stateNode.containerInfo),g=c.pendingProps,a===null?c.child=yc(c,null,g,h):Jn(a,c,g,h),c.child;case 11:return YC(a,c,c.type,c.pendingProps,h);case 7:return Jn(a,c,c.pendingProps,h),c.child;case 8:return Jn(a,c,c.pendingProps.children,h),c.child;case 12:return Jn(a,c,c.pendingProps.children,h),c.child;case 10:return g=c.pendingProps,Aa(c,c.type,g.value),Jn(a,c,g.children,h),c.child;case 9:return b=c.type._context,g=c.pendingProps.children,fc(c),b=Qn(b),g=g(b),c.flags|=1,Jn(a,c,g,h),c.child;case 14:return XC(a,c,c.type,c.pendingProps,h);case 15:return QC(a,c,c.type,c.pendingProps,h);case 19:return ok(a,c,h);case 31:return z7(a,c,h);case 22:return JC(a,c,h,c.pendingProps);case 24:return fc(c),g=Qn(yn),a===null?(b=y1(),b===null&&(b=Ct,E=m1(),b.pooledCache=E,E.refCount++,E!==null&&(b.pooledCacheLanes|=h),b=E),c.memoizedState={parent:g,cache:b},v1(c),Aa(c,yn,b)):((a.lanes&h)!==0&&(b1(a,c),Xh(c,null,null,h),Yh()),b=a.memoizedState,E=c.memoizedState,b.parent!==g?(b={parent:g,cache:g},c.memoizedState=b,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=b),Aa(c,yn,g)):(g=E.cache,Aa(c,yn,g),g!==b.cache&&p1(c,[yn],h,!0))),Jn(a,c,c.pendingProps.children,h),c.child;case 29:throw c.pendingProps}throw Error(s(156,c.tag))}function Mo(a){a.flags|=4}function tb(a,c,h,g,b){if((c=(a.mode&32)!==0)&&(c=!1),c){if(a.flags|=16777216,(b&335544128)===b)if(a.stateNode.complete)a.flags|=8192;else if(Pk())a.flags|=8192;else throw gc=sg,x1}else a.flags&=-16777217}function lk(a,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!SN(c))if(Pk())a.flags|=8192;else throw gc=sg,x1}function bg(a,c){c!==null&&(a.flags|=4),a.flags&16384&&(c=a.tag!==22?zn():536870912,a.lanes|=c,Yu|=c)}function nf(a,c){if(!ct)switch(a.tailMode){case"hidden":c=a.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function Pt(a){var c=a.alternate!==null&&a.alternate.child===a.child,h=0,g=0;if(c)for(var b=a.child;b!==null;)h|=b.lanes|b.childLanes,g|=b.subtreeFlags&65011712,g|=b.flags&65011712,b.return=a,b=b.sibling;else for(b=a.child;b!==null;)h|=b.lanes|b.childLanes,g|=b.subtreeFlags,g|=b.flags,b.return=a,b=b.sibling;return a.subtreeFlags|=g,a.childLanes=h,c}function U7(a,c,h){var g=c.pendingProps;switch(c1(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(c),null;case 1:return Pt(c),null;case 3:return h=c.stateNode,g=null,a!==null&&(g=a.memoizedState.cache),c.memoizedState.cache!==g&&(c.flags|=2048),Co(yn),Pe(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(a===null||a.child===null)&&(ju(c)?Mo(c):a===null||a.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,d1())),Pt(c),null;case 26:var b=c.type,E=c.memoizedState;return a===null?(Mo(c),E!==null?(Pt(c),lk(c,E)):(Pt(c),tb(c,b,null,g,h))):E?E!==a.memoizedState?(Mo(c),Pt(c),lk(c,E)):(Pt(c),c.flags&=-16777217):(a=a.memoizedProps,a!==g&&Mo(c),Pt(c),tb(c,b,a,g,h)),null;case 27:if(Ye(c),h=Te.current,b=c.type,a!==null&&c.stateNode!=null)a.memoizedProps!==g&&Mo(c);else{if(!g){if(c.stateNode===null)throw Error(s(166));return Pt(c),null}a=pe.current,ju(c)?UA(c):(a=mN(b,g,h),c.stateNode=a,Mo(c))}return Pt(c),null;case 5:if(Ye(c),b=c.type,a!==null&&c.stateNode!=null)a.memoizedProps!==g&&Mo(c);else{if(!g){if(c.stateNode===null)throw Error(s(166));return Pt(c),null}if(E=pe.current,ju(c))UA(c);else{var k=Og(Te.current);switch(E){case 1:E=k.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:E=k.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":E=k.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":E=k.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":E=k.createElement("div"),E.innerHTML="<script><\/script>",E=E.removeChild(E.firstChild);break;case"select":E=typeof g.is=="string"?k.createElement("select",{is:g.is}):k.createElement("select"),g.multiple?E.multiple=!0:g.size&&(E.size=g.size);break;default:E=typeof g.is=="string"?k.createElement(b,{is:g.is}):k.createElement(b)}}E[pn]=c,E[Bn]=g;e:for(k=c.child;k!==null;){if(k.tag===5||k.tag===6)E.appendChild(k.stateNode);else if(k.tag!==4&&k.tag!==27&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===c)break e;for(;k.sibling===null;){if(k.return===null||k.return===c)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}c.stateNode=E;e:switch(Zn(E,b,g),b){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&Mo(c)}}return Pt(c),tb(c,c.type,a===null?null:a.memoizedProps,c.pendingProps,h),null;case 6:if(a&&c.stateNode!=null)a.memoizedProps!==g&&Mo(c);else{if(typeof g!="string"&&c.stateNode===null)throw Error(s(166));if(a=Te.current,ju(c)){if(a=c.stateNode,h=c.memoizedProps,g=null,b=Xn,b!==null)switch(b.tag){case 27:case 5:g=b.memoizedProps}a[pn]=c,a=!!(a.nodeValue===h||g!==null&&g.suppressHydrationWarning===!0||rN(a.nodeValue,h)),a||_a(c,!0)}else a=Og(a).createTextNode(g),a[pn]=c,c.stateNode=a}return Pt(c),null;case 31:if(h=c.memoizedState,a===null||a.memoizedState!==null){if(g=ju(c),h!==null){if(a===null){if(!g)throw Error(s(318));if(a=c.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(s(557));a[pn]=c}else dc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Pt(c),a=!1}else h=d1(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=h),a=!0;if(!a)return c.flags&256?(dr(c),c):(dr(c),null);if((c.flags&128)!==0)throw Error(s(558))}return Pt(c),null;case 13:if(g=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(b=ju(c),g!==null&&g.dehydrated!==null){if(a===null){if(!b)throw Error(s(318));if(b=c.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(s(317));b[pn]=c}else dc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Pt(c),b=!1}else b=d1(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=b),b=!0;if(!b)return c.flags&256?(dr(c),c):(dr(c),null)}return dr(c),(c.flags&128)!==0?(c.lanes=h,c):(h=g!==null,a=a!==null&&a.memoizedState!==null,h&&(g=c.child,b=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(b=g.alternate.memoizedState.cachePool.pool),E=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(E=g.memoizedState.cachePool.pool),E!==b&&(g.flags|=2048)),h!==a&&h&&(c.child.flags|=8192),bg(c,c.updateQueue),Pt(c),null);case 4:return Pe(),a===null&&Sb(c.stateNode.containerInfo),Pt(c),null;case 10:return Co(c.type),Pt(c),null;case 19:if(se(on),g=c.memoizedState,g===null)return Pt(c),null;if(b=(c.flags&128)!==0,E=g.rendering,E===null)if(b)nf(g,!1);else{if(Xt!==0||a!==null&&(a.flags&128)!==0)for(a=c.child;a!==null;){if(E=ag(a),E!==null){for(c.flags|=128,nf(g,!1),a=E.updateQueue,c.updateQueue=a,bg(c,a),c.subtreeFlags=0,a=h,h=c.child;h!==null;)jA(h,a),h=h.sibling;return ue(on,on.current&1|2),ct&&_o(c,g.treeForkCount),c.child}a=a.sibling}g.tail!==null&&Vn()>_g&&(c.flags|=128,b=!0,nf(g,!1),c.lanes=4194304)}else{if(!b)if(a=ag(E),a!==null){if(c.flags|=128,b=!0,a=a.updateQueue,c.updateQueue=a,bg(c,a),nf(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!ct)return Pt(c),null}else 2*Vn()-g.renderingStartTime>_g&&h!==536870912&&(c.flags|=128,b=!0,nf(g,!1),c.lanes=4194304);g.isBackwards?(E.sibling=c.child,c.child=E):(a=g.last,a!==null?a.sibling=E:c.child=E,g.last=E)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=Vn(),a.sibling=null,h=on.current,ue(on,b?h&1|2:h&1),ct&&_o(c,g.treeForkCount),a):(Pt(c),null);case 22:case 23:return dr(c),T1(),g=c.memoizedState!==null,a!==null?a.memoizedState!==null!==g&&(c.flags|=8192):g&&(c.flags|=8192),g?(h&536870912)!==0&&(c.flags&128)===0&&(Pt(c),c.subtreeFlags&6&&(c.flags|=8192)):Pt(c),h=c.updateQueue,h!==null&&bg(c,h.retryQueue),h=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==h&&(c.flags|=2048),a!==null&&se(pc),null;case 24:return h=null,a!==null&&(h=a.memoizedState.cache),c.memoizedState.cache!==h&&(c.flags|=2048),Co(yn),Pt(c),null;case 25:return null;case 30:return null}throw Error(s(156,c.tag))}function F7(a,c){switch(c1(c),c.tag){case 1:return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return Co(yn),Pe(),a=c.flags,(a&65536)!==0&&(a&128)===0?(c.flags=a&-65537|128,c):null;case 26:case 27:case 5:return Ye(c),null;case 31:if(c.memoizedState!==null){if(dr(c),c.alternate===null)throw Error(s(340));dc()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 13:if(dr(c),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(s(340));dc()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return se(on),null;case 4:return Pe(),null;case 10:return Co(c.type),null;case 22:case 23:return dr(c),T1(),a!==null&&se(pc),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 24:return Co(yn),null;case 25:return null;default:return null}}function ck(a,c){switch(c1(c),c.tag){case 3:Co(yn),Pe();break;case 26:case 27:case 5:Ye(c);break;case 4:Pe();break;case 31:c.memoizedState!==null&&dr(c);break;case 13:dr(c);break;case 19:se(on);break;case 10:Co(c.type);break;case 22:case 23:dr(c),T1(),a!==null&&se(pc);break;case 24:Co(yn)}}function sf(a,c){try{var h=c.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var b=g.next;h=b;do{if((h.tag&a)===a){g=void 0;var E=h.create,k=h.inst;g=E(),k.destroy=g}h=h.next}while(h!==b)}}catch(j){vt(c,c.return,j)}}function Ia(a,c,h){try{var g=c.updateQueue,b=g!==null?g.lastEffect:null;if(b!==null){var E=b.next;g=E;do{if((g.tag&a)===a){var k=g.inst,j=k.destroy;if(j!==void 0){k.destroy=void 0,b=c;var $=h,Z=j;try{Z()}catch(re){vt(b,$,re)}}}g=g.next}while(g!==E)}}catch(re){vt(c,c.return,re)}}function uk(a){var c=a.updateQueue;if(c!==null){var h=a.stateNode;try{eC(c,h)}catch(g){vt(a,a.return,g)}}}function dk(a,c,h){h.props=vc(a.type,a.memoizedProps),h.state=a.memoizedState;try{h.componentWillUnmount()}catch(g){vt(a,c,g)}}function rf(a,c){try{var h=a.ref;if(h!==null){switch(a.tag){case 26:case 27:case 5:var g=a.stateNode;break;case 30:g=a.stateNode;break;default:g=a.stateNode}typeof h=="function"?a.refCleanup=h(g):h.current=g}}catch(b){vt(a,c,b)}}function Bi(a,c){var h=a.ref,g=a.refCleanup;if(h!==null)if(typeof g=="function")try{g()}catch(b){vt(a,c,b)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(b){vt(a,c,b)}else h.current=null}function hk(a){var c=a.type,h=a.memoizedProps,g=a.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":h.autoFocus&&g.focus();break e;case"img":h.src?g.src=h.src:h.srcSet&&(g.srcset=h.srcSet)}}catch(b){vt(a,a.return,b)}}function nb(a,c,h){try{var g=a.stateNode;u8(g,a.type,h,c),g[Bn]=c}catch(b){vt(a,a.return,b)}}function fk(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&za(a.type)||a.tag===4}function sb(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||fk(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&za(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function rb(a,c,h){var g=a.tag;if(g===5||g===6)a=a.stateNode,c?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(a,c):(c=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,c.appendChild(a),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=Yr));else if(g!==4&&(g===27&&za(a.type)&&(h=a.stateNode,c=null),a=a.child,a!==null))for(rb(a,c,h),a=a.sibling;a!==null;)rb(a,c,h),a=a.sibling}function wg(a,c,h){var g=a.tag;if(g===5||g===6)a=a.stateNode,c?h.insertBefore(a,c):h.appendChild(a);else if(g!==4&&(g===27&&za(a.type)&&(h=a.stateNode),a=a.child,a!==null))for(wg(a,c,h),a=a.sibling;a!==null;)wg(a,c,h),a=a.sibling}function pk(a){var c=a.stateNode,h=a.memoizedProps;try{for(var g=a.type,b=c.attributes;b.length;)c.removeAttributeNode(b[0]);Zn(c,g,h),c[pn]=a,c[Bn]=h}catch(E){vt(a,a.return,E)}}var Io=!1,bn=!1,ib=!1,mk=typeof WeakSet=="function"?WeakSet:Set,Fn=null;function H7(a,c){if(a=a.containerInfo,Ab=Fg,a=CA(a),Jv(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var b=g.anchorOffset,E=g.focusNode;g=g.focusOffset;try{h.nodeType,E.nodeType}catch{h=null;break e}var k=0,j=-1,$=-1,Z=0,re=0,ae=a,ee=null;t:for(;;){for(var ne;ae!==h||b!==0&&ae.nodeType!==3||(j=k+b),ae!==E||g!==0&&ae.nodeType!==3||($=k+g),ae.nodeType===3&&(k+=ae.nodeValue.length),(ne=ae.firstChild)!==null;)ee=ae,ae=ne;for(;;){if(ae===a)break t;if(ee===h&&++Z===b&&(j=k),ee===E&&++re===g&&($=k),(ne=ae.nextSibling)!==null)break;ae=ee,ee=ae.parentNode}ae=ne}h=j===-1||$===-1?null:{start:j,end:$}}else h=null}h=h||{start:0,end:0}}else h=null;for(Cb={focusedElem:a,selectionRange:h},Fg=!1,Fn=c;Fn!==null;)if(c=Fn,a=c.child,(c.subtreeFlags&1028)!==0&&a!==null)a.return=c,Fn=a;else for(;Fn!==null;){switch(c=Fn,E=c.alternate,a=c.flags,c.tag){case 0:if((a&4)!==0&&(a=c.updateQueue,a=a!==null?a.events:null,a!==null))for(h=0;h<a.length;h++)b=a[h],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&E!==null){a=void 0,h=c,b=E.memoizedProps,E=E.memoizedState,g=h.stateNode;try{var _e=vc(h.type,b);a=g.getSnapshotBeforeUpdate(_e,E),g.__reactInternalSnapshotBeforeUpdate=a}catch(ze){vt(h,h.return,ze)}}break;case 3:if((a&1024)!==0){if(a=c.stateNode.containerInfo,h=a.nodeType,h===9)Rb(a);else if(h===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Rb(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(s(163))}if(a=c.sibling,a!==null){a.return=c.return,Fn=a;break}Fn=c.return}}function gk(a,c,h){var g=h.flags;switch(h.tag){case 0:case 11:case 15:Po(a,h),g&4&&sf(5,h);break;case 1:if(Po(a,h),g&4)if(a=h.stateNode,c===null)try{a.componentDidMount()}catch(k){vt(h,h.return,k)}else{var b=vc(h.type,c.memoizedProps);c=c.memoizedState;try{a.componentDidUpdate(b,c,a.__reactInternalSnapshotBeforeUpdate)}catch(k){vt(h,h.return,k)}}g&64&&uk(h),g&512&&rf(h,h.return);break;case 3:if(Po(a,h),g&64&&(a=h.updateQueue,a!==null)){if(c=null,h.child!==null)switch(h.child.tag){case 27:case 5:c=h.child.stateNode;break;case 1:c=h.child.stateNode}try{eC(a,c)}catch(k){vt(h,h.return,k)}}break;case 27:c===null&&g&4&&pk(h);case 26:case 5:Po(a,h),c===null&&g&4&&hk(h),g&512&&rf(h,h.return);break;case 12:Po(a,h);break;case 31:Po(a,h),g&4&&vk(a,h);break;case 13:Po(a,h),g&4&&bk(a,h),g&64&&(a=h.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(h=J7.bind(null,h),x8(a,h))));break;case 22:if(g=h.memoizedState!==null||Io,!g){c=c!==null&&c.memoizedState!==null||bn,b=Io;var E=bn;Io=g,(bn=c)&&!E?Oo(a,h,(h.subtreeFlags&8772)!==0):Po(a,h),Io=b,bn=E}break;case 30:break;default:Po(a,h)}}function yk(a){var c=a.alternate;c!==null&&(a.alternate=null,yk(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&vu(c)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Ft=null,Hs=!1;function Do(a,c,h){for(h=h.child;h!==null;)xk(a,c,h),h=h.sibling}function xk(a,c,h){if(Nn&&typeof Nn.onCommitFiberUnmount=="function")try{Nn.onCommitFiberUnmount(sr,h)}catch{}switch(h.tag){case 26:bn||Bi(h,c),Do(a,c,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:bn||Bi(h,c);var g=Ft,b=Hs;za(h.type)&&(Ft=h.stateNode,Hs=!1),Do(a,c,h),pf(h.stateNode),Ft=g,Hs=b;break;case 5:bn||Bi(h,c);case 6:if(g=Ft,b=Hs,Ft=null,Do(a,c,h),Ft=g,Hs=b,Ft!==null)if(Hs)try{(Ft.nodeType===9?Ft.body:Ft.nodeName==="HTML"?Ft.ownerDocument.body:Ft).removeChild(h.stateNode)}catch(E){vt(h,c,E)}else try{Ft.removeChild(h.stateNode)}catch(E){vt(h,c,E)}break;case 18:Ft!==null&&(Hs?(a=Ft,uN(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,h.stateNode),sd(a)):uN(Ft,h.stateNode));break;case 4:g=Ft,b=Hs,Ft=h.stateNode.containerInfo,Hs=!0,Do(a,c,h),Ft=g,Hs=b;break;case 0:case 11:case 14:case 15:Ia(2,h,c),bn||Ia(4,h,c),Do(a,c,h);break;case 1:bn||(Bi(h,c),g=h.stateNode,typeof g.componentWillUnmount=="function"&&dk(h,c,g)),Do(a,c,h);break;case 21:Do(a,c,h);break;case 22:bn=(g=bn)||h.memoizedState!==null,Do(a,c,h),bn=g;break;default:Do(a,c,h)}}function vk(a,c){if(c.memoizedState===null&&(a=c.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{sd(a)}catch(h){vt(c,c.return,h)}}}function bk(a,c){if(c.memoizedState===null&&(a=c.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{sd(a)}catch(h){vt(c,c.return,h)}}function $7(a){switch(a.tag){case 31:case 13:case 19:var c=a.stateNode;return c===null&&(c=a.stateNode=new mk),c;case 22:return a=a.stateNode,c=a._retryCache,c===null&&(c=a._retryCache=new mk),c;default:throw Error(s(435,a.tag))}}function Eg(a,c){var h=$7(a);c.forEach(function(g){if(!h.has(g)){h.add(g);var b=Z7.bind(null,a,g);g.then(b,b)}})}function $s(a,c){var h=c.deletions;if(h!==null)for(var g=0;g<h.length;g++){var b=h[g],E=a,k=c,j=k;e:for(;j!==null;){switch(j.tag){case 27:if(za(j.type)){Ft=j.stateNode,Hs=!1;break e}break;case 5:Ft=j.stateNode,Hs=!1;break e;case 3:case 4:Ft=j.stateNode.containerInfo,Hs=!0;break e}j=j.return}if(Ft===null)throw Error(s(160));xk(E,k,b),Ft=null,Hs=!1,E=b.alternate,E!==null&&(E.return=null),b.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)wk(c,a),c=c.sibling}var ti=null;function wk(a,c){var h=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:$s(c,a),qs(a),g&4&&(Ia(3,a,a.return),sf(3,a),Ia(5,a,a.return));break;case 1:$s(c,a),qs(a),g&512&&(bn||h===null||Bi(h,h.return)),g&64&&Io&&(a=a.updateQueue,a!==null&&(g=a.callbacks,g!==null&&(h=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=h===null?g:h.concat(g))));break;case 26:var b=ti;if($s(c,a),qs(a),g&512&&(bn||h===null||Bi(h,h.return)),g&4){var E=h!==null?h.memoizedState:null;if(g=a.memoizedState,h===null)if(g===null)if(a.stateNode===null){e:{g=a.type,h=a.memoizedProps,b=b.ownerDocument||b;t:switch(g){case"title":E=b.getElementsByTagName("title")[0],(!E||E[Ai]||E[pn]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=b.createElement(g),b.head.insertBefore(E,b.querySelector("head > title"))),Zn(E,g,h),E[pn]=a,mn(E),g=E;break e;case"link":var k=wN("link","href",b).get(g+(h.href||""));if(k){for(var j=0;j<k.length;j++)if(E=k[j],E.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&E.getAttribute("rel")===(h.rel==null?null:h.rel)&&E.getAttribute("title")===(h.title==null?null:h.title)&&E.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){k.splice(j,1);break t}}E=b.createElement(g),Zn(E,g,h),b.head.appendChild(E);break;case"meta":if(k=wN("meta","content",b).get(g+(h.content||""))){for(j=0;j<k.length;j++)if(E=k[j],E.getAttribute("content")===(h.content==null?null:""+h.content)&&E.getAttribute("name")===(h.name==null?null:h.name)&&E.getAttribute("property")===(h.property==null?null:h.property)&&E.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&E.getAttribute("charset")===(h.charSet==null?null:h.charSet)){k.splice(j,1);break t}}E=b.createElement(g),Zn(E,g,h),b.head.appendChild(E);break;default:throw Error(s(468,g))}E[pn]=a,mn(E),g=E}a.stateNode=g}else EN(b,a.type,a.stateNode);else a.stateNode=bN(b,g,a.memoizedProps);else E!==g?(E===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):E.count--,g===null?EN(b,a.type,a.stateNode):bN(b,g,a.memoizedProps)):g===null&&a.stateNode!==null&&nb(a,a.memoizedProps,h.memoizedProps)}break;case 27:$s(c,a),qs(a),g&512&&(bn||h===null||Bi(h,h.return)),h!==null&&g&4&&nb(a,a.memoizedProps,h.memoizedProps);break;case 5:if($s(c,a),qs(a),g&512&&(bn||h===null||Bi(h,h.return)),a.flags&32){b=a.stateNode;try{Fs(b,"")}catch(_e){vt(a,a.return,_e)}}g&4&&a.stateNode!=null&&(b=a.memoizedProps,nb(a,b,h!==null?h.memoizedProps:b)),g&1024&&(ib=!0);break;case 6:if($s(c,a),qs(a),g&4){if(a.stateNode===null)throw Error(s(162));g=a.memoizedProps,h=a.stateNode;try{h.nodeValue=g}catch(_e){vt(a,a.return,_e)}}break;case 3:if(Vg=null,b=ti,ti=jg(c.containerInfo),$s(c,a),ti=b,qs(a),g&4&&h!==null&&h.memoizedState.isDehydrated)try{sd(c.containerInfo)}catch(_e){vt(a,a.return,_e)}ib&&(ib=!1,Ek(a));break;case 4:g=ti,ti=jg(a.stateNode.containerInfo),$s(c,a),qs(a),ti=g;break;case 12:$s(c,a),qs(a);break;case 31:$s(c,a),qs(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,Eg(a,g)));break;case 13:$s(c,a),qs(a),a.child.flags&8192&&a.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Tg=Vn()),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,Eg(a,g)));break;case 22:b=a.memoizedState!==null;var $=h!==null&&h.memoizedState!==null,Z=Io,re=bn;if(Io=Z||b,bn=re||$,$s(c,a),bn=re,Io=Z,qs(a),g&8192)e:for(c=a.stateNode,c._visibility=b?c._visibility&-2:c._visibility|1,b&&(h===null||$||Io||bn||bc(a)),h=null,c=a;;){if(c.tag===5||c.tag===26){if(h===null){$=h=c;try{if(E=$.stateNode,b)k=E.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{j=$.stateNode;var ae=$.memoizedProps.style,ee=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;j.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(_e){vt($,$.return,_e)}}}else if(c.tag===6){if(h===null){$=c;try{$.stateNode.nodeValue=b?"":$.memoizedProps}catch(_e){vt($,$.return,_e)}}}else if(c.tag===18){if(h===null){$=c;try{var ne=$.stateNode;b?dN(ne,!0):dN($.stateNode,!1)}catch(_e){vt($,$.return,_e)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===a)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break e;for(;c.sibling===null;){if(c.return===null||c.return===a)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}g&4&&(g=a.updateQueue,g!==null&&(h=g.retryQueue,h!==null&&(g.retryQueue=null,Eg(a,h))));break;case 19:$s(c,a),qs(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,Eg(a,g)));break;case 30:break;case 21:break;default:$s(c,a),qs(a)}}function qs(a){var c=a.flags;if(c&2){try{for(var h,g=a.return;g!==null;){if(fk(g)){h=g;break}g=g.return}if(h==null)throw Error(s(160));switch(h.tag){case 27:var b=h.stateNode,E=sb(a);wg(a,E,b);break;case 5:var k=h.stateNode;h.flags&32&&(Fs(k,""),h.flags&=-33);var j=sb(a);wg(a,j,k);break;case 3:case 4:var $=h.stateNode.containerInfo,Z=sb(a);rb(a,Z,$);break;default:throw Error(s(161))}}catch(re){vt(a,a.return,re)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function Ek(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var c=a;Ek(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),a=a.sibling}}function Po(a,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)gk(a,c.alternate,c),c=c.sibling}function bc(a){for(a=a.child;a!==null;){var c=a;switch(c.tag){case 0:case 11:case 14:case 15:Ia(4,c,c.return),bc(c);break;case 1:Bi(c,c.return);var h=c.stateNode;typeof h.componentWillUnmount=="function"&&dk(c,c.return,h),bc(c);break;case 27:pf(c.stateNode);case 26:case 5:Bi(c,c.return),bc(c);break;case 22:c.memoizedState===null&&bc(c);break;case 30:bc(c);break;default:bc(c)}a=a.sibling}}function Oo(a,c,h){for(h=h&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var g=c.alternate,b=a,E=c,k=E.flags;switch(E.tag){case 0:case 11:case 15:Oo(b,E,h),sf(4,E);break;case 1:if(Oo(b,E,h),g=E,b=g.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(Z){vt(g,g.return,Z)}if(g=E,b=g.updateQueue,b!==null){var j=g.stateNode;try{var $=b.shared.hiddenCallbacks;if($!==null)for(b.shared.hiddenCallbacks=null,b=0;b<$.length;b++)ZA($[b],j)}catch(Z){vt(g,g.return,Z)}}h&&k&64&&uk(E),rf(E,E.return);break;case 27:pk(E);case 26:case 5:Oo(b,E,h),h&&g===null&&k&4&&hk(E),rf(E,E.return);break;case 12:Oo(b,E,h);break;case 31:Oo(b,E,h),h&&k&4&&vk(b,E);break;case 13:Oo(b,E,h),h&&k&4&&bk(b,E);break;case 22:E.memoizedState===null&&Oo(b,E,h),rf(E,E.return);break;case 30:break;default:Oo(b,E,h)}c=c.sibling}}function ob(a,c){var h=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),a=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(a=c.memoizedState.cachePool.pool),a!==h&&(a!=null&&a.refCount++,h!=null&&$h(h))}function ab(a,c){a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&$h(a))}function ni(a,c,h,g){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Sk(a,c,h,g),c=c.sibling}function Sk(a,c,h,g){var b=c.flags;switch(c.tag){case 0:case 11:case 15:ni(a,c,h,g),b&2048&&sf(9,c);break;case 1:ni(a,c,h,g);break;case 3:ni(a,c,h,g),b&2048&&(a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&$h(a)));break;case 12:if(b&2048){ni(a,c,h,g),a=c.stateNode;try{var E=c.memoizedProps,k=E.id,j=E.onPostCommit;typeof j=="function"&&j(k,c.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch($){vt(c,c.return,$)}}else ni(a,c,h,g);break;case 31:ni(a,c,h,g);break;case 13:ni(a,c,h,g);break;case 23:break;case 22:E=c.stateNode,k=c.alternate,c.memoizedState!==null?E._visibility&2?ni(a,c,h,g):of(a,c):E._visibility&2?ni(a,c,h,g):(E._visibility|=2,Wu(a,c,h,g,(c.subtreeFlags&10256)!==0||!1)),b&2048&&ob(k,c);break;case 24:ni(a,c,h,g),b&2048&&ab(c.alternate,c);break;default:ni(a,c,h,g)}}function Wu(a,c,h,g,b){for(b=b&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var E=a,k=c,j=h,$=g,Z=k.flags;switch(k.tag){case 0:case 11:case 15:Wu(E,k,j,$,b),sf(8,k);break;case 23:break;case 22:var re=k.stateNode;k.memoizedState!==null?re._visibility&2?Wu(E,k,j,$,b):of(E,k):(re._visibility|=2,Wu(E,k,j,$,b)),b&&Z&2048&&ob(k.alternate,k);break;case 24:Wu(E,k,j,$,b),b&&Z&2048&&ab(k.alternate,k);break;default:Wu(E,k,j,$,b)}c=c.sibling}}function of(a,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var h=a,g=c,b=g.flags;switch(g.tag){case 22:of(h,g),b&2048&&ob(g.alternate,g);break;case 24:of(h,g),b&2048&&ab(g.alternate,g);break;default:of(h,g)}c=c.sibling}}var af=8192;function Ku(a,c,h){if(a.subtreeFlags&af)for(a=a.child;a!==null;)Tk(a,c,h),a=a.sibling}function Tk(a,c,h){switch(a.tag){case 26:Ku(a,c,h),a.flags&af&&a.memoizedState!==null&&R8(h,ti,a.memoizedState,a.memoizedProps);break;case 5:Ku(a,c,h);break;case 3:case 4:var g=ti;ti=jg(a.stateNode.containerInfo),Ku(a,c,h),ti=g;break;case 22:a.memoizedState===null&&(g=a.alternate,g!==null&&g.memoizedState!==null?(g=af,af=16777216,Ku(a,c,h),af=g):Ku(a,c,h));break;default:Ku(a,c,h)}}function _k(a){var c=a.alternate;if(c!==null&&(a=c.child,a!==null)){c.child=null;do c=a.sibling,a.sibling=null,a=c;while(a!==null)}}function lf(a){var c=a.deletions;if((a.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];Fn=g,Ck(g,a)}_k(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Ak(a),a=a.sibling}function Ak(a){switch(a.tag){case 0:case 11:case 15:lf(a),a.flags&2048&&Ia(9,a,a.return);break;case 3:lf(a);break;case 12:lf(a);break;case 22:var c=a.stateNode;a.memoizedState!==null&&c._visibility&2&&(a.return===null||a.return.tag!==13)?(c._visibility&=-3,Sg(a)):lf(a);break;default:lf(a)}}function Sg(a){var c=a.deletions;if((a.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];Fn=g,Ck(g,a)}_k(a)}for(a=a.child;a!==null;){switch(c=a,c.tag){case 0:case 11:case 15:Ia(8,c,c.return),Sg(c);break;case 22:h=c.stateNode,h._visibility&2&&(h._visibility&=-3,Sg(c));break;default:Sg(c)}a=a.sibling}}function Ck(a,c){for(;Fn!==null;){var h=Fn;switch(h.tag){case 0:case 11:case 15:Ia(8,h,c);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var g=h.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:$h(h.memoizedState.cache)}if(g=h.child,g!==null)g.return=h,Fn=g;else e:for(h=a;Fn!==null;){g=Fn;var b=g.sibling,E=g.return;if(yk(g),g===h){Fn=null;break e}if(b!==null){b.return=E,Fn=b;break e}Fn=E}}}var q7={getCacheForType:function(a){var c=Qn(yn),h=c.data.get(a);return h===void 0&&(h=a(),c.data.set(a,h)),h},cacheSignal:function(){return Qn(yn).controller.signal}},W7=typeof WeakMap=="function"?WeakMap:Map,mt=0,Ct=null,nt=null,rt=0,xt=0,hr=null,Da=!1,Gu=!1,lb=!1,jo=0,Xt=0,Pa=0,wc=0,cb=0,fr=0,Yu=0,cf=null,Ws=null,ub=!1,Tg=0,kk=0,_g=1/0,Ag=null,Oa=null,Rn=0,ja=null,Xu=null,Lo=0,db=0,hb=null,Nk=null,uf=0,fb=null;function pr(){return(mt&2)!==0&&rt!==0?rt&-rt:K.T!==null?vb():ir()}function Rk(){if(fr===0)if((rt&536870912)===0||ct){var a=bo;bo<<=1,(bo&3932160)===0&&(bo=262144),fr=a}else fr=536870912;return a=ur.current,a!==null&&(a.flags|=32),fr}function Ks(a,c,h){(a===Ct&&(xt===2||xt===9)||a.cancelPendingCommit!==null)&&(Qu(a,0),La(a,rt,fr,!1)),Bs(a,h),((mt&2)===0||a!==Ct)&&(a===Ct&&((mt&2)===0&&(wc|=h),Xt===4&&La(a,rt,fr,!1)),Ui(a))}function Mk(a,c,h){if((mt&6)!==0)throw Error(s(327));var g=!h&&(c&127)===0&&(c&a.expiredLanes)===0||fn(a,c),b=g?Y7(a,c):mb(a,c,!0),E=g;do{if(b===0){Gu&&!g&&La(a,c,0,!1);break}else{if(h=a.current.alternate,E&&!K7(h)){b=mb(a,c,!1),E=!1;continue}if(b===2){if(E=c,a.errorRecoveryDisabledLanes&E)var k=0;else k=a.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){c=k;e:{var j=a;b=cf;var $=j.current.memoizedState.isDehydrated;if($&&(Qu(j,k).flags|=256),k=mb(j,k,!1),k!==2){if(lb&&!$){j.errorRecoveryDisabledLanes|=E,wc|=E,b=4;break e}E=Ws,Ws=b,E!==null&&(Ws===null?Ws=E:Ws.push.apply(Ws,E))}b=k}if(E=!1,b!==2)continue}}if(b===1){Qu(a,0),La(a,c,0,!0);break}e:{switch(g=a,E=b,E){case 0:case 1:throw Error(s(345));case 4:if((c&4194048)!==c)break;case 6:La(g,c,fr,!Da);break e;case 2:Ws=null;break;case 3:case 5:break;default:throw Error(s(329))}if((c&62914560)===c&&(b=Tg+300-Vn(),10<b)){if(La(g,c,fr,!Da),Bt(g,0,!0)!==0)break e;Lo=c,g.timeoutHandle=lN(Ik.bind(null,g,h,Ws,Ag,ub,c,fr,wc,Yu,Da,E,"Throttled",-0,0),b);break e}Ik(g,h,Ws,Ag,ub,c,fr,wc,Yu,Da,E,null,-0,0)}}break}while(!0);Ui(a)}function Ik(a,c,h,g,b,E,k,j,$,Z,re,ae,ee,ne){if(a.timeoutHandle=-1,ae=c.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yr},Tk(c,E,ae);var _e=(E&62914560)===E?Tg-Vn():(E&4194048)===E?kk-Vn():0;if(_e=M8(ae,_e),_e!==null){Lo=E,a.cancelPendingCommit=_e(Bk.bind(null,a,c,E,h,g,b,k,j,$,re,ae,null,ee,ne)),La(a,E,k,!Z);return}}Bk(a,c,E,h,g,b,k,j,$)}function K7(a){for(var c=a;;){var h=c.tag;if((h===0||h===11||h===15)&&c.flags&16384&&(h=c.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var g=0;g<h.length;g++){var b=h[g],E=b.getSnapshot;b=b.value;try{if(!lr(E(),b))return!1}catch{return!1}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function La(a,c,h,g){c&=~cb,c&=~wc,a.suspendedLanes|=c,a.pingedLanes&=~c,g&&(a.warmLanes|=c),g=a.expirationTimes;for(var b=c;0<b;){var E=31-Vt(b),k=1<<E;g[E]=-1,b&=~k}h!==0&&fs(a,h,c)}function Cg(){return(mt&6)===0?(df(0),!1):!0}function pb(){if(nt!==null){if(xt===0)var a=nt.return;else a=nt,Ao=hc=null,R1(a),Uu=null,Wh=0,a=nt;for(;a!==null;)ck(a.alternate,a),a=a.return;nt=null}}function Qu(a,c){var h=a.timeoutHandle;h!==-1&&(a.timeoutHandle=-1,f8(h)),h=a.cancelPendingCommit,h!==null&&(a.cancelPendingCommit=null,h()),Lo=0,pb(),Ct=a,nt=h=To(a.current,null),rt=c,xt=0,hr=null,Da=!1,Gu=fn(a,c),lb=!1,Yu=fr=cb=wc=Pa=Xt=0,Ws=cf=null,ub=!1,(c&8)!==0&&(c|=c&32);var g=a.entangledLanes;if(g!==0)for(a=a.entanglements,g&=c;0<g;){var b=31-Vt(g),E=1<<b;c|=a[b],g&=~E}return jo=c,Gm(),h}function Dk(a,c){Ge=null,K.H=ef,c===Bu||c===ng?(c=YA(),xt=3):c===x1?(c=YA(),xt=4):xt=c===W1?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,hr=c,nt===null&&(Xt=1,gg(a,Mr(c,a.current)))}function Pk(){var a=ur.current;return a===null?!0:(rt&4194048)===rt?Or===null:(rt&62914560)===rt||(rt&536870912)!==0?a===Or:!1}function Ok(){var a=K.H;return K.H=ef,a===null?ef:a}function jk(){var a=K.A;return K.A=q7,a}function kg(){Xt=4,Da||(rt&4194048)!==rt&&ur.current!==null||(Gu=!0),(Pa&134217727)===0&&(wc&134217727)===0||Ct===null||La(Ct,rt,fr,!1)}function mb(a,c,h){var g=mt;mt|=2;var b=Ok(),E=jk();(Ct!==a||rt!==c)&&(Ag=null,Qu(a,c)),c=!1;var k=Xt;e:do try{if(xt!==0&&nt!==null){var j=nt,$=hr;switch(xt){case 8:pb(),k=6;break e;case 3:case 2:case 9:case 6:ur.current===null&&(c=!0);var Z=xt;if(xt=0,hr=null,Ju(a,j,$,Z),h&&Gu){k=0;break e}break;default:Z=xt,xt=0,hr=null,Ju(a,j,$,Z)}}G7(),k=Xt;break}catch(re){Dk(a,re)}while(!0);return c&&a.shellSuspendCounter++,Ao=hc=null,mt=g,K.H=b,K.A=E,nt===null&&(Ct=null,rt=0,Gm()),k}function G7(){for(;nt!==null;)Lk(nt)}function Y7(a,c){var h=mt;mt|=2;var g=Ok(),b=jk();Ct!==a||rt!==c?(Ag=null,_g=Vn()+500,Qu(a,c)):Gu=fn(a,c);e:do try{if(xt!==0&&nt!==null){c=nt;var E=hr;t:switch(xt){case 1:xt=0,hr=null,Ju(a,c,E,1);break;case 2:case 9:if(KA(E)){xt=0,hr=null,Vk(c);break}c=function(){xt!==2&&xt!==9||Ct!==a||(xt=7),Ui(a)},E.then(c,c);break e;case 3:xt=7;break e;case 4:xt=5;break e;case 7:KA(E)?(xt=0,hr=null,Vk(c)):(xt=0,hr=null,Ju(a,c,E,7));break;case 5:var k=null;switch(nt.tag){case 26:k=nt.memoizedState;case 5:case 27:var j=nt;if(k?SN(k):j.stateNode.complete){xt=0,hr=null;var $=j.sibling;if($!==null)nt=$;else{var Z=j.return;Z!==null?(nt=Z,Ng(Z)):nt=null}break t}}xt=0,hr=null,Ju(a,c,E,5);break;case 6:xt=0,hr=null,Ju(a,c,E,6);break;case 8:pb(),Xt=6;break e;default:throw Error(s(462))}}X7();break}catch(re){Dk(a,re)}while(!0);return Ao=hc=null,K.H=g,K.A=b,mt=h,nt!==null?0:(Ct=null,rt=0,Gm(),Xt)}function X7(){for(;nt!==null&&!fa();)Lk(nt)}function Lk(a){var c=ak(a.alternate,a,jo);a.memoizedProps=a.pendingProps,c===null?Ng(a):nt=c}function Vk(a){var c=a,h=c.alternate;switch(c.tag){case 15:case 0:c=tk(h,c,c.pendingProps,c.type,void 0,rt);break;case 11:c=tk(h,c,c.pendingProps,c.type.render,c.ref,rt);break;case 5:R1(c);default:ck(h,c),c=nt=jA(c,jo),c=ak(h,c,jo)}a.memoizedProps=a.pendingProps,c===null?Ng(a):nt=c}function Ju(a,c,h,g){Ao=hc=null,R1(c),Uu=null,Wh=0;var b=c.return;try{if(V7(a,b,c,h,rt)){Xt=1,gg(a,Mr(h,a.current)),nt=null;return}}catch(E){if(b!==null)throw nt=b,E;Xt=1,gg(a,Mr(h,a.current)),nt=null;return}c.flags&32768?(ct||g===1?a=!0:Gu||(rt&536870912)!==0?a=!1:(Da=a=!0,(g===2||g===9||g===3||g===6)&&(g=ur.current,g!==null&&g.tag===13&&(g.flags|=16384))),zk(c,a)):Ng(c)}function Ng(a){var c=a;do{if((c.flags&32768)!==0){zk(c,Da);return}a=c.return;var h=U7(c.alternate,c,jo);if(h!==null){nt=h;return}if(c=c.sibling,c!==null){nt=c;return}nt=c=a}while(c!==null);Xt===0&&(Xt=5)}function zk(a,c){do{var h=F7(a.alternate,a);if(h!==null){h.flags&=32767,nt=h;return}if(h=a.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!c&&(a=a.sibling,a!==null)){nt=a;return}nt=a=h}while(a!==null);Xt=6,nt=null}function Bk(a,c,h,g,b,E,k,j,$){a.cancelPendingCommit=null;do Rg();while(Rn!==0);if((mt&6)!==0)throw Error(s(327));if(c!==null){if(c===a.current)throw Error(s(177));if(E=c.lanes|c.childLanes,E|=s1,sn(a,h,E,k,j,$),a===Ct&&(nt=Ct=null,rt=0),Xu=c,ja=a,Lo=h,db=E,hb=b,Nk=g,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,e8(Cs,function(){return qk(),null})):(a.callbackNode=null,a.callbackPriority=0),g=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||g){g=K.T,K.T=null,b=X.p,X.p=2,k=mt,mt|=4;try{H7(a,c,h)}finally{mt=k,X.p=b,K.T=g}}Rn=1,Uk(),Fk(),Hk()}}function Uk(){if(Rn===1){Rn=0;var a=ja,c=Xu,h=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||h){h=K.T,K.T=null;var g=X.p;X.p=2;var b=mt;mt|=4;try{wk(c,a);var E=Cb,k=CA(a.containerInfo),j=E.focusedElem,$=E.selectionRange;if(k!==j&&j&&j.ownerDocument&&AA(j.ownerDocument.documentElement,j)){if($!==null&&Jv(j)){var Z=$.start,re=$.end;if(re===void 0&&(re=Z),"selectionStart"in j)j.selectionStart=Z,j.selectionEnd=Math.min(re,j.value.length);else{var ae=j.ownerDocument||document,ee=ae&&ae.defaultView||window;if(ee.getSelection){var ne=ee.getSelection(),_e=j.textContent.length,ze=Math.min($.start,_e),At=$.end===void 0?ze:Math.min($.end,_e);!ne.extend&&ze>At&&(k=At,At=ze,ze=k);var G=_A(j,ze),W=_A(j,At);if(G&&W&&(ne.rangeCount!==1||ne.anchorNode!==G.node||ne.anchorOffset!==G.offset||ne.focusNode!==W.node||ne.focusOffset!==W.offset)){var J=ae.createRange();J.setStart(G.node,G.offset),ne.removeAllRanges(),ze>At?(ne.addRange(J),ne.extend(W.node,W.offset)):(J.setEnd(W.node,W.offset),ne.addRange(J))}}}}for(ae=[],ne=j;ne=ne.parentNode;)ne.nodeType===1&&ae.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<ae.length;j++){var ie=ae[j];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}Fg=!!Ab,Cb=Ab=null}finally{mt=b,X.p=g,K.T=h}}a.current=c,Rn=2}}function Fk(){if(Rn===2){Rn=0;var a=ja,c=Xu,h=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||h){h=K.T,K.T=null;var g=X.p;X.p=2;var b=mt;mt|=4;try{gk(a,c.alternate,c)}finally{mt=b,X.p=g,K.T=h}}Rn=3}}function Hk(){if(Rn===4||Rn===3){Rn=0,Gl();var a=ja,c=Xu,h=Lo,g=Nk;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Rn=5:(Rn=0,Xu=ja=null,$k(a,a.pendingLanes));var b=a.pendingLanes;if(b===0&&(Oa=null),Ns(h),c=c.stateNode,Nn&&typeof Nn.onCommitFiberRoot=="function")try{Nn.onCommitFiberRoot(sr,c,void 0,(c.current.flags&128)===128)}catch{}if(g!==null){c=K.T,b=X.p,X.p=2,K.T=null;try{for(var E=a.onRecoverableError,k=0;k<g.length;k++){var j=g[k];E(j.value,{componentStack:j.stack})}}finally{K.T=c,X.p=b}}(Lo&3)!==0&&Rg(),Ui(a),b=a.pendingLanes,(h&261930)!==0&&(b&42)!==0?a===fb?uf++:(uf=0,fb=a):uf=0,df(0)}}function $k(a,c){(a.pooledCacheLanes&=c)===0&&(c=a.pooledCache,c!=null&&(a.pooledCache=null,$h(c)))}function Rg(){return Uk(),Fk(),Hk(),qk()}function qk(){if(Rn!==5)return!1;var a=ja,c=db;db=0;var h=Ns(Lo),g=K.T,b=X.p;try{X.p=32>h?32:h,K.T=null,h=hb,hb=null;var E=ja,k=Lo;if(Rn=0,Xu=ja=null,Lo=0,(mt&6)!==0)throw Error(s(331));var j=mt;if(mt|=4,Ak(E.current),Sk(E,E.current,k,h),mt=j,df(0,!1),Nn&&typeof Nn.onPostCommitFiberRoot=="function")try{Nn.onPostCommitFiberRoot(sr,E)}catch{}return!0}finally{X.p=b,K.T=g,$k(a,c)}}function Wk(a,c,h){c=Mr(h,c),c=q1(a.stateNode,c,2),a=Na(a,c,2),a!==null&&(Bs(a,2),Ui(a))}function vt(a,c,h){if(a.tag===3)Wk(a,a,h);else for(;c!==null;){if(c.tag===3){Wk(c,a,h);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Oa===null||!Oa.has(g))){a=Mr(h,a),h=KC(2),g=Na(c,h,2),g!==null&&(GC(h,g,c,a),Bs(g,2),Ui(g));break}}c=c.return}}function gb(a,c,h){var g=a.pingCache;if(g===null){g=a.pingCache=new W7;var b=new Set;g.set(c,b)}else b=g.get(c),b===void 0&&(b=new Set,g.set(c,b));b.has(h)||(lb=!0,b.add(h),a=Q7.bind(null,a,c,h),c.then(a,a))}function Q7(a,c,h){var g=a.pingCache;g!==null&&g.delete(c),a.pingedLanes|=a.suspendedLanes&h,a.warmLanes&=~h,Ct===a&&(rt&h)===h&&(Xt===4||Xt===3&&(rt&62914560)===rt&&300>Vn()-Tg?(mt&2)===0&&Qu(a,0):cb|=h,Yu===rt&&(Yu=0)),Ui(a)}function Kk(a,c){c===0&&(c=zn()),a=cc(a,c),a!==null&&(Bs(a,c),Ui(a))}function J7(a){var c=a.memoizedState,h=0;c!==null&&(h=c.retryLane),Kk(a,h)}function Z7(a,c){var h=0;switch(a.tag){case 31:case 13:var g=a.stateNode,b=a.memoizedState;b!==null&&(h=b.retryLane);break;case 19:g=a.stateNode;break;case 22:g=a.stateNode._retryCache;break;default:throw Error(s(314))}g!==null&&g.delete(c),Kk(a,h)}function e8(a,c){return Et(a,c)}var Mg=null,Zu=null,yb=!1,Ig=!1,xb=!1,Va=0;function Ui(a){a!==Zu&&a.next===null&&(Zu===null?Mg=Zu=a:Zu=Zu.next=a),Ig=!0,yb||(yb=!0,n8())}function df(a,c){if(!xb&&Ig){xb=!0;do for(var h=!1,g=Mg;g!==null;){if(a!==0){var b=g.pendingLanes;if(b===0)var E=0;else{var k=g.suspendedLanes,j=g.pingedLanes;E=(1<<31-Vt(42|a)+1)-1,E&=b&~(k&~j),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(h=!0,Qk(g,E))}else E=rt,E=Bt(g,g===Ct?E:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(E&3)===0||fn(g,E)||(h=!0,Qk(g,E));g=g.next}while(h);xb=!1}}function t8(){Gk()}function Gk(){Ig=yb=!1;var a=0;Va!==0&&h8()&&(a=Va);for(var c=Vn(),h=null,g=Mg;g!==null;){var b=g.next,E=Yk(g,c);E===0?(g.next=null,h===null?Mg=b:h.next=b,b===null&&(Zu=h)):(h=g,(a!==0||(E&3)!==0)&&(Ig=!0)),g=b}Rn!==0&&Rn!==5||df(a),Va!==0&&(Va=0)}function Yk(a,c){for(var h=a.suspendedLanes,g=a.pingedLanes,b=a.expirationTimes,E=a.pendingLanes&-62914561;0<E;){var k=31-Vt(E),j=1<<k,$=b[k];$===-1?((j&h)===0||(j&g)!==0)&&(b[k]=hs(j,c)):$<=c&&(a.expiredLanes|=j),E&=~j}if(c=Ct,h=rt,h=Bt(a,a===c?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g=a.callbackNode,h===0||a===c&&(xt===2||xt===9)||a.cancelPendingCommit!==null)return g!==null&&g!==null&&tr(g),a.callbackNode=null,a.callbackPriority=0;if((h&3)===0||fn(a,h)){if(c=h&-h,c===a.callbackPriority)return c;switch(g!==null&&tr(g),Ns(h)){case 2:case 8:h=Tr;break;case 32:h=Cs;break;case 268435456:h=Xl;break;default:h=Cs}return g=Xk.bind(null,a),h=Et(h,g),a.callbackPriority=c,a.callbackNode=h,c}return g!==null&&g!==null&&tr(g),a.callbackPriority=2,a.callbackNode=null,2}function Xk(a,c){if(Rn!==0&&Rn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var h=a.callbackNode;if(Rg()&&a.callbackNode!==h)return null;var g=rt;return g=Bt(a,a===Ct?g:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g===0?null:(Mk(a,g,c),Yk(a,Vn()),a.callbackNode!=null&&a.callbackNode===h?Xk.bind(null,a):null)}function Qk(a,c){if(Rg())return null;Mk(a,c,!0)}function n8(){p8(function(){(mt&6)!==0?Et(Yl,t8):Gk()})}function vb(){if(Va===0){var a=Vu;a===0&&(a=_r,_r<<=1,(_r&261888)===0&&(_r=256)),Va=a}return Va}function Jk(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Su(""+a)}function Zk(a,c){var h=c.ownerDocument.createElement("input");return h.name=c.name,h.value=c.value,a.id&&h.setAttribute("form",a.id),c.parentNode.insertBefore(h,c),a=new FormData(a),h.parentNode.removeChild(h),a}function s8(a,c,h,g,b){if(c==="submit"&&h&&h.stateNode===b){var E=Jk((b[Bn]||null).action),k=g.submitter;k&&(c=(c=k[Bn]||null)?Jk(c.formAction):k.getAttribute("formAction"),c!==null&&(E=c,k=null));var j=new Pi("action","action",null,g,b);a.push({event:j,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Va!==0){var $=k?Zk(b,k):new FormData(b);z1(h,{pending:!0,data:$,method:b.method,action:E},null,$)}}else typeof E=="function"&&(j.preventDefault(),$=k?Zk(b,k):new FormData(b),z1(h,{pending:!0,data:$,method:b.method,action:E},E,$))},currentTarget:b}]})}}for(var bb=0;bb<n1.length;bb++){var wb=n1[bb],r8=wb.toLowerCase(),i8=wb[0].toUpperCase()+wb.slice(1);ei(r8,"on"+i8)}ei(RA,"onAnimationEnd"),ei(MA,"onAnimationIteration"),ei(IA,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(w7,"onTransitionRun"),ei(E7,"onTransitionStart"),ei(S7,"onTransitionCancel"),ei(DA,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o8=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hf));function eN(a,c){c=(c&4)!==0;for(var h=0;h<a.length;h++){var g=a[h],b=g.event;g=g.listeners;e:{var E=void 0;if(c)for(var k=g.length-1;0<=k;k--){var j=g[k],$=j.instance,Z=j.currentTarget;if(j=j.listener,$!==E&&b.isPropagationStopped())break e;E=j,b.currentTarget=Z;try{E(b)}catch(re){Km(re)}b.currentTarget=null,E=$}else for(k=0;k<g.length;k++){if(j=g[k],$=j.instance,Z=j.currentTarget,j=j.listener,$!==E&&b.isPropagationStopped())break e;E=j,b.currentTarget=Z;try{E(b)}catch(re){Km(re)}b.currentTarget=null,E=$}}}}function st(a,c){var h=c[xu];h===void 0&&(h=c[xu]=new Set);var g=a+"__bubble";h.has(g)||(tN(c,a,2,!1),h.add(g))}function Eb(a,c,h){var g=0;c&&(g|=4),tN(h,a,g,c)}var Dg="_reactListening"+Math.random().toString(36).slice(2);function Sb(a){if(!a[Dg]){a[Dg]=!0,Sh.forEach(function(h){h!=="selectionchange"&&(o8.has(h)||Eb(h,!1,a),Eb(h,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[Dg]||(c[Dg]=!0,Eb("selectionchange",!1,c))}}function tN(a,c,h,g){switch(RN(c)){case 2:var b=P8;break;case 8:b=O8;break;default:b=Vb}h=b.bind(null,c,h,a),b=void 0,!tc||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(b=!0),g?b!==void 0?a.addEventListener(c,h,{capture:!0,passive:b}):a.addEventListener(c,h,!0):b!==void 0?a.addEventListener(c,h,{passive:b}):a.addEventListener(c,h,!1)}function Tb(a,c,h,g,b){var E=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var k=g.tag;if(k===3||k===4){var j=g.stateNode.containerInfo;if(j===b)break;if(k===4)for(k=g.return;k!==null;){var $=k.tag;if(($===3||$===4)&&k.stateNode.containerInfo===b)return;k=k.return}for(;j!==null;){if(k=Ci(j),k===null)return;if($=k.tag,$===5||$===6||$===26||$===27){g=E=k;continue e}j=j.parentNode}}g=g.return}va(function(){var Z=E,re=Cr(h),ae=[];e:{var ee=PA.get(a);if(ee!==void 0){var ne=Pi,_e=a;switch(a){case"keypress":if(sc(h)===0)break e;case"keydown":case"keyup":ne=$m;break;case"focusin":_e="focus",ne=ic;break;case"focusout":_e="blur",ne=ic;break;case"beforeblur":case"afterblur":ne=ic;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=jh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=Om;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=C;break;case RA:case MA:case IA:ne=Lm;break;case DA:ne=V;break;case"scroll":case"scrollend":ne=Oh;break;case"wheel":ne=te;break;case"copy":case"cut":case"paste":ne=Vm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=So;break;case"toggle":case"beforetoggle":ne=Ke}var ze=(c&4)!==0,At=!ze&&(a==="scroll"||a==="scrollend"),G=ze?ee!==null?ee+"Capture":null:ee;ze=[];for(var W=Z,J;W!==null;){var ie=W;if(J=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||J===null||G===null||(ie=Xr(W,G),ie!=null&&ze.push(ff(W,ie,J))),At)break;W=W.return}0<ze.length&&(ee=new ne(ee,_e,null,h,re),ae.push({event:ee,listeners:ze}))}}if((c&7)===0){e:{if(ee=a==="mouseover"||a==="pointerover",ne=a==="mouseout"||a==="pointerout",ee&&h!==Ih&&(_e=h.relatedTarget||h.fromElement)&&(Ci(_e)||_e[_i]))break e;if((ne||ee)&&(ee=re.window===re?re:(ee=re.ownerDocument)?ee.defaultView||ee.parentWindow:window,ne?(_e=h.relatedTarget||h.toElement,ne=Z,_e=_e?Ci(_e):null,_e!==null&&(At=i(_e),ze=_e.tag,_e!==At||ze!==5&&ze!==27&&ze!==6)&&(_e=null)):(ne=null,_e=Z),ne!==_e)){if(ze=jh,ie="onMouseLeave",G="onMouseEnter",W="mouse",(a==="pointerout"||a==="pointerover")&&(ze=So,ie="onPointerLeave",G="onPointerEnter",W="pointer"),At=ne==null?ee:or(ne),J=_e==null?ee:or(_e),ee=new ze(ie,W+"leave",ne,h,re),ee.target=At,ee.relatedTarget=J,ie=null,Ci(re)===Z&&(ze=new ze(G,W+"enter",_e,h,re),ze.target=J,ze.relatedTarget=At,ie=ze),At=ie,ne&&_e)t:{for(ze=a8,G=ne,W=_e,J=0,ie=G;ie;ie=ze(ie))J++;ie=0;for(var Oe=W;Oe;Oe=ze(Oe))ie++;for(;0<J-ie;)G=ze(G),J--;for(;0<ie-J;)W=ze(W),ie--;for(;J--;){if(G===W||W!==null&&G===W.alternate){ze=G;break t}G=ze(G),W=ze(W)}ze=null}else ze=null;ne!==null&&nN(ae,ee,ne,ze,!1),_e!==null&&At!==null&&nN(ae,At,_e,ze,!0)}}e:{if(ee=Z?or(Z):window,ne=ee.nodeName&&ee.nodeName.toLowerCase(),ne==="select"||ne==="input"&&ee.type==="file")var ht=vA;else if(yA(ee))if(bA)ht=x7;else{ht=g7;var Re=m7}else ne=ee.nodeName,!ne||ne.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Z&&Eu(Z.elementType)&&(ht=vA):ht=y7;if(ht&&(ht=ht(a,Z))){xA(ae,ht,h,re);break e}Re&&Re(a,ee,Z),a==="focusout"&&Z&&ee.type==="number"&&Z.memoizedProps.value!=null&&Nh(ee,"number",ee.value)}switch(Re=Z?or(Z):window,a){case"focusin":(yA(Re)||Re.contentEditable==="true")&&(Ru=Re,Zv=Z,Uh=null);break;case"focusout":Uh=Zv=Ru=null;break;case"mousedown":e1=!0;break;case"contextmenu":case"mouseup":case"dragend":e1=!1,kA(ae,h,re);break;case"selectionchange":if(b7)break;case"keydown":case"keyup":kA(ae,h,re)}var Xe;if(pt)e:{switch(a){case"compositionstart":var it="onCompositionStart";break e;case"compositionend":it="onCompositionEnd";break e;case"compositionupdate":it="onCompositionUpdate";break e}it=void 0}else Nu?oc(a,h)&&(it="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(it="onCompositionStart");it&&(Li&&h.locale!=="ko"&&(Nu||it!=="onCompositionStart"?it==="onCompositionEnd"&&Nu&&(Xe=Ph()):(Di=re,Dh="value"in Di?Di.value:Di.textContent,Nu=!0)),Re=Pg(Z,it),0<Re.length&&(it=new ji(it,a,null,h,re),ae.push({event:it,listeners:Re}),Xe?it.data=Xe:(Xe=ku(h),Xe!==null&&(it.data=Xe)))),(Xe=Nr?d7(a,h):h7(a,h))&&(it=Pg(Z,"onBeforeInput"),0<it.length&&(Re=new ji("onBeforeInput","beforeinput",null,h,re),ae.push({event:Re,listeners:it}),Re.data=Xe)),s8(ae,a,Z,h,re)}eN(ae,c)})}function ff(a,c,h){return{instance:a,listener:c,currentTarget:h}}function Pg(a,c){for(var h=c+"Capture",g=[];a!==null;){var b=a,E=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||E===null||(b=Xr(a,h),b!=null&&g.unshift(ff(a,b,E)),b=Xr(a,c),b!=null&&g.push(ff(a,b,E))),a.tag===3)return g;a=a.return}return[]}function a8(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function nN(a,c,h,g,b){for(var E=c._reactName,k=[];h!==null&&h!==g;){var j=h,$=j.alternate,Z=j.stateNode;if(j=j.tag,$!==null&&$===g)break;j!==5&&j!==26&&j!==27||Z===null||($=Z,b?(Z=Xr(h,E),Z!=null&&k.unshift(ff(h,Z,$))):b||(Z=Xr(h,E),Z!=null&&k.push(ff(h,Z,$)))),h=h.return}k.length!==0&&a.push({event:c,listeners:k})}var l8=/\r\n?/g,c8=/\u0000|\uFFFD/g;function sN(a){return(typeof a=="string"?a:""+a).replace(l8,`
`).replace(c8,"")}function rN(a,c){return c=sN(c),sN(a)===c}function _t(a,c,h,g,b,E){switch(h){case"children":typeof g=="string"?c==="body"||c==="textarea"&&g===""||Fs(a,g):(typeof g=="number"||typeof g=="bigint")&&c!=="body"&&Fs(a,""+g);break;case"className":ar(a,"class",g);break;case"tabIndex":ar(a,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":ar(a,h,g);break;case"style":Mh(a,g,E);break;case"data":if(c!=="object"){ar(a,"data",g);break}case"src":case"href":if(g===""&&(c!=="a"||h!=="href")){a.removeAttribute(h);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(h);break}g=Su(""+g),a.setAttribute(h,g);break;case"action":case"formAction":if(typeof g=="function"){a.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(h==="formAction"?(c!=="input"&&_t(a,c,"name",b.name,b,null),_t(a,c,"formEncType",b.formEncType,b,null),_t(a,c,"formMethod",b.formMethod,b,null),_t(a,c,"formTarget",b.formTarget,b,null)):(_t(a,c,"encType",b.encType,b,null),_t(a,c,"method",b.method,b,null),_t(a,c,"target",b.target,b,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(h);break}g=Su(""+g),a.setAttribute(h,g);break;case"onClick":g!=null&&(a.onclick=Yr);break;case"onScroll":g!=null&&st("scroll",a);break;case"onScrollEnd":g!=null&&st("scrollend",a);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(s(61));if(h=g.__html,h!=null){if(b.children!=null)throw Error(s(60));a.innerHTML=h}}break;case"multiple":a.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":a.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){a.removeAttribute("xlink:href");break}h=Su(""+g),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(h,""+g):a.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(h,""):a.removeAttribute(h);break;case"capture":case"download":g===!0?a.setAttribute(h,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(h,g):a.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?a.setAttribute(h,g):a.removeAttribute(h);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?a.removeAttribute(h):a.setAttribute(h,g);break;case"popover":st("beforetoggle",a),st("toggle",a),bu(a,"popover",g);break;case"xlinkActuate":gn(a,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":gn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":gn(a,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":gn(a,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":gn(a,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":gn(a,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":gn(a,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":gn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":gn(a,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":bu(a,"is",g);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=Pm.get(h)||h,bu(a,h,g))}}function _b(a,c,h,g,b,E){switch(h){case"style":Mh(a,g,E);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(s(61));if(h=g.__html,h!=null){if(b.children!=null)throw Error(s(60));a.innerHTML=h}}break;case"children":typeof g=="string"?Fs(a,g):(typeof g=="number"||typeof g=="bigint")&&Fs(a,""+g);break;case"onScroll":g!=null&&st("scroll",a);break;case"onScrollEnd":g!=null&&st("scrollend",a);break;case"onClick":g!=null&&(a.onclick=Yr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Th.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(b=h.endsWith("Capture"),c=h.slice(2,b?h.length-7:void 0),E=a[Bn]||null,E=E!=null?E[h]:null,typeof E=="function"&&a.removeEventListener(c,E,b),typeof g=="function")){typeof E!="function"&&E!==null&&(h in a?a[h]=null:a.hasAttribute(h)&&a.removeAttribute(h)),a.addEventListener(c,g,b);break e}h in a?a[h]=g:g===!0?a.setAttribute(h,""):bu(a,h,g)}}}function Zn(a,c,h){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":st("error",a),st("load",a);var g=!1,b=!1,E;for(E in h)if(h.hasOwnProperty(E)){var k=h[E];if(k!=null)switch(E){case"src":g=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,c));default:_t(a,c,E,k,h,null)}}b&&_t(a,c,"srcSet",h.srcSet,h,null),g&&_t(a,c,"src",h.src,h,null);return;case"input":st("invalid",a);var j=E=k=b=null,$=null,Z=null;for(g in h)if(h.hasOwnProperty(g)){var re=h[g];if(re!=null)switch(g){case"name":b=re;break;case"type":k=re;break;case"checked":$=re;break;case"defaultChecked":Z=re;break;case"value":E=re;break;case"defaultValue":j=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(s(137,c));break;default:_t(a,c,g,re,h,null)}}Mm(a,E,j,$,Z,k,b,!1);return;case"select":st("invalid",a),g=k=E=null;for(b in h)if(h.hasOwnProperty(b)&&(j=h[b],j!=null))switch(b){case"value":E=j;break;case"defaultValue":k=j;break;case"multiple":g=j;default:_t(a,c,b,j,h,null)}c=E,h=k,a.multiple=!!g,c!=null?ma(a,!!g,c,!1):h!=null&&ma(a,!!g,h,!0);return;case"textarea":st("invalid",a),E=b=g=null;for(k in h)if(h.hasOwnProperty(k)&&(j=h[k],j!=null))switch(k){case"value":g=j;break;case"defaultValue":b=j;break;case"children":E=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(91));break;default:_t(a,c,k,j,h,null)}ga(a,g,b,E);return;case"option":for($ in h)h.hasOwnProperty($)&&(g=h[$],g!=null)&&($==="selected"?a.selected=g&&typeof g!="function"&&typeof g!="symbol":_t(a,c,$,g,h,null));return;case"dialog":st("beforetoggle",a),st("toggle",a),st("cancel",a),st("close",a);break;case"iframe":case"object":st("load",a);break;case"video":case"audio":for(g=0;g<hf.length;g++)st(hf[g],a);break;case"image":st("error",a),st("load",a);break;case"details":st("toggle",a);break;case"embed":case"source":case"link":st("error",a),st("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in h)if(h.hasOwnProperty(Z)&&(g=h[Z],g!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,c));default:_t(a,c,Z,g,h,null)}return;default:if(Eu(c)){for(re in h)h.hasOwnProperty(re)&&(g=h[re],g!==void 0&&_b(a,c,re,g,h,void 0));return}}for(j in h)h.hasOwnProperty(j)&&(g=h[j],g!=null&&_t(a,c,j,g,h,null))}function u8(a,c,h,g){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,E=null,k=null,j=null,$=null,Z=null,re=null;for(ne in h){var ae=h[ne];if(h.hasOwnProperty(ne)&&ae!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":$=ae;default:g.hasOwnProperty(ne)||_t(a,c,ne,null,g,ae)}}for(var ee in g){var ne=g[ee];if(ae=h[ee],g.hasOwnProperty(ee)&&(ne!=null||ae!=null))switch(ee){case"type":E=ne;break;case"name":b=ne;break;case"checked":Z=ne;break;case"defaultChecked":re=ne;break;case"value":k=ne;break;case"defaultValue":j=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(s(137,c));break;default:ne!==ae&&_t(a,c,ee,ne,g,ae)}}wu(a,k,j,$,Z,re,E,b);return;case"select":ne=k=j=ee=null;for(E in h)if($=h[E],h.hasOwnProperty(E)&&$!=null)switch(E){case"value":break;case"multiple":ne=$;default:g.hasOwnProperty(E)||_t(a,c,E,null,g,$)}for(b in g)if(E=g[b],$=h[b],g.hasOwnProperty(b)&&(E!=null||$!=null))switch(b){case"value":ee=E;break;case"defaultValue":j=E;break;case"multiple":k=E;default:E!==$&&_t(a,c,b,E,g,$)}c=j,h=k,g=ne,ee!=null?ma(a,!!h,ee,!1):!!g!=!!h&&(c!=null?ma(a,!!h,c,!0):ma(a,!!h,h?[]:"",!1));return;case"textarea":ne=ee=null;for(j in h)if(b=h[j],h.hasOwnProperty(j)&&b!=null&&!g.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:_t(a,c,j,null,g,b)}for(k in g)if(b=g[k],E=h[k],g.hasOwnProperty(k)&&(b!=null||E!=null))switch(k){case"value":ee=b;break;case"defaultValue":ne=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:b!==E&&_t(a,c,k,b,g,E)}Im(a,ee,ne);return;case"option":for(var _e in h)ee=h[_e],h.hasOwnProperty(_e)&&ee!=null&&!g.hasOwnProperty(_e)&&(_e==="selected"?a.selected=!1:_t(a,c,_e,null,g,ee));for($ in g)ee=g[$],ne=h[$],g.hasOwnProperty($)&&ee!==ne&&(ee!=null||ne!=null)&&($==="selected"?a.selected=ee&&typeof ee!="function"&&typeof ee!="symbol":_t(a,c,$,ee,g,ne));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ze in h)ee=h[ze],h.hasOwnProperty(ze)&&ee!=null&&!g.hasOwnProperty(ze)&&_t(a,c,ze,null,g,ee);for(Z in g)if(ee=g[Z],ne=h[Z],g.hasOwnProperty(Z)&&ee!==ne&&(ee!=null||ne!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,c));break;default:_t(a,c,Z,ee,g,ne)}return;default:if(Eu(c)){for(var At in h)ee=h[At],h.hasOwnProperty(At)&&ee!==void 0&&!g.hasOwnProperty(At)&&_b(a,c,At,void 0,g,ee);for(re in g)ee=g[re],ne=h[re],!g.hasOwnProperty(re)||ee===ne||ee===void 0&&ne===void 0||_b(a,c,re,ee,g,ne);return}}for(var G in h)ee=h[G],h.hasOwnProperty(G)&&ee!=null&&!g.hasOwnProperty(G)&&_t(a,c,G,null,g,ee);for(ae in g)ee=g[ae],ne=h[ae],!g.hasOwnProperty(ae)||ee===ne||ee==null&&ne==null||_t(a,c,ae,ee,g,ne)}function iN(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function d8(){if(typeof performance.getEntriesByType=="function"){for(var a=0,c=0,h=performance.getEntriesByType("resource"),g=0;g<h.length;g++){var b=h[g],E=b.transferSize,k=b.initiatorType,j=b.duration;if(E&&j&&iN(k)){for(k=0,j=b.responseEnd,g+=1;g<h.length;g++){var $=h[g],Z=$.startTime;if(Z>j)break;var re=$.transferSize,ae=$.initiatorType;re&&iN(ae)&&($=$.responseEnd,k+=re*($<j?1:(j-Z)/($-Z)))}if(--g,c+=8*(E+k)/(b.duration/1e3),a++,10<a)break}}if(0<a)return c/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Ab=null,Cb=null;function Og(a){return a.nodeType===9?a:a.ownerDocument}function oN(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function aN(a,c){if(a===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&c==="foreignObject"?0:a}function kb(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Nb=null;function h8(){var a=window.event;return a&&a.type==="popstate"?a===Nb?!1:(Nb=a,!0):(Nb=null,!1)}var lN=typeof setTimeout=="function"?setTimeout:void 0,f8=typeof clearTimeout=="function"?clearTimeout:void 0,cN=typeof Promise=="function"?Promise:void 0,p8=typeof queueMicrotask=="function"?queueMicrotask:typeof cN<"u"?function(a){return cN.resolve(null).then(a).catch(m8)}:lN;function m8(a){setTimeout(function(){throw a})}function za(a){return a==="head"}function uN(a,c){var h=c,g=0;do{var b=h.nextSibling;if(a.removeChild(h),b&&b.nodeType===8)if(h=b.data,h==="/$"||h==="/&"){if(g===0){a.removeChild(b),sd(c);return}g--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")g++;else if(h==="html")pf(a.ownerDocument.documentElement);else if(h==="head"){h=a.ownerDocument.head,pf(h);for(var E=h.firstChild;E;){var k=E.nextSibling,j=E.nodeName;E[Ai]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&E.rel.toLowerCase()==="stylesheet"||h.removeChild(E),E=k}}else h==="body"&&pf(a.ownerDocument.body);h=b}while(h);sd(c)}function dN(a,c){var h=a;a=0;do{var g=h.nextSibling;if(h.nodeType===1?c?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(c?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),g&&g.nodeType===8)if(h=g.data,h==="/$"){if(a===0)break;a--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||a++;h=g}while(h)}function Rb(a){var c=a.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var h=c;switch(c=c.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Rb(h),vu(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}a.removeChild(h)}}function g8(a,c,h,g){for(;a.nodeType===1;){var b=h;if(a.nodeName.toLowerCase()!==c.toLowerCase()){if(!g&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(g){if(!a[Ai])switch(c){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(E=a.getAttribute("rel"),E==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(E!==b.rel||a.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||a.getAttribute("title")!==(b.title==null?null:b.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(E=a.getAttribute("src"),(E!==(b.src==null?null:b.src)||a.getAttribute("type")!==(b.type==null?null:b.type)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&E&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(c==="input"&&a.type==="hidden"){var E=b.name==null?null:""+b.name;if(b.type==="hidden"&&a.getAttribute("name")===E)return a}else return a;if(a=jr(a.nextSibling),a===null)break}return null}function y8(a,c,h){if(c==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!h||(a=jr(a.nextSibling),a===null))return null;return a}function hN(a,c){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=jr(a.nextSibling),a===null))return null;return a}function Mb(a){return a.data==="$?"||a.data==="$~"}function Ib(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function x8(a,c){var h=a.ownerDocument;if(a.data==="$~")a._reactRetry=c;else if(a.data!=="$?"||h.readyState!=="loading")c();else{var g=function(){c(),h.removeEventListener("DOMContentLoaded",g)};h.addEventListener("DOMContentLoaded",g),a._reactRetry=g}}function jr(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return a}var Db=null;function fN(a){a=a.nextSibling;for(var c=0;a;){if(a.nodeType===8){var h=a.data;if(h==="/$"||h==="/&"){if(c===0)return jr(a.nextSibling);c--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||c++}a=a.nextSibling}return null}function pN(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(c===0)return a;c--}else h!=="/$"&&h!=="/&"||c++}a=a.previousSibling}return null}function mN(a,c,h){switch(c=Og(h),a){case"html":if(a=c.documentElement,!a)throw Error(s(452));return a;case"head":if(a=c.head,!a)throw Error(s(453));return a;case"body":if(a=c.body,!a)throw Error(s(454));return a;default:throw Error(s(451))}}function pf(a){for(var c=a.attributes;c.length;)a.removeAttributeNode(c[0]);vu(a)}var Lr=new Map,gN=new Set;function jg(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Vo=X.d;X.d={f:v8,r:b8,D:w8,C:E8,L:S8,m:T8,X:A8,S:_8,M:C8};function v8(){var a=Vo.f(),c=Cg();return a||c}function b8(a){var c=Ar(a);c!==null&&c.tag===5&&c.type==="form"?DC(c):Vo.r(a)}var ed=typeof document>"u"?null:document;function yN(a,c,h){var g=ed;if(g&&typeof c=="string"&&c){var b=Us(c);b='link[rel="'+a+'"][href="'+b+'"]',typeof h=="string"&&(b+='[crossorigin="'+h+'"]'),gN.has(b)||(gN.add(b),a={rel:a,crossOrigin:h,href:c},g.querySelector(b)===null&&(c=g.createElement("link"),Zn(c,"link",a),mn(c),g.head.appendChild(c)))}}function w8(a){Vo.D(a),yN("dns-prefetch",a,null)}function E8(a,c){Vo.C(a,c),yN("preconnect",a,c)}function S8(a,c,h){Vo.L(a,c,h);var g=ed;if(g&&a&&c){var b='link[rel="preload"][as="'+Us(c)+'"]';c==="image"&&h&&h.imageSrcSet?(b+='[imagesrcset="'+Us(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(b+='[imagesizes="'+Us(h.imageSizes)+'"]')):b+='[href="'+Us(a)+'"]';var E=b;switch(c){case"style":E=td(a);break;case"script":E=nd(a)}Lr.has(E)||(a=p({rel:"preload",href:c==="image"&&h&&h.imageSrcSet?void 0:a,as:c},h),Lr.set(E,a),g.querySelector(b)!==null||c==="style"&&g.querySelector(mf(E))||c==="script"&&g.querySelector(gf(E))||(c=g.createElement("link"),Zn(c,"link",a),mn(c),g.head.appendChild(c)))}}function T8(a,c){Vo.m(a,c);var h=ed;if(h&&a){var g=c&&typeof c.as=="string"?c.as:"script",b='link[rel="modulepreload"][as="'+Us(g)+'"][href="'+Us(a)+'"]',E=b;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=nd(a)}if(!Lr.has(E)&&(a=p({rel:"modulepreload",href:a},c),Lr.set(E,a),h.querySelector(b)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(gf(E)))return}g=h.createElement("link"),Zn(g,"link",a),mn(g),h.head.appendChild(g)}}}function _8(a,c,h){Vo.S(a,c,h);var g=ed;if(g&&a){var b=ki(g).hoistableStyles,E=td(a);c=c||"default";var k=b.get(E);if(!k){var j={loading:0,preload:null};if(k=g.querySelector(mf(E)))j.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":c},h),(h=Lr.get(E))&&Pb(a,h);var $=k=g.createElement("link");mn($),Zn($,"link",a),$._p=new Promise(function(Z,re){$.onload=Z,$.onerror=re}),$.addEventListener("load",function(){j.loading|=1}),$.addEventListener("error",function(){j.loading|=2}),j.loading|=4,Lg(k,c,g)}k={type:"stylesheet",instance:k,count:1,state:j},b.set(E,k)}}}function A8(a,c){Vo.X(a,c);var h=ed;if(h&&a){var g=ki(h).hoistableScripts,b=nd(a),E=g.get(b);E||(E=h.querySelector(gf(b)),E||(a=p({src:a,async:!0},c),(c=Lr.get(b))&&Ob(a,c),E=h.createElement("script"),mn(E),Zn(E,"link",a),h.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},g.set(b,E))}}function C8(a,c){Vo.M(a,c);var h=ed;if(h&&a){var g=ki(h).hoistableScripts,b=nd(a),E=g.get(b);E||(E=h.querySelector(gf(b)),E||(a=p({src:a,async:!0,type:"module"},c),(c=Lr.get(b))&&Ob(a,c),E=h.createElement("script"),mn(E),Zn(E,"link",a),h.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},g.set(b,E))}}function xN(a,c,h,g){var b=(b=Te.current)?jg(b):null;if(!b)throw Error(s(446));switch(a){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(c=td(h.href),h=ki(b).hoistableStyles,g=h.get(c),g||(g={type:"style",instance:null,count:0,state:null},h.set(c,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){a=td(h.href);var E=ki(b).hoistableStyles,k=E.get(a);if(k||(b=b.ownerDocument||b,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(a,k),(E=b.querySelector(mf(a)))&&!E._p&&(k.instance=E,k.state.loading=5),Lr.has(a)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Lr.set(a,h),E||k8(b,a,h,k.state))),c&&g===null)throw Error(s(528,""));return k}if(c&&g!==null)throw Error(s(529,""));return null;case"script":return c=h.async,h=h.src,typeof h=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=nd(h),h=ki(b).hoistableScripts,g=h.get(c),g||(g={type:"script",instance:null,count:0,state:null},h.set(c,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,a))}}function td(a){return'href="'+Us(a)+'"'}function mf(a){return'link[rel="stylesheet"]['+a+"]"}function vN(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function k8(a,c,h,g){a.querySelector('link[rel="preload"][as="style"]['+c+"]")?g.loading=1:(c=a.createElement("link"),g.preload=c,c.addEventListener("load",function(){return g.loading|=1}),c.addEventListener("error",function(){return g.loading|=2}),Zn(c,"link",h),mn(c),a.head.appendChild(c))}function nd(a){return'[src="'+Us(a)+'"]'}function gf(a){return"script[async]"+a}function bN(a,c,h){if(c.count++,c.instance===null)switch(c.type){case"style":var g=a.querySelector('style[data-href~="'+Us(h.href)+'"]');if(g)return c.instance=g,mn(g),g;var b=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return g=(a.ownerDocument||a).createElement("style"),mn(g),Zn(g,"style",b),Lg(g,h.precedence,a),c.instance=g;case"stylesheet":b=td(h.href);var E=a.querySelector(mf(b));if(E)return c.state.loading|=4,c.instance=E,mn(E),E;g=vN(h),(b=Lr.get(b))&&Pb(g,b),E=(a.ownerDocument||a).createElement("link"),mn(E);var k=E;return k._p=new Promise(function(j,$){k.onload=j,k.onerror=$}),Zn(E,"link",g),c.state.loading|=4,Lg(E,h.precedence,a),c.instance=E;case"script":return E=nd(h.src),(b=a.querySelector(gf(E)))?(c.instance=b,mn(b),b):(g=h,(b=Lr.get(E))&&(g=p({},h),Ob(g,b)),a=a.ownerDocument||a,b=a.createElement("script"),mn(b),Zn(b,"link",g),a.head.appendChild(b),c.instance=b);case"void":return null;default:throw Error(s(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(g=c.instance,c.state.loading|=4,Lg(g,h.precedence,a));return c.instance}function Lg(a,c,h){for(var g=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=g.length?g[g.length-1]:null,E=b,k=0;k<g.length;k++){var j=g[k];if(j.dataset.precedence===c)E=j;else if(E!==b)break}E?E.parentNode.insertBefore(a,E.nextSibling):(c=h.nodeType===9?h.head:h,c.insertBefore(a,c.firstChild))}function Pb(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.title==null&&(a.title=c.title)}function Ob(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.integrity==null&&(a.integrity=c.integrity)}var Vg=null;function wN(a,c,h){if(Vg===null){var g=new Map,b=Vg=new Map;b.set(h,g)}else b=Vg,g=b.get(h),g||(g=new Map,b.set(h,g));if(g.has(a))return g;for(g.set(a,null),h=h.getElementsByTagName(a),b=0;b<h.length;b++){var E=h[b];if(!(E[Ai]||E[pn]||a==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var k=E.getAttribute(c)||"";k=a+k;var j=g.get(k);j?j.push(E):g.set(k,[E])}}return g}function EN(a,c,h){a=a.ownerDocument||a,a.head.insertBefore(h,c==="title"?a.querySelector("head > title"):null)}function N8(a,c,h){if(h===1||c.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;return c.rel==="stylesheet"?(a=c.disabled,typeof c.precedence=="string"&&a==null):!0;case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function SN(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function R8(a,c,h,g){if(h.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var b=td(g.href),E=c.querySelector(mf(b));if(E){c=E._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(a.count++,a=zg.bind(a),c.then(a,a)),h.state.loading|=4,h.instance=E,mn(E);return}E=c.ownerDocument||c,g=vN(g),(b=Lr.get(b))&&Pb(g,b),E=E.createElement("link"),mn(E);var k=E;k._p=new Promise(function(j,$){k.onload=j,k.onerror=$}),Zn(E,"link",g),h.instance=E}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(h,c),(c=h.state.preload)&&(h.state.loading&3)===0&&(a.count++,h=zg.bind(a),c.addEventListener("load",h),c.addEventListener("error",h))}}var jb=0;function M8(a,c){return a.stylesheets&&a.count===0&&Ug(a,a.stylesheets),0<a.count||0<a.imgCount?function(h){var g=setTimeout(function(){if(a.stylesheets&&Ug(a,a.stylesheets),a.unsuspend){var E=a.unsuspend;a.unsuspend=null,E()}},6e4+c);0<a.imgBytes&&jb===0&&(jb=62500*d8());var b=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Ug(a,a.stylesheets),a.unsuspend)){var E=a.unsuspend;a.unsuspend=null,E()}},(a.imgBytes>jb?50:800)+c);return a.unsuspend=h,function(){a.unsuspend=null,clearTimeout(g),clearTimeout(b)}}:null}function zg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ug(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Bg=null;function Ug(a,c){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Bg=new Map,c.forEach(I8,a),Bg=null,zg.call(a))}function I8(a,c){if(!(c.state.loading&4)){var h=Bg.get(a);if(h)var g=h.get(null);else{h=new Map,Bg.set(a,h);for(var b=a.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<b.length;E++){var k=b[E];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(h.set(k.dataset.precedence,k),g=k)}g&&h.set(null,g)}b=c.instance,k=b.getAttribute("data-precedence"),E=h.get(k)||g,E===g&&h.set(null,b),h.set(k,b),this.count++,g=zg.bind(this),b.addEventListener("load",g),b.addEventListener("error",g),E?E.parentNode.insertBefore(b,E.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(b,a.firstChild)),c.state.loading|=4}}var yf={$$typeof:P,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function D8(a,c,h,g,b,E,k,j,$){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=nn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nn(0),this.hiddenUpdates=nn(null),this.identifierPrefix=g,this.onUncaughtError=b,this.onCaughtError=E,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function TN(a,c,h,g,b,E,k,j,$,Z,re,ae){return a=new D8(a,c,h,k,$,Z,re,ae,j),c=1,E===!0&&(c|=24),E=cr(3,null,null,c),a.current=E,E.stateNode=a,c=m1(),c.refCount++,a.pooledCache=c,c.refCount++,E.memoizedState={element:g,isDehydrated:h,cache:c},v1(E),a}function _N(a){return a?(a=Du,a):Du}function AN(a,c,h,g,b,E){b=_N(b),g.context===null?g.context=b:g.pendingContext=b,g=ka(c),g.payload={element:h},E=E===void 0?null:E,E!==null&&(g.callback=E),h=Na(a,g,c),h!==null&&(Ks(h,a,c),Gh(h,a,c))}function CN(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<c?h:c}}function Lb(a,c){CN(a,c),(a=a.alternate)&&CN(a,c)}function kN(a){if(a.tag===13||a.tag===31){var c=cc(a,67108864);c!==null&&Ks(c,a,67108864),Lb(a,67108864)}}function NN(a){if(a.tag===13||a.tag===31){var c=pr();c=rr(c);var h=cc(a,c);h!==null&&Ks(h,a,c),Lb(a,c)}}var Fg=!0;function P8(a,c,h,g){var b=K.T;K.T=null;var E=X.p;try{X.p=2,Vb(a,c,h,g)}finally{X.p=E,K.T=b}}function O8(a,c,h,g){var b=K.T;K.T=null;var E=X.p;try{X.p=8,Vb(a,c,h,g)}finally{X.p=E,K.T=b}}function Vb(a,c,h,g){if(Fg){var b=zb(g);if(b===null)Tb(a,c,g,Hg,h),MN(a,g);else if(L8(b,a,c,h,g))g.stopPropagation();else if(MN(a,g),c&4&&-1<j8.indexOf(a)){for(;b!==null;){var E=Ar(b);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var k=zt(E.pendingLanes);if(k!==0){var j=E;for(j.pendingLanes|=2,j.entangledLanes|=2;k;){var $=1<<31-Vt(k);j.entanglements[1]|=$,k&=~$}Ui(E),(mt&6)===0&&(_g=Vn()+500,df(0))}}break;case 31:case 13:j=cc(E,2),j!==null&&Ks(j,E,2),Cg(),Lb(E,2)}if(E=zb(g),E===null&&Tb(a,c,g,Hg,h),E===b)break;b=E}b!==null&&g.stopPropagation()}else Tb(a,c,g,null,h)}}function zb(a){return a=Cr(a),Bb(a)}var Hg=null;function Bb(a){if(Hg=null,a=Ci(a),a!==null){var c=i(a);if(c===null)a=null;else{var h=c.tag;if(h===13){if(a=o(c),a!==null)return a;a=null}else if(h===31){if(a=l(c),a!==null)return a;a=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null)}}return Hg=a,null}function RN(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yo()){case Yl:return 2;case Tr:return 8;case Cs:case xo:return 32;case Xl:return 268435456;default:return 32}default:return 32}}var Ub=!1,Ba=null,Ua=null,Fa=null,xf=new Map,vf=new Map,Ha=[],j8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function MN(a,c){switch(a){case"focusin":case"focusout":Ba=null;break;case"dragenter":case"dragleave":Ua=null;break;case"mouseover":case"mouseout":Fa=null;break;case"pointerover":case"pointerout":xf.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":vf.delete(c.pointerId)}}function bf(a,c,h,g,b,E){return a===null||a.nativeEvent!==E?(a={blockedOn:c,domEventName:h,eventSystemFlags:g,nativeEvent:E,targetContainers:[b]},c!==null&&(c=Ar(c),c!==null&&kN(c)),a):(a.eventSystemFlags|=g,c=a.targetContainers,b!==null&&c.indexOf(b)===-1&&c.push(b),a)}function L8(a,c,h,g,b){switch(c){case"focusin":return Ba=bf(Ba,a,c,h,g,b),!0;case"dragenter":return Ua=bf(Ua,a,c,h,g,b),!0;case"mouseover":return Fa=bf(Fa,a,c,h,g,b),!0;case"pointerover":var E=b.pointerId;return xf.set(E,bf(xf.get(E)||null,a,c,h,g,b)),!0;case"gotpointercapture":return E=b.pointerId,vf.set(E,bf(vf.get(E)||null,a,c,h,g,b)),!0}return!1}function IN(a){var c=Ci(a.target);if(c!==null){var h=i(c);if(h!==null){if(c=h.tag,c===13){if(c=o(h),c!==null){a.blockedOn=c,Gn(a.priority,function(){NN(h)});return}}else if(c===31){if(c=l(h),c!==null){a.blockedOn=c,Gn(a.priority,function(){NN(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function $g(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var h=zb(a.nativeEvent);if(h===null){h=a.nativeEvent;var g=new h.constructor(h.type,h);Ih=g,h.target.dispatchEvent(g),Ih=null}else return c=Ar(h),c!==null&&kN(c),a.blockedOn=h,!1;c.shift()}return!0}function DN(a,c,h){$g(a)&&h.delete(c)}function V8(){Ub=!1,Ba!==null&&$g(Ba)&&(Ba=null),Ua!==null&&$g(Ua)&&(Ua=null),Fa!==null&&$g(Fa)&&(Fa=null),xf.forEach(DN),vf.forEach(DN)}function qg(a,c){a.blockedOn===c&&(a.blockedOn=null,Ub||(Ub=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,V8)))}var Wg=null;function PN(a){Wg!==a&&(Wg=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Wg===a&&(Wg=null);for(var c=0;c<a.length;c+=3){var h=a[c],g=a[c+1],b=a[c+2];if(typeof g!="function"){if(Bb(g||h)===null)continue;break}var E=Ar(h);E!==null&&(a.splice(c,3),c-=3,z1(E,{pending:!0,data:b,method:h.method,action:g},g,b))}}))}function sd(a){function c($){return qg($,a)}Ba!==null&&qg(Ba,a),Ua!==null&&qg(Ua,a),Fa!==null&&qg(Fa,a),xf.forEach(c),vf.forEach(c);for(var h=0;h<Ha.length;h++){var g=Ha[h];g.blockedOn===a&&(g.blockedOn=null)}for(;0<Ha.length&&(h=Ha[0],h.blockedOn===null);)IN(h),h.blockedOn===null&&Ha.shift();if(h=(a.ownerDocument||a).$$reactFormReplay,h!=null)for(g=0;g<h.length;g+=3){var b=h[g],E=h[g+1],k=b[Bn]||null;if(typeof E=="function")k||PN(h);else if(k){var j=null;if(E&&E.hasAttribute("formAction")){if(b=E,k=E[Bn]||null)j=k.formAction;else if(Bb(b)!==null)continue}else j=k.action;typeof j=="function"?h[g+1]=j:(h.splice(g,3),g-=3),PN(h)}}}function ON(){function a(E){E.canIntercept&&E.info==="react-transition"&&E.intercept({handler:function(){return new Promise(function(k){return b=k})},focusReset:"manual",scroll:"manual"})}function c(){b!==null&&(b(),b=null),g||setTimeout(h,20)}function h(){if(!g&&!navigation.transition){var E=navigation.currentEntry;E&&E.url!=null&&navigation.navigate(E.url,{state:E.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,b=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(h,100),function(){g=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),b!==null&&(b(),b=null)}}}function Fb(a){this._internalRoot=a}Kg.prototype.render=Fb.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(s(409));var h=c.current,g=pr();AN(h,g,a,c,null,null)},Kg.prototype.unmount=Fb.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;AN(a.current,2,null,a,null,null),Cg(),c[_i]=null}};function Kg(a){this._internalRoot=a}Kg.prototype.unstable_scheduleHydration=function(a){if(a){var c=ir();a={blockedOn:null,target:a,priority:c};for(var h=0;h<Ha.length&&c!==0&&c<Ha[h].priority;h++);Ha.splice(h,0,a),h===0&&IN(a)}};var jN=e.version;if(jN!=="19.2.3")throw Error(s(527,jN,"19.2.3"));X.findDOMNode=function(a){var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(s(188)):(a=Object.keys(a).join(","),Error(s(268,a)));return a=d(c),a=a!==null?f(a):null,a=a===null?null:a.stateNode,a};var z8={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gg.isDisabled&&Gg.supportsFiber)try{sr=Gg.inject(z8),Nn=Gg}catch{}}return Ef.createRoot=function(a,c){if(!r(a))throw Error(s(299));var h=!1,g="",b=HC,E=$C,k=qC;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(b=c.onUncaughtError),c.onCaughtError!==void 0&&(E=c.onCaughtError),c.onRecoverableError!==void 0&&(k=c.onRecoverableError)),c=TN(a,1,!1,null,null,h,g,null,b,E,k,ON),a[_i]=c.current,Sb(a),new Fb(c)},Ef.hydrateRoot=function(a,c,h){if(!r(a))throw Error(s(299));var g=!1,b="",E=HC,k=$C,j=qC,$=null;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(b=h.identifierPrefix),h.onUncaughtError!==void 0&&(E=h.onUncaughtError),h.onCaughtError!==void 0&&(k=h.onCaughtError),h.onRecoverableError!==void 0&&(j=h.onRecoverableError),h.formState!==void 0&&($=h.formState)),c=TN(a,1,!0,c,h??null,g,b,$,E,k,j,ON),c.context=_N(null),h=c.current,g=pr(),g=rr(g),b=ka(g),b.callback=null,Na(h,b,g),h=g,c.current.lanes=h,Bs(c,h),Ui(c),a[_i]=c.current,Sb(a),new Kg(c)},Ef.version="19.2.3",Ef}var WN;function Y8(){if(WN)return qb.exports;WN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),qb.exports=G8(),qb.exports}var X8=Y8();var KN="popstate";function GN(t){return typeof t=="object"&&t!=null&&"pathname"in t&&"search"in t&&"hash"in t&&"state"in t&&"key"in t}function Q8(t={}){function e(s,r){let i=r.state?.masked,{pathname:o,search:l,hash:u}=i||s.location;return EE("",{pathname:o,search:l,hash:u},r.state&&r.state.usr||null,r.state&&r.state.key||"default",i?{pathname:s.location.pathname,search:s.location.search,hash:s.location.hash}:void 0)}function n(s,r){return typeof r=="string"?r:vp(r)}return Z8(e,n,null,t)}function Ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function gi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function J8(){return Math.random().toString(36).substring(2,10)}function YN(t,e){return{usr:t.state,key:t.key,idx:e,masked:t.unstable_mask?{pathname:t.pathname,search:t.search,hash:t.hash}:void 0}}function EE(t,e,n=null,s,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Zd(e):e,state:n,key:e&&e.key||s||J8(),unstable_mask:r}}function vp({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Zd(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function Z8(t,e,n,s={}){let{window:r=document.defaultView,v5Compat:i=!1}=s,o=r.history,l="POP",u=null,d=f();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function f(){return(o.state||{idx:null}).idx}function p(){l="POP";let S=f(),A=S==null?null:S-d;d=S,u&&u({action:l,location:T.location,delta:A})}function y(S,A){l="PUSH";let N=GN(S)?S:EE(T.location,S,A);d=f()+1;let P=YN(N,d),O=T.createHref(N.unstable_mask||N);try{o.pushState(P,"",O)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;r.location.assign(O)}i&&u&&u({action:l,location:T.location,delta:1})}function x(S,A){l="REPLACE";let N=GN(S)?S:EE(T.location,S,A);d=f();let P=YN(N,d),O=T.createHref(N.unstable_mask||N);o.replaceState(P,"",O),i&&u&&u({action:l,location:T.location,delta:0})}function w(S){return eU(S)}let T={get action(){return l},get location(){return t(r,o)},listen(S){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(KN,p),u=S,()=>{r.removeEventListener(KN,p),u=null}},createHref(S){return e(r,S)},createURL:w,encodeLocation(S){let A=w(S);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:y,replace:x,go(S){return o.go(S)}};return T}function eU(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ht(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:vp(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function z4(t,e,n="/"){return tU(t,e,n,!1)}function tU(t,e,n,s){let r=typeof e=="string"?Zd(e):e,i=ta(r.pathname||"/",n);if(i==null)return null;let o=B4(t);nU(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let d=fU(i);l=dU(o[u],d,s)}return l}function B4(t,e=[],n=[],s="",r=!1){let i=(o,l,u=r,d)=>{let f={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(s)&&u)return;Ht(f.relativePath.startsWith(s),`Absolute route path "${f.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(s.length)}let p=Yi([s,f.relativePath]),y=n.concat(f);o.children&&o.children.length>0&&(Ht(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),B4(o.children,e,y,p,u)),!(o.path==null&&!o.index)&&e.push({path:p,score:cU(p,o.index),routesMeta:y})};return t.forEach((o,l)=>{if(o.path===""||!o.path?.includes("?"))i(o,l);else for(let u of U4(o.path))i(o,l,!0,u)}),e}function U4(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,r=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return r?[i,""]:[i];let o=U4(s.join("/")),l=[];return l.push(...o.map(u=>u===""?i:[i,u].join("/"))),r&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function nU(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:uU(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var sU=/^:[\w-]+$/,rU=3,iU=2,oU=1,aU=10,lU=-2,XN=t=>t==="*";function cU(t,e){let n=t.split("/"),s=n.length;return n.some(XN)&&(s+=lU),e&&(s+=iU),n.filter(r=>!XN(r)).reduce((r,i)=>r+(sU.test(i)?rU:i===""?oU:aU),s)}function uU(t,e){return t.length===e.length&&t.slice(0,-1).every((s,r)=>s===e[r])?t[t.length-1]-e[e.length-1]:0}function dU(t,e,n=!1){let{routesMeta:s}=t,r={},i="/",o=[];for(let l=0;l<s.length;++l){let u=s[l],d=l===s.length-1,f=i==="/"?e:e.slice(i.length)||"/",p=o0({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},f),y=u.route;if(!p&&d&&n&&!s[s.length-1].route.index&&(p=o0({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!p)return null;Object.assign(r,p.params),o.push({params:r,pathname:Yi([i,p.pathname]),pathnameBase:yU(Yi([i,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(i=Yi([i,p.pathnameBase]))}return o}function o0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=hU(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let i=r[0],o=i.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:s.reduce((d,{paramName:f,isOptional:p},y)=>{if(f==="*"){let w=l[y]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const x=l[y];return p&&!x?d[f]=void 0:d[f]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function hU(t,e=!1,n=!0){gi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u,d,f)=>{if(s.push({paramName:l,isOptional:u!=null}),u){let p=f.charAt(d+o.length);return p&&p!=="/"?"/([^\\/]*)":"(?:/([^\\/]*))?"}return"/([^\\/]+)"}).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),s]}function fU(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ta(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var pU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function mU(t,e="/"){let{pathname:n,search:s="",hash:r=""}=typeof t=="string"?Zd(t):t,i;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?i=QN(n.substring(1),"/"):i=QN(n,e)):i=e,{pathname:i,search:xU(s),hash:vU(r)}}function QN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Yb(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gU(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function gT(t){let e=gU(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Fx(t,e,n,s=!1){let r;typeof t=="string"?r=Zd(t):(r={...t},Ht(!r.pathname||!r.pathname.includes("?"),Yb("?","pathname","search",r)),Ht(!r.pathname||!r.pathname.includes("#"),Yb("#","pathname","hash",r)),Ht(!r.search||!r.search.includes("#"),Yb("#","search","hash",r)));let i=t===""||r.pathname==="",o=i?"/":r.pathname,l;if(o==null)l=n;else{let p=e.length-1;if(!s&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),p-=1;r.pathname=y.join("/")}l=p>=0?e[p]:"/"}let u=mU(r,l),d=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||f)&&(u.pathname+="/"),u}var Yi=t=>t.join("/").replace(/\/\/+/g,"/"),yU=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),xU=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,vU=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,bU=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function wU(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function EU(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var F4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function H4(t,e){let n=t;if(typeof n!="string"||!pU.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,r=!1;if(F4)try{let i=new URL(window.location.href),o=n.startsWith("//")?new URL(i.protocol+n):new URL(n),l=ta(o.pathname,e);o.origin===i.origin&&l!=null?n=l+o.search+o.hash:r=!0}catch{gi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:r,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var $4=["POST","PUT","PATCH","DELETE"];new Set($4);var SU=["GET",...$4];new Set(SU);var eh=_.createContext(null);eh.displayName="DataRouter";var Hx=_.createContext(null);Hx.displayName="DataRouterState";var TU=_.createContext(!1),q4=_.createContext({isTransitioning:!1});q4.displayName="ViewTransition";var _U=_.createContext(new Map);_U.displayName="Fetchers";var AU=_.createContext(null);AU.displayName="Await";var Er=_.createContext(null);Er.displayName="Navigation";var Zp=_.createContext(null);Zp.displayName="Location";var ho=_.createContext({outlet:null,matches:[],isDataRoute:!1});ho.displayName="Route";var yT=_.createContext(null);yT.displayName="RouteError";var W4="REACT_ROUTER_ERROR",CU="REDIRECT",kU="ROUTE_ERROR_RESPONSE";function NU(t){if(t.startsWith(`${W4}:${CU}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function RU(t){if(t.startsWith(`${W4}:${kU}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new bU(e.status,e.statusText,e.data)}catch{}}function MU(t,{relative:e}={}){Ht(th(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=_.useContext(Er),{hash:r,pathname:i,search:o}=em(t,{relative:e}),l=i;return n!=="/"&&(l=i==="/"?n:Yi([n,i])),s.createHref({pathname:l,search:o,hash:r})}function th(){return _.useContext(Zp)!=null}function fo(){return Ht(th(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(Zp).location}var K4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function G4(t){_.useContext(Er).static||_.useLayoutEffect(t)}function nh(){let{isDataRoute:t}=_.useContext(ho);return t?$U():IU()}function IU(){Ht(th(),"useNavigate() may be used only in the context of a <Router> component.");let t=_.useContext(eh),{basename:e,navigator:n}=_.useContext(Er),{matches:s}=_.useContext(ho),{pathname:r}=fo(),i=JSON.stringify(gT(s)),o=_.useRef(!1);return G4(()=>{o.current=!0}),_.useCallback((u,d={})=>{if(gi(o.current,K4),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=Fx(u,JSON.parse(i),r,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Yi([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,i,r,t])}_.createContext(null);function em(t,{relative:e}={}){let{matches:n}=_.useContext(ho),{pathname:s}=fo(),r=JSON.stringify(gT(n));return _.useMemo(()=>Fx(t,JSON.parse(r),s,e==="path"),[t,r,s,e])}function DU(t,e){return Y4(t,e)}function Y4(t,e,n){Ht(th(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=_.useContext(Er),{matches:r}=_.useContext(ho),i=r[r.length-1],o=i?i.params:{},l=i?i.pathname:"/",u=i?i.pathnameBase:"/",d=i&&i.route;{let S=d&&d.path||"";Q4(l,!d||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let f=fo(),p;if(e){let S=typeof e=="string"?Zd(e):e;Ht(u==="/"||S.pathname?.startsWith(u),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${S.pathname}" was given in the \`location\` prop.`),p=S}else p=f;let y=p.pathname||"/",x=y;if(u!=="/"){let S=u.replace(/^\//,"").split("/");x="/"+y.replace(/^\//,"").split("/").slice(S.length).join("/")}let w=z4(t,{pathname:x});gi(d||w!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),gi(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=VU(w&&w.map(S=>Object.assign({},S,{params:Object.assign({},o,S.params),pathname:Yi([u,s.encodeLocation?s.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?u:Yi([u,s.encodeLocation?s.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),r,n);return e&&T?_.createElement(Zp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",unstable_mask:void 0,...p},navigationType:"POP"}},T):T}function PU(){let t=HU(),e=wU(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:s},i={padding:"2px 4px",backgroundColor:s},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:i},"ErrorBoundary")," or"," ",_.createElement("code",{style:i},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:r},n):null,o)}var OU=_.createElement(PU,null),X4=class extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=RU(t.digest);n&&(t=n)}let e=t!==void 0?_.createElement(ho.Provider,{value:this.props.routeContext},_.createElement(yT.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?_.createElement(jU,{error:t},e):e}};X4.contextType=TU;var Xb=new WeakMap;function jU({children:t,error:e}){let{basename:n}=_.useContext(Er);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=NU(e.digest);if(s){let r=Xb.get(e);if(r)throw r;let i=H4(s.location,n);if(F4&&!Xb.get(e))if(i.isExternal||s.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:s.replace}));throw Xb.set(e,o),o}return _.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return t}function LU({routeContext:t,match:e,children:n}){let s=_.useContext(eh);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),_.createElement(ho.Provider,{value:t},n)}function VU(t,e=[],n){let s=n?.state;if(t==null){if(!s)return null;if(s.errors)t=s.matches;else if(e.length===0&&!s.initialized&&s.matches.length>0)t=s.matches;else return null}let r=t,i=s?.errors;if(i!=null){let f=r.findIndex(p=>p.route.id&&i?.[p.route.id]!==void 0);Ht(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),r=r.slice(0,Math.min(r.length,f+1))}let o=!1,l=-1;if(n&&s){o=s.renderFallback;for(let f=0;f<r.length;f++){let p=r[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(l=f),p.route.id){let{loaderData:y,errors:x}=s,w=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!x||x[p.route.id]===void 0);if(p.route.lazy||w){n.isStatic&&(o=!0),l>=0?r=r.slice(0,l+1):r=[r[0]];break}}}}let u=n?.onError,d=s&&u?(f,p)=>{u(f,{location:s.location,params:s.matches?.[0]?.params??{},unstable_pattern:EU(s.matches),errorInfo:p})}:void 0;return r.reduceRight((f,p,y)=>{let x,w=!1,T=null,S=null;s&&(x=i&&p.route.id?i[p.route.id]:void 0,T=p.route.errorElement||OU,o&&(l<0&&y===0?(Q4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,S=null):l===y&&(w=!0,S=p.route.hydrateFallbackElement||null)));let A=e.concat(r.slice(0,y+1)),N=()=>{let P;return x?P=T:w?P=S:p.route.Component?P=_.createElement(p.route.Component,null):p.route.element?P=p.route.element:P=f,_.createElement(LU,{match:p,routeContext:{outlet:f,matches:A,isDataRoute:s!=null},children:P})};return s&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?_.createElement(X4,{location:s.location,revalidation:s.revalidation,component:T,error:x,children:N(),routeContext:{outlet:null,matches:A,isDataRoute:!0},onError:d}):N()},null)}function xT(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zU(t){let e=_.useContext(eh);return Ht(e,xT(t)),e}function BU(t){let e=_.useContext(Hx);return Ht(e,xT(t)),e}function UU(t){let e=_.useContext(ho);return Ht(e,xT(t)),e}function vT(t){let e=UU(t),n=e.matches[e.matches.length-1];return Ht(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function FU(){return vT("useRouteId")}function HU(){let t=_.useContext(yT),e=BU("useRouteError"),n=vT("useRouteError");return t!==void 0?t:e.errors?.[n]}function $U(){let{router:t}=zU("useNavigate"),e=vT("useNavigate"),n=_.useRef(!1);return G4(()=>{n.current=!0}),_.useCallback(async(r,i={})=>{gi(n.current,K4),n.current&&(typeof r=="number"?await t.navigate(r):await t.navigate(r,{fromRouteId:e,...i}))},[t,e])}var JN={};function Q4(t,e,n){!e&&!JN[t]&&(JN[t]=!0,gi(!1,n))}_.memo(qU);function qU({routes:t,future:e,state:n,isStatic:s,onError:r}){return Y4(t,void 0,{state:n,isStatic:s,onError:r})}function WU({to:t,replace:e,state:n,relative:s}){Ht(th(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=_.useContext(Er);gi(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=_.useContext(ho),{pathname:o}=fo(),l=nh(),u=Fx(t,gT(i),o,s==="path"),d=JSON.stringify(u);return _.useEffect(()=>{l(JSON.parse(d),{replace:e,state:n,relative:s})},[l,d,s,e,n]),null}function Ho(t){Ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function KU({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:r,static:i=!1,unstable_useTransitions:o}){Ht(!th(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:l,navigator:r,static:i,unstable_useTransitions:o,future:{}}),[l,r,i,o]);typeof n=="string"&&(n=Zd(n));let{pathname:d="/",search:f="",hash:p="",state:y=null,key:x="default",unstable_mask:w}=n,T=_.useMemo(()=>{let S=ta(d,l);return S==null?null:{location:{pathname:S,search:f,hash:p,state:y,key:x,unstable_mask:w},navigationType:s}},[l,d,f,p,y,x,s,w]);return gi(T!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:_.createElement(Er.Provider,{value:u},_.createElement(Zp.Provider,{children:e,value:T}))}function GU({children:t,location:e}){return DU(SE(t),e)}function SE(t,e=[]){let n=[];return _.Children.forEach(t,(s,r)=>{if(!_.isValidElement(s))return;let i=[...e,r];if(s.type===_.Fragment){n.push.apply(n,SE(s.props.children,i));return}Ht(s.type===Ho,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ht(!s.props.index||!s.props.children,"An index route cannot have child routes.");let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=SE(s.props.children,i)),n.push(o)}),n}var Ny="get",Ry="application/x-www-form-urlencoded";function $x(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function YU(t){return $x(t)&&t.tagName.toLowerCase()==="button"}function XU(t){return $x(t)&&t.tagName.toLowerCase()==="form"}function QU(t){return $x(t)&&t.tagName.toLowerCase()==="input"}function JU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ZU(t,e){return t.button===0&&(!e||e==="_self")&&!JU(t)}var Yg=null;function eF(){if(Yg===null)try{new FormData(document.createElement("form"),0),Yg=!1}catch{Yg=!0}return Yg}var tF=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qb(t){return t!=null&&!tF.has(t)?(gi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ry}"`),null):t}function nF(t,e){let n,s,r,i,o;if(XU(t)){let l=t.getAttribute("action");s=l?ta(l,e):null,n=t.getAttribute("method")||Ny,r=Qb(t.getAttribute("enctype"))||Ry,i=new FormData(t)}else if(YU(t)||QU(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||l.getAttribute("action");if(s=u?ta(u,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||Ny,r=Qb(t.getAttribute("formenctype"))||Qb(l.getAttribute("enctype"))||Ry,i=new FormData(l,t),!eF()){let{name:d,type:f,value:p}=t;if(f==="image"){let y=d?`${d}.`:"";i.append(`${y}x`,"0"),i.append(`${y}y`,"0")}else d&&i.append(d,p)}}else{if($x(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ny,s=null,r=Ry,o=t}return i&&r==="text/plain"&&(o=i,i=void 0),{action:s,method:n.toLowerCase(),encType:r,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function bT(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function sF(t,e,n,s){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?r.pathname.endsWith("/")?r.pathname=`${r.pathname}_.${s}`:r.pathname=`${r.pathname}.${s}`:r.pathname==="/"?r.pathname=`_root.${s}`:e&&ta(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${s}`,r}async function rF(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iF(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function oF(t,e,n){let s=await Promise.all(t.map(async r=>{let i=e.routes[r.route.id];if(i){let o=await rF(i,n);return o.links?o.links():[]}return[]}));return uF(s.flat(1).filter(iF).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function ZN(t,e,n,s,r,i){let o=(u,d)=>n[d]?u.route.id!==n[d].route.id:!0,l=(u,d)=>n[d].pathname!==u.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==u.params["*"];return i==="assets"?e.filter((u,d)=>o(u,d)||l(u,d)):i==="data"?e.filter((u,d)=>{let f=s.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(o(u,d)||l(u,d))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function aF(t,e,{includeHydrateFallback:n}={}){return lF(t.map(s=>{let r=e.routes[s.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function lF(t){return[...new Set(t)]}function cF(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function uF(t,e){let n=new Set;return new Set(e),t.reduce((s,r)=>{let i=JSON.stringify(cF(r));return n.has(i)||(n.add(i),s.push({key:i,link:r})),s},[])}function J4(){let t=_.useContext(eh);return bT(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function dF(){let t=_.useContext(Hx);return bT(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var wT=_.createContext(void 0);wT.displayName="FrameworkContext";function Z4(){let t=_.useContext(wT);return bT(t,"You must render this element inside a <HydratedRouter> element"),t}function hF(t,e){let n=_.useContext(wT),[s,r]=_.useState(!1),[i,o]=_.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:d,onMouseLeave:f,onTouchStart:p}=e,y=_.useRef(null);_.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let T=A=>{A.forEach(N=>{o(N.isIntersecting)})},S=new IntersectionObserver(T,{threshold:.5});return y.current&&S.observe(y.current),()=>{S.disconnect()}}},[t]),_.useEffect(()=>{if(s){let T=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(T)}}},[s]);let x=()=>{r(!0)},w=()=>{r(!1),o(!1)};return n?t!=="intent"?[i,y,{}]:[i,y,{onFocus:Sf(l,x),onBlur:Sf(u,w),onMouseEnter:Sf(d,x),onMouseLeave:Sf(f,w),onTouchStart:Sf(p,x)}]:[!1,y,{}]}function Sf(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function fF({page:t,...e}){let{router:n}=J4(),s=_.useMemo(()=>z4(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?_.createElement(mF,{page:t,matches:s,...e}):null}function pF(t){let{manifest:e,routeModules:n}=Z4(),[s,r]=_.useState([]);return _.useEffect(()=>{let i=!1;return oF(t,e,n).then(o=>{i||r(o)}),()=>{i=!0}},[t,e,n]),s}function mF({page:t,matches:e,...n}){let s=fo(),{future:r,manifest:i,routeModules:o}=Z4(),{basename:l}=J4(),{loaderData:u,matches:d}=dF(),f=_.useMemo(()=>ZN(t,e,d,i,s,"data"),[t,e,d,i,s]),p=_.useMemo(()=>ZN(t,e,d,i,s,"assets"),[t,e,d,i,s]),y=_.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let T=new Set,S=!1;if(e.forEach(N=>{let P=i.routes[N.route.id];!P||!P.hasLoader||(!f.some(O=>O.route.id===N.route.id)&&N.route.id in u&&o[N.route.id]?.shouldRevalidate||P.hasClientLoader?S=!0:T.add(N.route.id))}),T.size===0)return[];let A=sF(t,l,r.unstable_trailingSlashAwareDataRequests,"data");return S&&T.size>0&&A.searchParams.set("_routes",e.filter(N=>T.has(N.route.id)).map(N=>N.route.id).join(",")),[A.pathname+A.search]},[l,r.unstable_trailingSlashAwareDataRequests,u,s,i,f,e,t,o]),x=_.useMemo(()=>aF(p,i),[p,i]),w=pF(p);return _.createElement(_.Fragment,null,y.map(T=>_.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),x.map(T=>_.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),w.map(({key:T,link:S})=>_.createElement("link",{key:T,nonce:n.nonce,...S,crossOrigin:S.crossOrigin??n.crossOrigin})))}function gF(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var yF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{yF&&(window.__reactRouterVersion="7.13.1")}catch{}function xF({basename:t,children:e,unstable_useTransitions:n,window:s}){let r=_.useRef();r.current==null&&(r.current=Q8({window:s,v5Compat:!0}));let i=r.current,[o,l]=_.useState({action:i.action,location:i.location}),u=_.useCallback(d=>{n===!1?l(d):_.startTransition(()=>l(d))},[n]);return _.useLayoutEffect(()=>i.listen(u),[i,u]),_.createElement(KU,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i,unstable_useTransitions:n})}var eP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tP=_.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:r,reloadDocument:i,replace:o,unstable_mask:l,state:u,target:d,to:f,preventScrollReset:p,viewTransition:y,unstable_defaultShouldRevalidate:x,...w},T){let{basename:S,navigator:A,unstable_useTransitions:N}=_.useContext(Er),P=typeof f=="string"&&eP.test(f),O=H4(f,S);f=O.to;let L=MU(f,{relative:r}),F=fo(),I=null;if(l){let ce=Fx(l,[],F.unstable_mask?F.unstable_mask.pathname:"/",!0);S!=="/"&&(ce.pathname=ce.pathname==="/"?S:Yi([S,ce.pathname])),I=A.createHref(ce)}let[R,D,z]=hF(s,w),B=EF(f,{replace:o,unstable_mask:l,state:u,target:d,preventScrollReset:p,relative:r,viewTransition:y,unstable_defaultShouldRevalidate:x,unstable_useTransitions:N});function H(ce){e&&e(ce),ce.defaultPrevented||B(ce)}let U=!(O.isExternal||i),he=_.createElement("a",{...w,...z,href:(U?I:void 0)||O.absoluteURL||L,onClick:U?H:e,ref:gF(T,D),target:d,"data-discover":!P&&n==="render"?"true":void 0});return R&&!P?_.createElement(_.Fragment,null,he,_.createElement(fF,{page:L})):he});tP.displayName="Link";var vF=_.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:r=!1,style:i,to:o,viewTransition:l,children:u,...d},f){let p=em(o,{relative:d.relative}),y=fo(),x=_.useContext(Hx),{navigator:w,basename:T}=_.useContext(Er),S=x!=null&&CF(p)&&l===!0,A=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,N=y.pathname,P=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(N=N.toLowerCase(),P=P?P.toLowerCase():null,A=A.toLowerCase()),P&&T&&(P=ta(P,T)||P);const O=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let L=N===A||!r&&N.startsWith(A)&&N.charAt(O)==="/",F=P!=null&&(P===A||!r&&P.startsWith(A)&&P.charAt(A.length)==="/"),I={isActive:L,isPending:F,isTransitioning:S},R=L?e:void 0,D;typeof s=="function"?D=s(I):D=[s,L?"active":null,F?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let z=typeof i=="function"?i(I):i;return _.createElement(tP,{...d,"aria-current":R,className:D,ref:f,style:z,to:o,viewTransition:l},typeof u=="function"?u(I):u)});vF.displayName="NavLink";var bF=_.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:r,state:i,method:o=Ny,action:l,onSubmit:u,relative:d,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:y,...x},w)=>{let{unstable_useTransitions:T}=_.useContext(Er),S=_F(),A=AF(l,{relative:d}),N=o.toLowerCase()==="get"?"get":"post",P=typeof l=="string"&&eP.test(l),O=L=>{if(u&&u(L),L.defaultPrevented)return;L.preventDefault();let F=L.nativeEvent.submitter,I=F?.getAttribute("formmethod")||o,R=()=>S(F||L.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:r,state:i,relative:d,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:y});T&&n!==!1?_.startTransition(()=>R()):R()};return _.createElement("form",{ref:w,method:N,action:A,onSubmit:s?u:O,...x,"data-discover":!P&&t==="render"?"true":void 0})});bF.displayName="Form";function wF(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nP(t){let e=_.useContext(eh);return Ht(e,wF(t)),e}function EF(t,{target:e,replace:n,unstable_mask:s,state:r,preventScrollReset:i,relative:o,viewTransition:l,unstable_defaultShouldRevalidate:u,unstable_useTransitions:d}={}){let f=nh(),p=fo(),y=em(t,{relative:o});return _.useCallback(x=>{if(ZU(x,e)){x.preventDefault();let w=n!==void 0?n:vp(p)===vp(y),T=()=>f(t,{replace:w,unstable_mask:s,state:r,preventScrollReset:i,relative:o,viewTransition:l,unstable_defaultShouldRevalidate:u});d?_.startTransition(()=>T()):T()}},[p,f,y,n,s,r,e,t,i,o,l,u,d])}var SF=0,TF=()=>`__${String(++SF)}__`;function _F(){let{router:t}=nP("useSubmit"),{basename:e}=_.useContext(Er),n=FU(),s=t.fetch,r=t.navigate;return _.useCallback(async(i,o={})=>{let{action:l,method:u,encType:d,formData:f,body:p}=nF(i,e);if(o.navigate===!1){let y=o.fetcherKey||TF();await s(y,n,o.action||l,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:f,body:p,formMethod:o.method||u,formEncType:o.encType||d,flushSync:o.flushSync})}else await r(o.action||l,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:f,body:p,formMethod:o.method||u,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[s,r,e,n])}function AF(t,{relative:e}={}){let{basename:n}=_.useContext(Er),s=_.useContext(ho);Ht(s,"useFormAction must be used inside a RouteContext");let[r]=s.matches.slice(-1),i={...em(t||".",{relative:e})},o=fo();if(t==null){i.search=o.search;let l=new URLSearchParams(i.search),u=l.getAll("index");if(u.some(f=>f==="")){l.delete("index"),u.filter(p=>p).forEach(p=>l.append("index",p));let f=l.toString();i.search=f?`?${f}`:""}}return(!t||t===".")&&r.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Yi([n,i.pathname])),vp(i)}function CF(t,{relative:e}={}){let n=_.useContext(q4);Ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=nP("useViewTransitionState"),r=em(t,{relative:e});if(!n.isTransitioning)return!1;let i=ta(n.currentLocation.pathname,s)||n.currentLocation.pathname,o=ta(n.nextLocation.pathname,s)||n.nextLocation.pathname;return o0(r.pathname,o)!=null||o0(r.pathname,i)!=null}var Ki=V4();const sP=L4(Ki),kF=()=>{};var eR={};const rP=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},NF=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[n++];e[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[n++],o=t[n++],l=t[n++],u=((r&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[s++]=String.fromCharCode(55296+(u>>10)),e[s++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|o&63)}}return e.join("")},iP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const i=t[r],o=r+1<t.length,l=o?t[r+1]:0,u=r+2<t.length,d=u?t[r+2]:0,f=i>>2,p=(i&3)<<4|l>>4;let y=(l&15)<<2|d>>6,x=d&63;u||(x=64,o||(y=64)),s.push(n[f],n[p],n[y],n[x])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(rP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):NF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const i=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;const d=r<t.length?n[t.charAt(r)]:64;++r;const p=r<t.length?n[t.charAt(r)]:64;if(++r,i==null||l==null||d==null||p==null)throw new RF;const y=i<<2|l>>4;if(s.push(y),d!==64){const x=l<<4&240|d>>2;if(s.push(x),p!==64){const w=d<<6&192|p;s.push(w)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class RF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MF=function(t){const e=rP(t);return iP.encodeByteArray(e,!0)},a0=function(t){return MF(t).replace(/\./g,"")},oP=function(t){try{return iP.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function IF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const DF=()=>IF().__FIREBASE_DEFAULTS__,PF=()=>{if(typeof process>"u"||typeof eR>"u")return;const t=eR.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},OF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&oP(t[1]);return e&&JSON.parse(e)},qx=()=>{try{return kF()||DF()||PF()||OF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},aP=t=>qx()?.emulatorHosts?.[t],lP=t=>{const e=aP(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},cP=()=>qx()?.config,uP=t=>qx()?.[`_${t}`];class jF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Ll(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ET(t){return(await fetch(t,{credentials:"include"})).ok}function dP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[a0(JSON.stringify(n)),a0(JSON.stringify(o)),""].join(".")}const Wf={};function LF(){const t={prod:[],emulator:[]};for(const e of Object.keys(Wf))Wf[e]?t.emulator.push(e):t.prod.push(e);return t}function VF(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let tR=!1;function ST(t,e){if(typeof window>"u"||typeof document>"u"||!Ll(window.location.host)||Wf[t]===e||Wf[t]||tR)return;Wf[t]=e;function n(y){return`__firebase__banner__${y}`}const s="__firebase__banner",i=LF().prod.length>0;function o(){const y=document.getElementById(s);y&&y.remove()}function l(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function u(y,x){y.setAttribute("width","24"),y.setAttribute("id",x),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function d(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{tR=!0,o()},y}function f(y,x){y.setAttribute("id",x),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function p(){const y=VF(s),x=n("text"),w=document.getElementById(x)||document.createElement("span"),T=n("learnmore"),S=document.getElementById(T)||document.createElement("a"),A=n("preprendIcon"),N=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const P=y.element;l(P),f(S,T);const O=d();u(N,A),P.append(N,w,S,O),document.body.appendChild(P)}i?(w.innerText="Preview backend disconnected.",N.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(N.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Ts(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ts())}function BF(){const t=qx()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function FF(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function HF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $F(){const t=Ts();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function qF(){return!BF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WF(){try{return typeof indexedDB=="object"}catch{return!1}}function KF(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{e(r.error?.message||"")}}catch(n){e(n)}})}const GF="FirebaseError";class po extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=GF,Object.setPrototypeOf(this,po.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tm.prototype.create)}}class tm{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?YF(i,s):"Error",l=`${this.serviceName}: ${o} (${r}).`;return new po(r,l,s)}}function YF(t,e){return t.replace(XF,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const XF=/\{\$([^}]+)}/g;function QF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function $c(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const i=t[r],o=e[r];if(nR(i)&&nR(o)){if(!$c(i,o))return!1}else if(i!==o)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function nR(t){return t!==null&&typeof t=="object"}function nm(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Df(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[r,i]=s.split("=");e[decodeURIComponent(r)]=decodeURIComponent(i)}}),e}function Pf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function JF(t,e){const n=new ZF(t,e);return n.subscribe.bind(n)}class ZF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let r;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");eH(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:s},r.next===void 0&&(r.next=Jb),r.error===void 0&&(r.error=Jb),r.complete===void 0&&(r.complete=Jb);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eH(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Jb(){}function Wt(t){return t&&t._delegate?t._delegate:t}class Tl{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const _c="[DEFAULT]";class tH{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new jF;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sH(e))try{this.getOrInitializeService({instanceIdentifier:_c})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(e=_c){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_c){return this.instances.has(e)}getOptions(e=_c){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);s===l&&o.resolve(r)}return r}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(s)??new Set;r.add(e),this.onInitCallbacks.set(s,r);const i=this.instances.get(s);return i&&e(i,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:nH(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=_c){return this.component?this.component.multipleInstances?e:_c:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nH(t){return t===_c?void 0:t}function sH(t){return t.instantiationMode==="EAGER"}class rH{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tH(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var ot;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ot||(ot={}));const iH={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},oH=ot.INFO,aH={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},lH=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=aH[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class TT{constructor(e){this.name=e,this._logLevel=oH,this._logHandler=lH,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iH[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...e),this._logHandler(this,ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...e),this._logHandler(this,ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...e),this._logHandler(this,ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...e),this._logHandler(this,ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...e),this._logHandler(this,ot.ERROR,...e)}}const cH=(t,e)=>e.some(n=>t instanceof n);let sR,rR;function uH(){return sR||(sR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dH(){return rR||(rR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hP=new WeakMap,TE=new WeakMap,fP=new WeakMap,Zb=new WeakMap,_T=new WeakMap;function hH(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(pl(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&hP.set(n,t)}).catch(()=>{}),_T.set(e,t),e}function fH(t){if(TE.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});TE.set(t,e)}let _E={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return TE.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fP.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function pH(t){_E=t(_E)}function mH(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(ew(this),e,...n);return fP.set(s,e.sort?e.sort():[e]),pl(s)}:dH().includes(t)?function(...e){return t.apply(ew(this),e),pl(hP.get(this))}:function(...e){return pl(t.apply(ew(this),e))}}function gH(t){return typeof t=="function"?mH(t):(t instanceof IDBTransaction&&fH(t),cH(t,uH())?new Proxy(t,_E):t)}function pl(t){if(t instanceof IDBRequest)return hH(t);if(Zb.has(t))return Zb.get(t);const e=gH(t);return e!==t&&(Zb.set(t,e),_T.set(e,t)),e}const ew=t=>_T.get(t);function yH(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(t,e),l=pl(o);return s&&o.addEventListener("upgradeneeded",u=>{s(pl(o.result),u.oldVersion,u.newVersion,pl(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{i&&u.addEventListener("close",()=>i()),r&&u.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const xH=["get","getKey","getAll","getAllKeys","count"],vH=["put","add","delete","clear"],tw=new Map;function iR(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(tw.get(e))return tw.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=vH.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||xH.includes(n)))return;const i=async function(o,...l){const u=this.transaction(o,r?"readwrite":"readonly");let d=u.store;return s&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),r&&u.done]))[0]};return tw.set(e,i),i}pH(t=>({...t,get:(e,n,s)=>iR(e,n)||t.get(e,n,s),has:(e,n)=>!!iR(e,n)||t.has(e,n)}));class bH{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wH(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function wH(t){return t.getComponent()?.type==="VERSION"}const AE="@firebase/app",oR="0.14.8";const na=new TT("@firebase/app"),EH="@firebase/app-compat",SH="@firebase/analytics-compat",TH="@firebase/analytics",_H="@firebase/app-check-compat",AH="@firebase/app-check",CH="@firebase/auth",kH="@firebase/auth-compat",NH="@firebase/database",RH="@firebase/data-connect",MH="@firebase/database-compat",IH="@firebase/functions",DH="@firebase/functions-compat",PH="@firebase/installations",OH="@firebase/installations-compat",jH="@firebase/messaging",LH="@firebase/messaging-compat",VH="@firebase/performance",zH="@firebase/performance-compat",BH="@firebase/remote-config",UH="@firebase/remote-config-compat",FH="@firebase/storage",HH="@firebase/storage-compat",$H="@firebase/firestore",qH="@firebase/ai",WH="@firebase/firestore-compat",KH="firebase",GH="12.9.0";const CE="[DEFAULT]",YH={[AE]:"fire-core",[EH]:"fire-core-compat",[TH]:"fire-analytics",[SH]:"fire-analytics-compat",[AH]:"fire-app-check",[_H]:"fire-app-check-compat",[CH]:"fire-auth",[kH]:"fire-auth-compat",[NH]:"fire-rtdb",[RH]:"fire-data-connect",[MH]:"fire-rtdb-compat",[IH]:"fire-fn",[DH]:"fire-fn-compat",[PH]:"fire-iid",[OH]:"fire-iid-compat",[jH]:"fire-fcm",[LH]:"fire-fcm-compat",[VH]:"fire-perf",[zH]:"fire-perf-compat",[BH]:"fire-rc",[UH]:"fire-rc-compat",[FH]:"fire-gcs",[HH]:"fire-gcs-compat",[$H]:"fire-fst",[WH]:"fire-fst-compat",[qH]:"fire-vertex","fire-js":"fire-js",[KH]:"fire-js-all"};const l0=new Map,XH=new Map,kE=new Map;function aR(t,e){try{t.container.addComponent(e)}catch(n){na.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qc(t){const e=t.name;if(kE.has(e))return na.debug(`There were multiple attempts to register component ${e}.`),!1;kE.set(e,t);for(const n of l0.values())aR(n,t);for(const n of XH.values())aR(n,t);return!0}function Wx(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function gr(t){return t==null?!1:t.settings!==void 0}const QH={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ml=new tm("app","Firebase",QH);class JH{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Tl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ml.create("app-deleted",{appName:this._name})}}const cu=GH;function pP(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:CE,automaticDataCollectionEnabled:!0,...e},r=s.name;if(typeof r!="string"||!r)throw ml.create("bad-app-name",{appName:String(r)});if(n||(n=cP()),!n)throw ml.create("no-options");const i=l0.get(r);if(i){if($c(n,i.options)&&$c(s,i.config))return i;throw ml.create("duplicate-app",{appName:r})}const o=new rH(r);for(const u of kE.values())o.addComponent(u);const l=new JH(n,s,o);return l0.set(r,l),l}function AT(t=CE){const e=l0.get(t);if(!e&&t===CE&&cP())return pP();if(!e)throw ml.create("no-app",{appName:t});return e}function Xi(t,e,n){let s=YH[t]??t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),i=e.match(/\s|\//);if(r||i){const o=[`Unable to register library "${s}" with version "${e}":`];r&&o.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),na.warn(o.join(" "));return}qc(new Tl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const ZH="firebase-heartbeat-database",e$=1,bp="firebase-heartbeat-store";let nw=null;function mP(){return nw||(nw=yH(ZH,e$,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(bp)}catch(n){console.warn(n)}}}}).catch(t=>{throw ml.create("idb-open",{originalErrorMessage:t.message})})),nw}async function t$(t){try{const n=(await mP()).transaction(bp),s=await n.objectStore(bp).get(gP(t));return await n.done,s}catch(e){if(e instanceof po)na.warn(e.message);else{const n=ml.create("idb-get",{originalErrorMessage:e?.message});na.warn(n.message)}}}async function lR(t,e){try{const s=(await mP()).transaction(bp,"readwrite");await s.objectStore(bp).put(e,gP(t)),await s.done}catch(n){if(n instanceof po)na.warn(n.message);else{const s=ml.create("idb-set",{originalErrorMessage:n?.message});na.warn(s.message)}}}function gP(t){return`${t.name}!${t.options.appId}`}const n$=1024,s$=30;class r${constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new o$(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=cR();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(r=>r.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>s$){const r=a$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){na.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=cR(),{heartbeatsToSend:n,unsentEntries:s}=i$(this._heartbeatsCache.heartbeats),r=a0(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return na.warn(e),""}}}function cR(){return new Date().toISOString().substring(0,10)}function i$(t,e=n$){const n=[];let s=t.slice();for(const r of t){const i=n.find(o=>o.agent===r.agent);if(i){if(i.dates.push(r.date),uR(n)>e){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),uR(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class o${constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WF()?KF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await t$(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return lR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return lR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function uR(t){return a0(JSON.stringify({version:2,heartbeats:t})).length}function a$(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function l$(t){qc(new Tl("platform-logger",e=>new bH(e),"PRIVATE")),qc(new Tl("heartbeat",e=>new r$(e),"PRIVATE")),Xi(AE,oR,t),Xi(AE,oR,"esm2020"),Xi("fire-js","")}l$("");function yP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const c$=yP,xP=new tm("auth","Firebase",yP());const c0=new TT("@firebase/auth");function u$(t,...e){c0.logLevel<=ot.WARN&&c0.warn(`Auth (${cu}): ${t}`,...e)}function My(t,...e){c0.logLevel<=ot.ERROR&&c0.error(`Auth (${cu}): ${t}`,...e)}function yi(t,...e){throw CT(t,...e)}function Qi(t,...e){return CT(t,...e)}function vP(t,e,n){const s={...c$(),[e]:n};return new tm("auth","Firebase",s).create(e,{appName:t.name})}function Xo(t){return vP(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function CT(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return xP.create(t,...e)}function Be(t,e,...n){if(!t)throw CT(e,...n)}function Wo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw My(e),new Error(e)}function sa(t,e){t||Wo(e)}function NE(){return typeof self<"u"&&self.location?.href||""}function d$(){return dR()==="http:"||dR()==="https:"}function dR(){return typeof self<"u"&&self.location?.protocol||null}function h$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(d$()||FF()||"connection"in navigator)?navigator.onLine:!0}function f$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class sm{constructor(e,n){this.shortDelay=e,this.longDelay=n,sa(n>e,"Short delay should be less than long delay!"),this.isMobile=zF()||HF()}get(){return h$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function kT(t,e){sa(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class bP{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const p$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const m$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],g$=new sm(3e4,6e4);function ca(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ua(t,e,n,s,r={}){return wP(t,r,async()=>{let i={},o={};s&&(e==="GET"?o=s:i={body:JSON.stringify(s)});const l=nm({key:t.config.apiKey,...o}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:u,...i};return UF()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Ll(t.emulatorConfig.host)&&(d.credentials="include"),bP.fetch()(await EP(t,t.config.apiHost,n,l),d)})}async function wP(t,e,n){t._canInitEmulator=!1;const s={...p$,...e};try{const r=new x$(t),i=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Xg(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[u,d]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xg(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Xg(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Xg(t,"user-disabled",o);const f=s[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw vP(t,f,d);yi(t,f)}}catch(r){if(r instanceof po)throw r;yi(t,"network-request-failed",{message:String(r)})}}async function rm(t,e,n,s,r={}){const i=await ua(t,e,n,s,r);return"mfaPendingCredential"in i&&yi(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function EP(t,e,n,s){const r=`${e}${n}?${s}`,i=t,o=i.config.emulator?kT(t.config,r):`${t.config.apiScheme}://${r}`;return m$.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function y$(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class x${clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Qi(this.auth,"network-request-failed")),g$.get())})}}function Xg(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const r=Qi(t,e,s);return r.customData._tokenResponse=n,r}function hR(t){return t!==void 0&&t.enterprise!==void 0}class v${constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return y$(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function b$(t,e){return ua(t,"GET","/v2/recaptchaConfig",ca(t,e))}async function w$(t,e){return ua(t,"POST","/v1/accounts:delete",e)}async function u0(t,e){return ua(t,"POST","/v1/accounts:lookup",e)}function Kf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function E$(t,e=!1){const n=Wt(t),s=await n.getIdToken(e),r=NT(s);Be(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const i=typeof r.firebase=="object"?r.firebase:void 0,o=i?.sign_in_provider;return{claims:r,token:s,authTime:Kf(sw(r.auth_time)),issuedAtTime:Kf(sw(r.iat)),expirationTime:Kf(sw(r.exp)),signInProvider:o||null,signInSecondFactor:i?.sign_in_second_factor||null}}function sw(t){return Number(t)*1e3}function NT(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return My("JWT malformed, contained fewer than 3 sections"),null;try{const r=oP(n);return r?JSON.parse(r):(My("Failed to decode base64 JWT payload"),null)}catch(r){return My("Caught error parsing JWT payload as JSON",r?.toString()),null}}function fR(t){const e=NT(t);return Be(e,"internal-error"),Be(typeof e.exp<"u","internal-error"),Be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function wp(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof po&&S$(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function S$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class T${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class RE{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kf(this.lastLoginAt),this.creationTime=Kf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function d0(t){const e=t.auth,n=await t.getIdToken(),s=await wp(t,u0(e,{idToken:n}));Be(s?.users.length,e,"internal-error");const r=s.users[0];t._notifyReloadListener(r);const i=r.providerUserInfo?.length?SP(r.providerUserInfo):[],o=A$(t.providerData,i),l=t.isAnonymous,u=!(t.email&&r.passwordHash)&&!o?.length,d=l?u:!1,f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new RE(r.createdAt,r.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function _$(t){const e=Wt(t);await d0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function A$(t,e){return[...t.filter(s=>!e.some(r=>r.providerId===s.providerId)),...e]}function SP(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function C$(t,e){const n=await wP(t,{},async()=>{const s=nm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:i}=t.config,o=await EP(t,r,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:s};return t.emulatorConfig&&Ll(t.emulatorConfig.host)&&(u.credentials="include"),bP.fetch()(o,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function k$(t,e){return ua(t,"POST","/v2/accounts:revokeToken",ca(t,e))}class _d{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Be(e.idToken,"internal-error"),Be(typeof e.idToken<"u","internal-error"),Be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Be(e.length!==0,"internal-error");const n=fR(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:r,expiresIn:i}=await C$(e,n);this.updateTokensAndExpiration(s,r,Number(i))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:r,expirationTime:i}=n,o=new _d;return s&&(Be(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),r&&(Be(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),i&&(Be(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _d,this.toJSON())}_performRefresh(){return Wo("not implemented")}}function qa(t,e){Be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class li{constructor({uid:e,auth:n,stsTokenManager:s,...r}){this.providerId="firebase",this.proactiveRefresh=new T$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new RE(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await wp(this,this.stsTokenManager.getToken(this.auth,e));return Be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return E$(this,e)}reload(){return _$(this)}_assign(e){this!==e&&(Be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new li({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await d0(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gr(this.auth.app))return Promise.reject(Xo(this.auth));const e=await this.getIdToken();return await wp(this,w$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,r=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,l=n.tenantId??void 0,u=n._redirectEventId??void 0,d=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:p,emailVerified:y,isAnonymous:x,providerData:w,stsTokenManager:T}=n;Be(p&&T,e,"internal-error");const S=_d.fromJSON(this.name,T);Be(typeof p=="string",e,"internal-error"),qa(s,e.name),qa(r,e.name),Be(typeof y=="boolean",e,"internal-error"),Be(typeof x=="boolean",e,"internal-error"),qa(i,e.name),qa(o,e.name),qa(l,e.name),qa(u,e.name),qa(d,e.name),qa(f,e.name);const A=new li({uid:p,auth:e,email:r,emailVerified:y,displayName:s,isAnonymous:x,photoURL:o,phoneNumber:i,tenantId:l,stsTokenManager:S,createdAt:d,lastLoginAt:f});return w&&Array.isArray(w)&&(A.providerData=w.map(N=>({...N}))),u&&(A._redirectEventId=u),A}static async _fromIdTokenResponse(e,n,s=!1){const r=new _d;r.updateFromServerResponse(n);const i=new li({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:s});return await d0(i),i}static async _fromGetAccountInfoResponse(e,n,s){const r=n.users[0];Be(r.localId!==void 0,"internal-error");const i=r.providerUserInfo!==void 0?SP(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!i?.length,l=new _d;l.updateFromIdToken(s);const u=new li({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new RE(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!i?.length};return Object.assign(u,d),u}}const pR=new Map;function Ko(t){sa(t instanceof Function,"Expected a class definition");let e=pR.get(t);return e?(sa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,pR.set(t,e),e)}class TP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}TP.type="NONE";const mR=TP;function Iy(t,e,n){return`firebase:${t}:${e}:${n}`}class Ad{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:r,name:i}=this.auth;this.fullUserKey=Iy(this.userKey,r.apiKey,i),this.fullPersistenceKey=Iy("persistence",r.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await u0(this.auth,{idToken:e}).catch(()=>{});return n?li._fromGetAccountInfoResponse(this.auth,n,e):null}return li._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ad(Ko(mR),e,s);const r=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=r[0]||Ko(mR);const o=Iy(s,e.config.apiKey,e.name);let l=null;for(const d of n)try{const f=await d._get(o);if(f){let p;if(typeof f=="string"){const y=await u0(e,{idToken:f}).catch(()=>{});if(!y)break;p=await li._fromGetAccountInfoResponse(e,y,f)}else p=li._fromJSON(e,f);d!==i&&(l=p),i=d;break}}catch{}const u=r.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new Ad(i,e,s):(i=u[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new Ad(i,e,s))}}function gR(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_P(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(RP(e))return"Blackberry";if(MP(e))return"Webos";if(AP(e))return"Safari";if((e.includes("chrome/")||CP(e))&&!e.includes("edge/"))return"Chrome";if(NP(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function _P(t=Ts()){return/firefox\//i.test(t)}function AP(t=Ts()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function CP(t=Ts()){return/crios\//i.test(t)}function kP(t=Ts()){return/iemobile/i.test(t)}function NP(t=Ts()){return/android/i.test(t)}function RP(t=Ts()){return/blackberry/i.test(t)}function MP(t=Ts()){return/webos/i.test(t)}function RT(t=Ts()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function N$(t=Ts()){return RT(t)&&!!window.navigator?.standalone}function R$(){return $F()&&document.documentMode===10}function IP(t=Ts()){return RT(t)||NP(t)||MP(t)||RP(t)||/windows phone/i.test(t)||kP(t)}function DP(t,e=[]){let n;switch(t){case"Browser":n=gR(Ts());break;case"Worker":n=`${gR(Ts())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${cu}/${s}`}class M${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=i=>new Promise((o,l)=>{try{const u=e(i);o(u)}catch(u){l(u)}});s.onAbort=n,this.queue.push(s);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function I$(t,e={}){return ua(t,"GET","/v2/passwordPolicy",ca(t,e))}const D$=6;class P${constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??D$,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let r=0;r<e.length;r++)s=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class O${constructor(e,n,s,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yR(this),this.idTokenSubscription=new yR(this),this.beforeStateQueue=new M$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ko(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ad.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await u0(this,{idToken:e}),s=await li._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(gr(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=this.redirectUser?._redirectEventId,o=s?._redirectEventId,l=await this.tryRedirectSignIn(e);(!i||i===o)&&l?.user&&(s=l.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(i){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await d0(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=f$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gr(this.app))return Promise.reject(Xo(this));const n=e?Wt(e):null;return n&&Be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gr(this.app)?Promise.reject(Xo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gr(this.app)?Promise.reject(Xo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ko(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await I$(this),n=new P$(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new tm("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await k$(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ko(e)||this._popupRedirectResolver;Be(n,this,"argument-error"),this.redirectPersistenceManager=await Ad.create(this,[Ko(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,r){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Be(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,s,r);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=DP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(gr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&u$(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Vl(t){return Wt(t)}class yR{constructor(e){this.auth=e,this.observer=null,this.addObserver=JF(n=>this.observer=n)}get next(){return Be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Kx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function j$(t){Kx=t}function PP(t){return Kx.loadJS(t)}function L$(){return Kx.recaptchaEnterpriseScript}function V$(){return Kx.gapiScript}function z$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class B${constructor(){this.enterprise=new U$}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class U${ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const F$="recaptcha-enterprise",OP="NO_RECAPTCHA";class H${constructor(e){this.type=F$,this.auth=Vl(e)}async verify(e="verify",n=!1){async function s(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,l)=>{b$(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new v$(u);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(u=>{l(u)})})}function r(i,o,l){const u=window.grecaptcha;hR(u)?u.enterprise.ready(()=>{u.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(OP)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new B$().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{s(this.auth).then(l=>{if(!n&&hR(window.grecaptcha))r(l,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=L$();u.length!==0&&(u+=l),PP(u).then(()=>{r(l,i,o)}).catch(d=>{o(d)})}}).catch(l=>{o(l)})})}}async function xR(t,e,n,s=!1,r=!1){const i=new H$(t);let o;if(r)o=OP;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return s?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function h0(t,e,n,s,r){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await xR(t,e,n,n==="getOobCode");return s(t,i)}else return s(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await xR(t,e,n,n==="getOobCode");return s(t,o)}else return Promise.reject(i)})}function $$(t,e){const n=Wx(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),i=n.getOptions();if($c(i,e??{}))return r;yi(r,"already-initialized")}return n.initialize({options:e})}function q$(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Ko);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function W$(t,e,n){const s=Vl(t);Be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const r=!1,i=jP(e),{host:o,port:l}=K$(e),u=l===null?"":`:${l}`,d={url:`${i}//${o}${u}/`},f=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!s._canInitEmulator){Be(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Be($c(d,s.config.emulator)&&$c(f,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=d,s.emulatorConfig=f,s.settings.appVerificationDisabledForTesting=!0,Ll(o)?(ET(`${i}//${o}${u}`),ST("Auth",!0)):G$()}function jP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function K$(t){const e=jP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(s);if(r){const i=r[1];return{host:i,port:vR(s.substr(i.length+1))}}else{const[i,o]=s.split(":");return{host:i,port:vR(o)}}}function vR(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function G$(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class MT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Wo("not implemented")}_getIdTokenResponse(e){return Wo("not implemented")}_linkToIdToken(e,n){return Wo("not implemented")}_getReauthenticationResolver(e){return Wo("not implemented")}}async function Y$(t,e){return ua(t,"POST","/v1/accounts:signUp",e)}async function X$(t,e){return rm(t,"POST","/v1/accounts:signInWithPassword",ca(t,e))}async function Q$(t,e){return ua(t,"POST","/v1/accounts:sendOobCode",ca(t,e))}async function J$(t,e){return Q$(t,e)}async function Z$(t,e){return rm(t,"POST","/v1/accounts:signInWithEmailLink",ca(t,e))}async function eq(t,e){return rm(t,"POST","/v1/accounts:signInWithEmailLink",ca(t,e))}class Ep extends MT{constructor(e,n,s,r=null){super("password",s),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Ep(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Ep(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return h0(e,n,"signInWithPassword",X$);case"emailLink":return Z$(e,{email:this._email,oobCode:this._password});default:yi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return h0(e,s,"signUpPassword",Y$);case"emailLink":return eq(e,{idToken:n,email:this._email,oobCode:this._password});default:yi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Cd(t,e){return rm(t,"POST","/v1/accounts:signInWithIdp",ca(t,e))}const tq="http://localhost";class Wc extends MT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Wc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):yi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:r,...i}=n;if(!s||!r)return null;const o=new Wc(s,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Cd(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Cd(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Cd(e,n)}buildRequest(){const e={requestUri:tq,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nm(n)}return e}}function nq(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function sq(t){const e=Df(Pf(t)).link,n=e?Df(Pf(e)).deep_link_id:null,s=Df(Pf(t)).deep_link_id;return(s?Df(Pf(s)).link:null)||s||n||e||t}class IT{constructor(e){const n=Df(Pf(e)),s=n.apiKey??null,r=n.oobCode??null,i=nq(n.mode??null);Be(s&&r&&i,"argument-error"),this.apiKey=s,this.operation=i,this.code=r,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=sq(e);try{return new IT(n)}catch{return null}}}class sh{constructor(){this.providerId=sh.PROVIDER_ID}static credential(e,n){return Ep._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=IT.parseLink(n);return Be(s,"argument-error"),Ep._fromEmailAndCode(e,s.code,s.tenantId)}}sh.PROVIDER_ID="password";sh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";sh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class LP{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class im extends LP{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class nl extends im{constructor(){super("facebook.com")}static credential(e){return Wc._fromParams({providerId:nl.PROVIDER_ID,signInMethod:nl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nl.credentialFromTaggedObject(e)}static credentialFromError(e){return nl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return nl.credential(e.oauthAccessToken)}catch{return null}}}nl.FACEBOOK_SIGN_IN_METHOD="facebook.com";nl.PROVIDER_ID="facebook.com";class sl extends im{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Wc._fromParams({providerId:sl.PROVIDER_ID,signInMethod:sl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return sl.credentialFromTaggedObject(e)}static credentialFromError(e){return sl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return sl.credential(n,s)}catch{return null}}}sl.GOOGLE_SIGN_IN_METHOD="google.com";sl.PROVIDER_ID="google.com";class rl extends im{constructor(){super("github.com")}static credential(e){return Wc._fromParams({providerId:rl.PROVIDER_ID,signInMethod:rl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rl.credentialFromTaggedObject(e)}static credentialFromError(e){return rl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rl.credential(e.oauthAccessToken)}catch{return null}}}rl.GITHUB_SIGN_IN_METHOD="github.com";rl.PROVIDER_ID="github.com";class il extends im{constructor(){super("twitter.com")}static credential(e,n){return Wc._fromParams({providerId:il.PROVIDER_ID,signInMethod:il.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return il.credentialFromTaggedObject(e)}static credentialFromError(e){return il.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return il.credential(n,s)}catch{return null}}}il.TWITTER_SIGN_IN_METHOD="twitter.com";il.PROVIDER_ID="twitter.com";async function rq(t,e){return rm(t,"POST","/v1/accounts:signUp",ca(t,e))}class Kc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,r=!1){const i=await li._fromIdTokenResponse(e,s,r),o=bR(s);return new Kc({user:i,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const r=bR(s);return new Kc({user:e,providerId:r,_tokenResponse:s,operationType:n})}}function bR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class f0 extends po{constructor(e,n,s,r){super(n.code,n.message),this.operationType=s,this.user=r,Object.setPrototypeOf(this,f0.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,r){return new f0(e,n,s,r)}}function VP(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?f0._fromErrorAndOperation(t,i,e,s):i})}async function iq(t,e,n=!1){const s=await wp(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Kc._forOperation(t,"link",s)}async function oq(t,e,n=!1){const{auth:s}=t;if(gr(s.app))return Promise.reject(Xo(s));const r="reauthenticate";try{const i=await wp(t,VP(s,r,e,t),n);Be(i.idToken,s,"internal-error");const o=NT(i.idToken);Be(o,s,"internal-error");const{sub:l}=o;return Be(t.uid===l,s,"user-mismatch"),Kc._forOperation(t,r,i)}catch(i){throw i?.code==="auth/user-not-found"&&yi(s,"user-mismatch"),i}}async function zP(t,e,n=!1){if(gr(t.app))return Promise.reject(Xo(t));const s="signIn",r=await VP(t,s,e),i=await Kc._fromIdTokenResponse(t,s,r);return n||await t._updateCurrentUser(i.user),i}async function aq(t,e){return zP(Vl(t),e)}async function BP(t){const e=Vl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function lq(t,e,n){const s=Vl(t);await h0(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",J$)}async function cq(t,e,n){if(gr(t.app))return Promise.reject(Xo(t));const s=Vl(t),o=await h0(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",rq).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&BP(t),u}),l=await Kc._fromIdTokenResponse(s,"signIn",o);return await s._updateCurrentUser(l.user),l}function uq(t,e,n){return gr(t.app)?Promise.reject(Xo(t)):aq(Wt(t),sh.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&BP(t),s})}function dq(t,e,n,s){return Wt(t).onIdTokenChanged(e,n,s)}function hq(t,e,n){return Wt(t).beforeAuthStateChanged(e,n)}function fq(t,e,n,s){return Wt(t).onAuthStateChanged(e,n,s)}function pq(t){return Wt(t).signOut()}const p0="__sak";class UP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(p0,"1"),this.storage.removeItem(p0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const mq=1e3,gq=10;class FP extends UP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=IP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),r=this.localCache[n];s!==r&&e(n,r,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const s=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},i=this.storage.getItem(s);R$()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,gq):r()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},mq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}FP.type="LOCAL";const yq=FP;class HP extends UP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}HP.type="SESSION";const $P=HP;function xq(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Gx{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const s=new Gx(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:r,data:i}=n.data,o=this.handlersMap[r];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:r});const l=Array.from(o).map(async d=>d(n.origin,i)),u=await xq(l);n.ports[0].postMessage({status:"done",eventId:s,eventType:r,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gx.receivers=[];function DT(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}class vq{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((l,u)=>{const d=DT("",20);r.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},s);o={messageChannel:r,onMessage(p){const y=p;if(y.data.eventId===d)switch(y.data.status){case"ack":clearTimeout(f),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(y.data.response);break;default:clearTimeout(f),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function Ji(){return window}function bq(t){Ji().location.href=t}function qP(){return typeof Ji().WorkerGlobalScope<"u"&&typeof Ji().importScripts=="function"}async function wq(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Eq(){return navigator?.serviceWorker?.controller||null}function Sq(){return qP()?self:null}const WP="firebaseLocalStorageDb",Tq=1,m0="firebaseLocalStorage",KP="fbase_key";class om{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yx(t,e){return t.transaction([m0],e?"readwrite":"readonly").objectStore(m0)}function _q(){const t=indexedDB.deleteDatabase(WP);return new om(t).toPromise()}function ME(){const t=indexedDB.open(WP,Tq);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(m0,{keyPath:KP})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(m0)?e(s):(s.close(),await _q(),e(await ME()))})})}async function wR(t,e,n){const s=Yx(t,!0).put({[KP]:e,value:n});return new om(s).toPromise()}async function Aq(t,e){const n=Yx(t,!1).get(e),s=await new om(n).toPromise();return s===void 0?null:s.value}function ER(t,e){const n=Yx(t,!0).delete(e);return new om(n).toPromise()}const Cq=800,kq=3;class GP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ME(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>kq)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gx._getInstance(Sq()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await wq(),!this.activeServiceWorker)return;this.sender=new vq(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Eq()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ME();return await wR(e,p0,"1"),await ER(e,p0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>wR(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>Aq(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ER(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const i=Yx(r,!1).getAll();return new om(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:r,value:i}of e)s.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!s.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Cq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GP.type="LOCAL";const Nq=GP;new sm(3e4,6e4);function Rq(t,e){return e?Ko(e):(Be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class PT extends MT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Cd(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Cd(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Cd(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Mq(t){return zP(t.auth,new PT(t),t.bypassAuthState)}function Iq(t){const{auth:e,user:n}=t;return Be(n,e,"internal-error"),oq(n,new PT(t),t.bypassAuthState)}async function Dq(t){const{auth:e,user:n}=t;return Be(n,e,"internal-error"),iq(n,new PT(t),t.bypassAuthState)}class YP{constructor(e,n,s,r,i=!1){this.auth=e,this.resolver=s,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:r,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:s,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Mq;case"linkViaPopup":case"linkViaRedirect":return Dq;case"reauthViaPopup":case"reauthViaRedirect":return Iq;default:yi(this.auth,"internal-error")}}resolve(e){sa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){sa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Pq=new sm(2e3,1e4);class xd extends YP{constructor(e,n,s,r,i){super(e,n,r,i),this.provider=s,this.authWindow=null,this.pollId=null,xd.currentPopupAction&&xd.currentPopupAction.cancel(),xd.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Be(e,this.auth,"internal-error"),e}async onExecution(){sa(this.filter.length===1,"Popup operations only handle one event");const e=DT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Qi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xd.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Pq.get())};e()}}xd.currentPopupAction=null;const Oq="pendingRedirect",Dy=new Map;class jq extends YP{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Dy.get(this.auth._key());if(!e){try{const s=await Lq(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Dy.set(this.auth._key(),e)}return this.bypassAuthState||Dy.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Lq(t,e){const n=Bq(e),s=zq(t);if(!await s._isAvailable())return!1;const r=await s._get(n)==="true";return await s._remove(n),r}function Vq(t,e){Dy.set(t._key(),e)}function zq(t){return Ko(t._redirectPersistence)}function Bq(t){return Iy(Oq,t.config.apiKey,t.name)}async function Uq(t,e,n=!1){if(gr(t.app))return Promise.reject(Xo(t));const s=Vl(t),r=Rq(s,e),o=await new jq(s,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}const Fq=600*1e3;class Hq{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$q(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!XP(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Qi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Fq&&this.cachedEventUids.clear(),this.cachedEventUids.has(SR(e))}saveEventToCache(e){this.cachedEventUids.add(SR(e)),this.lastProcessedEventTime=Date.now()}}function SR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function XP({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function $q(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XP(t);default:return!1}}async function qq(t,e={}){return ua(t,"GET","/v1/projects",e)}const Wq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Kq=/^https?/;async function Gq(t){if(t.config.emulator)return;const{authorizedDomains:e}=await qq(t);for(const n of e)try{if(Yq(n))return}catch{}yi(t,"unauthorized-domain")}function Yq(t){const e=NE(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!Kq.test(n))return!1;if(Wq.test(t))return s===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(s)}const Xq=new sm(3e4,6e4);function TR(){const t=Ji().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Qq(t){return new Promise((e,n)=>{function s(){TR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{TR(),n(Qi(t,"network-request-failed"))},timeout:Xq.get()})}if(Ji().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ji().gapi?.load)s();else{const r=z$("iframefcb");return Ji()[r]=()=>{gapi.load?s():n(Qi(t,"network-request-failed"))},PP(`${V$()}?onload=${r}`).catch(i=>n(i))}}).catch(e=>{throw Py=null,e})}let Py=null;function Jq(t){return Py=Py||Qq(t),Py}const Zq=new sm(5e3,15e3),eW="__/auth/iframe",tW="emulator/auth/iframe",nW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rW(t){const e=t.config;Be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?kT(e,tW):`https://${t.config.authDomain}/${eW}`,s={apiKey:e.apiKey,appName:t.name,v:cu},r=sW.get(t.config.apiHost);r&&(s.eid=r);const i=t._getFrameworks();return i.length&&(s.fw=i.join(",")),`${n}?${nm(s).slice(1)}`}async function iW(t){const e=await Jq(t),n=Ji().gapi;return Be(n,t,"internal-error"),e.open({where:document.body,url:rW(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nW,dontclear:!0},s=>new Promise(async(r,i)=>{await s.restyle({setHideOnLeave:!1});const o=Qi(t,"network-request-failed"),l=Ji().setTimeout(()=>{i(o)},Zq.get());function u(){Ji().clearTimeout(l),r(s)}s.ping(u).then(u,()=>{i(o)})}))}const oW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},aW=500,lW=600,cW="_blank",uW="http://localhost";class _R{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dW(t,e,n,s=aW,r=lW){const i=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let l="";const u={...oW,width:s.toString(),height:r.toString(),top:i,left:o},d=Ts().toLowerCase();n&&(l=CP(d)?cW:n),_P(d)&&(e=e||uW,u.scrollbars="yes");const f=Object.entries(u).reduce((y,[x,w])=>`${y}${x}=${w},`,"");if(N$(d)&&l!=="_self")return hW(e||"",l),new _R(null);const p=window.open(e||"",l,f);Be(p,t,"popup-blocked");try{p.focus()}catch{}return new _R(p)}function hW(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const fW="__/auth/handler",pW="emulator/auth/handler",mW=encodeURIComponent("fac");async function AR(t,e,n,s,r,i){Be(t.config.authDomain,t,"auth-domain-config-required"),Be(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:cu,eventId:r};if(e instanceof LP){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",QF(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries({}))o[f]=p}if(e instanceof im){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const u=await t._getAppCheckToken(),d=u?`#${mW}=${encodeURIComponent(u)}`:"";return`${gW(t)}?${nm(l).slice(1)}${d}`}function gW({config:t}){return t.emulator?kT(t,pW):`https://${t.authDomain}/${fW}`}const rw="webStorageSupport";class yW{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$P,this._completeRedirectFn=Uq,this._overrideRedirectResult=Vq}async _openPopup(e,n,s,r){sa(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const i=await AR(e,n,s,NE(),r);return dW(e,i,DT())}async _openRedirect(e,n,s,r){await this._originValidation(e);const i=await AR(e,n,s,NE(),r);return bq(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:i}=this.eventManagers[n];return r?Promise.resolve(r):(sa(i,"If manager is not set, promise should be"),i)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await iW(e),s=new Hq(e);return n.register("authEvent",r=>(Be(r?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(rw,{type:rw},r=>{const i=r?.[0]?.[rw];i!==void 0&&n(!!i),yi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Gq(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return IP()||AP()||RT()}}const xW=yW;var CR="@firebase/auth",kR="1.12.0";class vW{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function bW(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wW(t){qc(new Tl("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=s.options;Be(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const u={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DP(t)},d=new O$(s,r,i,u);return q$(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),qc(new Tl("auth-internal",e=>{const n=Vl(e.getProvider("auth").getImmediate());return(s=>new vW(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xi(CR,kR,bW(t)),Xi(CR,kR,"esm2020")}const EW=300,SW=uP("authIdTokenMaxAge")||EW;let NR=null;const TW=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>SW)return;const r=n?.token;NR!==r&&(NR=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function _W(t=AT()){const e=Wx(t,"auth");if(e.isInitialized())return e.getImmediate();const n=$$(t,{popupRedirectResolver:xW,persistence:[Nq,yq,$P]}),s=uP("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(s,location.origin);if(location.origin===i.origin){const o=TW(i.toString());hq(n,o,()=>o(n.currentUser)),dq(n,l=>o(l))}}const r=aP("auth");return r&&W$(n,`http://${r}`),n}function AW(){return document.getElementsByTagName("head")?.[0]??document}j$({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=r=>{const i=Qi("internal-error");i.customData=r,n(i)},s.type="text/javascript",s.charset="UTF-8",AW().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wW("Browser");var CW="firebase",kW="12.9.0";Xi(CW,kW,"app");var RR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var gl,QP;(function(){var t;function e(I,R){function D(){}D.prototype=R.prototype,I.F=R.prototype,I.prototype=new D,I.prototype.constructor=I,I.D=function(z,B,H){for(var U=Array(arguments.length-2),he=2;he<arguments.length;he++)U[he-2]=arguments[he];return R.prototype[B].apply(z,U)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(I,R,D){D||(D=0);const z=Array(16);if(typeof R=="string")for(var B=0;B<16;++B)z[B]=R.charCodeAt(D++)|R.charCodeAt(D++)<<8|R.charCodeAt(D++)<<16|R.charCodeAt(D++)<<24;else for(B=0;B<16;++B)z[B]=R[D++]|R[D++]<<8|R[D++]<<16|R[D++]<<24;R=I.g[0],D=I.g[1],B=I.g[2];let H=I.g[3],U;U=R+(H^D&(B^H))+z[0]+3614090360&4294967295,R=D+(U<<7&4294967295|U>>>25),U=H+(B^R&(D^B))+z[1]+3905402710&4294967295,H=R+(U<<12&4294967295|U>>>20),U=B+(D^H&(R^D))+z[2]+606105819&4294967295,B=H+(U<<17&4294967295|U>>>15),U=D+(R^B&(H^R))+z[3]+3250441966&4294967295,D=B+(U<<22&4294967295|U>>>10),U=R+(H^D&(B^H))+z[4]+4118548399&4294967295,R=D+(U<<7&4294967295|U>>>25),U=H+(B^R&(D^B))+z[5]+1200080426&4294967295,H=R+(U<<12&4294967295|U>>>20),U=B+(D^H&(R^D))+z[6]+2821735955&4294967295,B=H+(U<<17&4294967295|U>>>15),U=D+(R^B&(H^R))+z[7]+4249261313&4294967295,D=B+(U<<22&4294967295|U>>>10),U=R+(H^D&(B^H))+z[8]+1770035416&4294967295,R=D+(U<<7&4294967295|U>>>25),U=H+(B^R&(D^B))+z[9]+2336552879&4294967295,H=R+(U<<12&4294967295|U>>>20),U=B+(D^H&(R^D))+z[10]+4294925233&4294967295,B=H+(U<<17&4294967295|U>>>15),U=D+(R^B&(H^R))+z[11]+2304563134&4294967295,D=B+(U<<22&4294967295|U>>>10),U=R+(H^D&(B^H))+z[12]+1804603682&4294967295,R=D+(U<<7&4294967295|U>>>25),U=H+(B^R&(D^B))+z[13]+4254626195&4294967295,H=R+(U<<12&4294967295|U>>>20),U=B+(D^H&(R^D))+z[14]+2792965006&4294967295,B=H+(U<<17&4294967295|U>>>15),U=D+(R^B&(H^R))+z[15]+1236535329&4294967295,D=B+(U<<22&4294967295|U>>>10),U=R+(B^H&(D^B))+z[1]+4129170786&4294967295,R=D+(U<<5&4294967295|U>>>27),U=H+(D^B&(R^D))+z[6]+3225465664&4294967295,H=R+(U<<9&4294967295|U>>>23),U=B+(R^D&(H^R))+z[11]+643717713&4294967295,B=H+(U<<14&4294967295|U>>>18),U=D+(H^R&(B^H))+z[0]+3921069994&4294967295,D=B+(U<<20&4294967295|U>>>12),U=R+(B^H&(D^B))+z[5]+3593408605&4294967295,R=D+(U<<5&4294967295|U>>>27),U=H+(D^B&(R^D))+z[10]+38016083&4294967295,H=R+(U<<9&4294967295|U>>>23),U=B+(R^D&(H^R))+z[15]+3634488961&4294967295,B=H+(U<<14&4294967295|U>>>18),U=D+(H^R&(B^H))+z[4]+3889429448&4294967295,D=B+(U<<20&4294967295|U>>>12),U=R+(B^H&(D^B))+z[9]+568446438&4294967295,R=D+(U<<5&4294967295|U>>>27),U=H+(D^B&(R^D))+z[14]+3275163606&4294967295,H=R+(U<<9&4294967295|U>>>23),U=B+(R^D&(H^R))+z[3]+4107603335&4294967295,B=H+(U<<14&4294967295|U>>>18),U=D+(H^R&(B^H))+z[8]+1163531501&4294967295,D=B+(U<<20&4294967295|U>>>12),U=R+(B^H&(D^B))+z[13]+2850285829&4294967295,R=D+(U<<5&4294967295|U>>>27),U=H+(D^B&(R^D))+z[2]+4243563512&4294967295,H=R+(U<<9&4294967295|U>>>23),U=B+(R^D&(H^R))+z[7]+1735328473&4294967295,B=H+(U<<14&4294967295|U>>>18),U=D+(H^R&(B^H))+z[12]+2368359562&4294967295,D=B+(U<<20&4294967295|U>>>12),U=R+(D^B^H)+z[5]+4294588738&4294967295,R=D+(U<<4&4294967295|U>>>28),U=H+(R^D^B)+z[8]+2272392833&4294967295,H=R+(U<<11&4294967295|U>>>21),U=B+(H^R^D)+z[11]+1839030562&4294967295,B=H+(U<<16&4294967295|U>>>16),U=D+(B^H^R)+z[14]+4259657740&4294967295,D=B+(U<<23&4294967295|U>>>9),U=R+(D^B^H)+z[1]+2763975236&4294967295,R=D+(U<<4&4294967295|U>>>28),U=H+(R^D^B)+z[4]+1272893353&4294967295,H=R+(U<<11&4294967295|U>>>21),U=B+(H^R^D)+z[7]+4139469664&4294967295,B=H+(U<<16&4294967295|U>>>16),U=D+(B^H^R)+z[10]+3200236656&4294967295,D=B+(U<<23&4294967295|U>>>9),U=R+(D^B^H)+z[13]+681279174&4294967295,R=D+(U<<4&4294967295|U>>>28),U=H+(R^D^B)+z[0]+3936430074&4294967295,H=R+(U<<11&4294967295|U>>>21),U=B+(H^R^D)+z[3]+3572445317&4294967295,B=H+(U<<16&4294967295|U>>>16),U=D+(B^H^R)+z[6]+76029189&4294967295,D=B+(U<<23&4294967295|U>>>9),U=R+(D^B^H)+z[9]+3654602809&4294967295,R=D+(U<<4&4294967295|U>>>28),U=H+(R^D^B)+z[12]+3873151461&4294967295,H=R+(U<<11&4294967295|U>>>21),U=B+(H^R^D)+z[15]+530742520&4294967295,B=H+(U<<16&4294967295|U>>>16),U=D+(B^H^R)+z[2]+3299628645&4294967295,D=B+(U<<23&4294967295|U>>>9),U=R+(B^(D|~H))+z[0]+4096336452&4294967295,R=D+(U<<6&4294967295|U>>>26),U=H+(D^(R|~B))+z[7]+1126891415&4294967295,H=R+(U<<10&4294967295|U>>>22),U=B+(R^(H|~D))+z[14]+2878612391&4294967295,B=H+(U<<15&4294967295|U>>>17),U=D+(H^(B|~R))+z[5]+4237533241&4294967295,D=B+(U<<21&4294967295|U>>>11),U=R+(B^(D|~H))+z[12]+1700485571&4294967295,R=D+(U<<6&4294967295|U>>>26),U=H+(D^(R|~B))+z[3]+2399980690&4294967295,H=R+(U<<10&4294967295|U>>>22),U=B+(R^(H|~D))+z[10]+4293915773&4294967295,B=H+(U<<15&4294967295|U>>>17),U=D+(H^(B|~R))+z[1]+2240044497&4294967295,D=B+(U<<21&4294967295|U>>>11),U=R+(B^(D|~H))+z[8]+1873313359&4294967295,R=D+(U<<6&4294967295|U>>>26),U=H+(D^(R|~B))+z[15]+4264355552&4294967295,H=R+(U<<10&4294967295|U>>>22),U=B+(R^(H|~D))+z[6]+2734768916&4294967295,B=H+(U<<15&4294967295|U>>>17),U=D+(H^(B|~R))+z[13]+1309151649&4294967295,D=B+(U<<21&4294967295|U>>>11),U=R+(B^(D|~H))+z[4]+4149444226&4294967295,R=D+(U<<6&4294967295|U>>>26),U=H+(D^(R|~B))+z[11]+3174756917&4294967295,H=R+(U<<10&4294967295|U>>>22),U=B+(R^(H|~D))+z[2]+718787259&4294967295,B=H+(U<<15&4294967295|U>>>17),U=D+(H^(B|~R))+z[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(B+(U<<21&4294967295|U>>>11))&4294967295,I.g[2]=I.g[2]+B&4294967295,I.g[3]=I.g[3]+H&4294967295}s.prototype.v=function(I,R){R===void 0&&(R=I.length);const D=R-this.blockSize,z=this.C;let B=this.h,H=0;for(;H<R;){if(B==0)for(;H<=D;)r(this,I,H),H+=this.blockSize;if(typeof I=="string"){for(;H<R;)if(z[B++]=I.charCodeAt(H++),B==this.blockSize){r(this,z),B=0;break}}else for(;H<R;)if(z[B++]=I[H++],B==this.blockSize){r(this,z),B=0;break}}this.h=B,this.o+=R},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;R=this.o*8;for(var D=I.length-8;D<I.length;++D)I[D]=R&255,R/=256;for(this.v(I),I=Array(16),R=0,D=0;D<4;++D)for(let z=0;z<32;z+=8)I[R++]=this.g[D]>>>z&255;return I};function i(I,R){var D=l;return Object.prototype.hasOwnProperty.call(D,I)?D[I]:D[I]=R(I)}function o(I,R){this.h=R;const D=[];let z=!0;for(let B=I.length-1;B>=0;B--){const H=I[B]|0;z&&H==R||(D[B]=H,z=!1)}this.g=D}var l={};function u(I){return-128<=I&&I<128?i(I,function(R){return new o([R|0],R<0?-1:0)}):new o([I|0],I<0?-1:0)}function d(I){if(isNaN(I)||!isFinite(I))return p;if(I<0)return S(d(-I));const R=[];let D=1;for(let z=0;I>=D;z++)R[z]=I/D|0,D*=4294967296;return new o(R,0)}function f(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return S(f(I.substring(1),R));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=d(Math.pow(R,8));let z=p;for(let H=0;H<I.length;H+=8){var B=Math.min(8,I.length-H);const U=parseInt(I.substring(H,H+B),R);B<8?(B=d(Math.pow(R,B)),z=z.j(B).add(d(U))):(z=z.j(D),z=z.add(d(U)))}return z}var p=u(0),y=u(1),x=u(16777216);t=o.prototype,t.m=function(){if(T(this))return-S(this).m();let I=0,R=1;for(let D=0;D<this.g.length;D++){const z=this.i(D);I+=(z>=0?z:4294967296+z)*R,R*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(w(this))return"0";if(T(this))return"-"+S(this).toString(I);const R=d(Math.pow(I,6));var D=this;let z="";for(;;){const B=O(D,R).g;D=A(D,B.j(R));let H=((D.g.length>0?D.g[0]:D.h)>>>0).toString(I);if(D=B,w(D))return H+z;for(;H.length<6;)H="0"+H;z=H+z}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function w(I){if(I.h!=0)return!1;for(let R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function T(I){return I.h==-1}t.l=function(I){return I=A(this,I),T(I)?-1:w(I)?0:1};function S(I){const R=I.g.length,D=[];for(let z=0;z<R;z++)D[z]=~I.g[z];return new o(D,~I.h).add(y)}t.abs=function(){return T(this)?S(this):this},t.add=function(I){const R=Math.max(this.g.length,I.g.length),D=[];let z=0;for(let B=0;B<=R;B++){let H=z+(this.i(B)&65535)+(I.i(B)&65535),U=(H>>>16)+(this.i(B)>>>16)+(I.i(B)>>>16);z=U>>>16,H&=65535,U&=65535,D[B]=U<<16|H}return new o(D,D[D.length-1]&-2147483648?-1:0)};function A(I,R){return I.add(S(R))}t.j=function(I){if(w(this)||w(I))return p;if(T(this))return T(I)?S(this).j(S(I)):S(S(this).j(I));if(T(I))return S(this.j(S(I)));if(this.l(x)<0&&I.l(x)<0)return d(this.m()*I.m());const R=this.g.length+I.g.length,D=[];for(var z=0;z<2*R;z++)D[z]=0;for(z=0;z<this.g.length;z++)for(let B=0;B<I.g.length;B++){const H=this.i(z)>>>16,U=this.i(z)&65535,he=I.i(B)>>>16,ce=I.i(B)&65535;D[2*z+2*B]+=U*ce,N(D,2*z+2*B),D[2*z+2*B+1]+=H*ce,N(D,2*z+2*B+1),D[2*z+2*B+1]+=U*he,N(D,2*z+2*B+1),D[2*z+2*B+2]+=H*he,N(D,2*z+2*B+2)}for(I=0;I<R;I++)D[I]=D[2*I+1]<<16|D[2*I];for(I=R;I<2*R;I++)D[I]=0;return new o(D,0)};function N(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function P(I,R){this.g=I,this.h=R}function O(I,R){if(w(R))throw Error("division by zero");if(w(I))return new P(p,p);if(T(I))return R=O(S(I),R),new P(S(R.g),S(R.h));if(T(R))return R=O(I,S(R)),new P(S(R.g),R.h);if(I.g.length>30){if(T(I)||T(R))throw Error("slowDivide_ only works with positive integers.");for(var D=y,z=R;z.l(I)<=0;)D=L(D),z=L(z);var B=F(D,1),H=F(z,1);for(z=F(z,2),D=F(D,2);!w(z);){var U=H.add(z);U.l(I)<=0&&(B=B.add(D),H=U),z=F(z,1),D=F(D,1)}return R=A(I,B.j(R)),new P(B,R)}for(B=p;I.l(R)>=0;){for(D=Math.max(1,Math.floor(I.m()/R.m())),z=Math.ceil(Math.log(D)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),H=d(D),U=H.j(R);T(U)||U.l(I)>0;)D-=z,H=d(D),U=H.j(R);w(H)&&(H=y),B=B.add(H),I=A(I,U)}return new P(B,I)}t.B=function(I){return O(this,I).h},t.and=function(I){const R=Math.max(this.g.length,I.g.length),D=[];for(let z=0;z<R;z++)D[z]=this.i(z)&I.i(z);return new o(D,this.h&I.h)},t.or=function(I){const R=Math.max(this.g.length,I.g.length),D=[];for(let z=0;z<R;z++)D[z]=this.i(z)|I.i(z);return new o(D,this.h|I.h)},t.xor=function(I){const R=Math.max(this.g.length,I.g.length),D=[];for(let z=0;z<R;z++)D[z]=this.i(z)^I.i(z);return new o(D,this.h^I.h)};function L(I){const R=I.g.length+1,D=[];for(let z=0;z<R;z++)D[z]=I.i(z)<<1|I.i(z-1)>>>31;return new o(D,I.h)}function F(I,R){const D=R>>5;R%=32;const z=I.g.length-D,B=[];for(let H=0;H<z;H++)B[H]=R>0?I.i(H+D)>>>R|I.i(H+D+1)<<32-R:I.i(H+D);return new o(B,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,QP=s,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=f,gl=o}).apply(typeof RR<"u"?RR:typeof self<"u"?self:typeof window<"u"?window:{});var Qg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var JP,Of,ZP,Oy,IE,eO,tO,nO;(function(){var t,e=Object.defineProperty;function n(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qg=="object"&&Qg];for(var C=0;C<v.length;++C){var M=v[C];if(M&&M.Math==Math)return M}throw Error("Cannot find global object")}var s=n(this);function r(v,C){if(C)e:{var M=s;v=v.split(".");for(var V=0;V<v.length-1;V++){var Q=v[V];if(!(Q in M))break e;M=M[Q]}v=v[v.length-1],V=M[v],C=C(V),C!=V&&C!=null&&e(M,v,{configurable:!0,writable:!0,value:C})}}r("Symbol.dispose",function(v){return v||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(v){return v||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(v){return v||function(C){var M=[],V;for(V in C)Object.prototype.hasOwnProperty.call(C,V)&&M.push([V,C[V]]);return M}});var i=i||{},o=this||self;function l(v){var C=typeof v;return C=="object"&&v!=null||C=="function"}function u(v,C,M){return v.call.apply(v.bind,arguments)}function d(v,C,M){return d=u,d.apply(null,arguments)}function f(v,C){var M=Array.prototype.slice.call(arguments,1);return function(){var V=M.slice();return V.push.apply(V,arguments),v.apply(this,V)}}function p(v,C){function M(){}M.prototype=C.prototype,v.Z=C.prototype,v.prototype=new M,v.prototype.constructor=v,v.Ob=function(V,Q,te){for(var ye=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)ye[Ke-2]=arguments[Ke];return C.prototype[Q].apply(V,ye)}}var y=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?v=>v&&AsyncContext.Snapshot.wrap(v):v=>v;function x(v){const C=v.length;if(C>0){const M=Array(C);for(let V=0;V<C;V++)M[V]=v[V];return M}return[]}function w(v,C){for(let V=1;V<arguments.length;V++){const Q=arguments[V];var M=typeof Q;if(M=M!="object"?M:Q?Array.isArray(Q)?"array":M:"null",M=="array"||M=="object"&&typeof Q.length=="number"){M=v.length||0;const te=Q.length||0;v.length=M+te;for(let ye=0;ye<te;ye++)v[M+ye]=Q[ye]}else v.push(Q)}}class T{constructor(C,M){this.i=C,this.j=M,this.h=0,this.g=null}get(){let C;return this.h>0?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function S(v){o.setTimeout(()=>{throw v},0)}function A(){var v=I;let C=null;return v.g&&(C=v.g,v.g=v.g.next,v.g||(v.h=null),C.next=null),C}class N{constructor(){this.h=this.g=null}add(C,M){const V=P.get();V.set(C,M),this.h?this.h.next=V:this.g=V,this.h=V}}var P=new T(()=>new O,v=>v.reset());class O{constructor(){this.next=this.g=this.h=null}set(C,M){this.h=C,this.g=M,this.next=null}reset(){this.next=this.g=this.h=null}}let L,F=!1,I=new N,R=()=>{const v=Promise.resolve(void 0);L=()=>{v.then(D)}};function D(){for(var v;v=A();){try{v.h.call(v.g)}catch(M){S(M)}var C=P;C.j(v),C.h<100&&(C.h++,v.next=C.g,C.g=v)}F=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(v,C){this.type=v,this.g=this.target=C,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var v=!1,C=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const M=()=>{};o.addEventListener("test",M,C),o.removeEventListener("test",M,C)}catch{}return v})();function U(v){return/^[\s\xa0]*$/.test(v)}function he(v,C){B.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v&&this.init(v,C)}p(he,B),he.prototype.init=function(v,C){const M=this.type=v.type,V=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;this.target=v.target||v.srcElement,this.g=C,C=v.relatedTarget,C||(M=="mouseover"?C=v.fromElement:M=="mouseout"&&(C=v.toElement)),this.relatedTarget=C,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=v.pointerType,this.state=v.state,this.i=v,v.defaultPrevented&&he.Z.h.call(this)},he.prototype.h=function(){he.Z.h.call(this);const v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var ce="closure_listenable_"+(Math.random()*1e6|0),K=0;function X(v,C,M,V,Q){this.listener=v,this.proxy=null,this.src=C,this.type=M,this.capture=!!V,this.ha=Q,this.key=++K,this.da=this.fa=!1}function Y(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function xe(v,C,M){for(const V in v)C.call(M,v[V],V,v)}function Me(v,C){for(const M in v)C.call(void 0,v[M],M,v)}function q(v){const C={};for(const M in v)C[M]=v[M];return C}const se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(v,C){let M,V;for(let Q=1;Q<arguments.length;Q++){V=arguments[Q];for(M in V)v[M]=V[M];for(let te=0;te<se.length;te++)M=se[te],Object.prototype.hasOwnProperty.call(V,M)&&(v[M]=V[M])}}function pe(v){this.src=v,this.g={},this.h=0}pe.prototype.add=function(v,C,M,V,Q){const te=v.toString();v=this.g[te],v||(v=this.g[te]=[],this.h++);const ye=Te(v,C,V,Q);return ye>-1?(C=v[ye],M||(C.fa=!1)):(C=new X(C,this.src,te,!!V,Q),C.fa=M,v.push(C)),C};function Ae(v,C){const M=C.type;if(M in v.g){var V=v.g[M],Q=Array.prototype.indexOf.call(V,C,void 0),te;(te=Q>=0)&&Array.prototype.splice.call(V,Q,1),te&&(Y(C),v.g[M].length==0&&(delete v.g[M],v.h--))}}function Te(v,C,M,V){for(let Q=0;Q<v.length;++Q){const te=v[Q];if(!te.da&&te.listener==C&&te.capture==!!M&&te.ha==V)return Q}return-1}var de="closure_lm_"+(Math.random()*1e6|0),Le={};function Pe(v,C,M,V,Q){if(Array.isArray(C)){for(let te=0;te<C.length;te++)Pe(v,C[te],M,V,Q);return null}return M=ha(M),v&&v[ce]?v.J(C,M,l(V)?!!V.capture:!1,Q):Se(v,C,M,!1,V,Q)}function Se(v,C,M,V,Q,te){if(!C)throw Error("Invalid event type");const ye=l(Q)?!!Q.capture:!!Q;let Ke=Ln(v);if(Ke||(v[de]=Ke=new pe(v)),M=Ke.add(C,M,V,ye,te),M.proxy)return M;if(V=Ye(),M.proxy=V,V.src=v,V.listener=M,v.addEventListener)H||(Q=ye),Q===void 0&&(Q=!1),v.addEventListener(C.toString(),V,Q);else if(v.attachEvent)v.attachEvent(wt(C.toString()),V);else if(v.addListener&&v.removeListener)v.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return M}function Ye(){function v(M){return C.call(v.src,v.listener,M)}const C=us;return v}function We(v,C,M,V,Q){if(Array.isArray(C))for(var te=0;te<C.length;te++)We(v,C[te],M,V,Q);else V=l(V)?!!V.capture:!!V,M=ha(M),v&&v[ce]?(v=v.i,te=String(C).toString(),te in v.g&&(C=v.g[te],M=Te(C,M,V,Q),M>-1&&(Y(C[M]),Array.prototype.splice.call(C,M,1),C.length==0&&(delete v.g[te],v.h--)))):v&&(v=Ln(v))&&(C=v.g[C.toString()],v=-1,C&&(v=Te(C,M,V,Q)),(M=v>-1?C[v]:null)&&Rt(M))}function Rt(v){if(typeof v!="number"&&v&&!v.da){var C=v.src;if(C&&C[ce])Ae(C.i,v);else{var M=v.type,V=v.proxy;C.removeEventListener?C.removeEventListener(M,V,v.capture):C.detachEvent?C.detachEvent(wt(M),V):C.addListener&&C.removeListener&&C.removeListener(V),(M=Ln(C))?(Ae(M,v),M.h==0&&(M.src=null,C[de]=null)):Y(v)}}}function wt(v){return v in Le?Le[v]:Le[v]="on"+v}function us(v,C){if(v.da)v=!0;else{C=new he(C,this);const M=v.listener,V=v.ha||v.src;v.fa&&Rt(v),v=M.call(V,C)}return v}function Ln(v){return v=v[de],v instanceof pe?v:null}var Sr="__closure_events_fn_"+(Math.random()*1e9>>>0);function ha(v){return typeof v=="function"?v:(v[Sr]||(v[Sr]=function(C){return v.handleEvent(C)}),v[Sr])}function Lt(){z.call(this),this.i=new pe(this),this.M=this,this.G=null}p(Lt,z),Lt.prototype[ce]=!0,Lt.prototype.removeEventListener=function(v,C,M,V){We(this,v,C,M,V)};function Et(v,C){var M,V=v.G;if(V)for(M=[];V;V=V.G)M.push(V);if(v=v.M,V=C.type||C,typeof C=="string")C=new B(C,v);else if(C instanceof B)C.target=C.target||v;else{var Q=C;C=new B(V,v),ue(C,Q)}Q=!0;let te,ye;if(M)for(ye=M.length-1;ye>=0;ye--)te=C.g=M[ye],Q=tr(te,V,!0,C)&&Q;if(te=C.g=v,Q=tr(te,V,!0,C)&&Q,Q=tr(te,V,!1,C)&&Q,M)for(ye=0;ye<M.length;ye++)te=C.g=M[ye],Q=tr(te,V,!1,C)&&Q}Lt.prototype.N=function(){if(Lt.Z.N.call(this),this.i){var v=this.i;for(const C in v.g){const M=v.g[C];for(let V=0;V<M.length;V++)Y(M[V]);delete v.g[C],v.h--}}this.G=null},Lt.prototype.J=function(v,C,M,V){return this.i.add(String(v),C,!1,M,V)},Lt.prototype.K=function(v,C,M,V){return this.i.add(String(v),C,!0,M,V)};function tr(v,C,M,V){if(C=v.i.g[String(C)],!C)return!0;C=C.concat();let Q=!0;for(let te=0;te<C.length;++te){const ye=C[te];if(ye&&!ye.da&&ye.capture==M){const Ke=ye.listener,rn=ye.ha||ye.src;ye.fa&&Ae(v.i,ye),Q=Ke.call(rn,V)!==!1&&Q}}return Q&&!V.defaultPrevented}function fa(v,C){if(typeof v!="function")if(v&&typeof v.handleEvent=="function")v=d(v.handleEvent,v);else throw Error("Invalid listener argument");return Number(C)>2147483647?-1:o.setTimeout(v,C||0)}function Gl(v){v.g=fa(()=>{v.g=null,v.i&&(v.i=!1,Gl(v))},v.l);const C=v.h;v.h=null,v.m.apply(null,C)}class Vn extends z{constructor(C,M){super(),this.m=C,this.l=M,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:Gl(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yo(v){z.call(this),this.h=v,this.g={}}p(yo,z);var Yl=[];function Tr(v){xe(v.g,function(C,M){this.g.hasOwnProperty(M)&&Rt(C)},v),v.g={}}yo.prototype.N=function(){yo.Z.N.call(this),Tr(this)},yo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cs=o.JSON.stringify,xo=o.JSON.parse,Xl=class{stringify(v){return o.JSON.stringify(v,void 0)}parse(v){return o.JSON.parse(v,void 0)}};function nr(){}function Ql(){}var sr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Nn(){B.call(this,"d")}p(Nn,B);function ds(){B.call(this,"c")}p(ds,B);var Vt={},gu=null;function vo(){return gu=gu||new Lt}Vt.Ia="serverreachability";function yu(v){B.call(this,Vt.Ia,v)}p(yu,B);function _r(v){const C=vo();Et(C,new yu(C))}Vt.STAT_EVENT="statevent";function bo(v,C){B.call(this,Vt.STAT_EVENT,v),this.stat=C}p(bo,B);function tt(v){const C=vo();Et(C,new bo(C,v))}Vt.Ja="timingevent";function zt(v,C){B.call(this,Vt.Ja,v),this.size=C}p(zt,B);function Bt(v,C){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){v()},C)}function fn(){this.g=!0}fn.prototype.ua=function(){this.g=!1};function hs(v,C,M,V,Q,te){v.info(function(){if(v.g)if(te){var ye="",Ke=te.split("&");for(let pt=0;pt<Ke.length;pt++){var rn=Ke[pt].split("=");if(rn.length>1){const Ut=rn[0];rn=rn[1];const Nr=Ut.split("_");ye=Nr.length>=2&&Nr[1]=="type"?ye+(Ut+"="+rn+"&"):ye+(Ut+"=redacted&")}}}else ye=null;else ye=te;return"XMLHTTP REQ ("+V+") [attempt "+Q+"]: "+C+`
`+M+`
`+ye})}function zn(v,C,M,V,Q,te,ye){v.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+Q+"]: "+C+`
`+M+`
`+te+" "+ye})}function nn(v,C,M,V){v.info(function(){return"XMLHTTP TEXT ("+C+"): "+sn(v,M)+(V?" "+V:"")})}function Bs(v,C){v.info(function(){return"TIMEOUT: "+C})}fn.prototype.info=function(){};function sn(v,C){if(!v.g)return C;if(!C)return null;try{const te=JSON.parse(C);if(te){for(v=0;v<te.length;v++)if(Array.isArray(te[v])){var M=te[v];if(!(M.length<2)){var V=M[1];if(Array.isArray(V)&&!(V.length<1)){var Q=V[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let ye=1;ye<V.length;ye++)V[ye]=""}}}}return Cs(te)}catch{return C}}var fs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ps={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ks;function rr(){}p(rr,nr),rr.prototype.g=function(){return new XMLHttpRequest},ks=new rr;function Ns(v){return encodeURIComponent(String(v))}function ir(v){var C=1;v=v.split(":");const M=[];for(;C>0&&v.length;)M.push(v.shift()),C--;return v.length&&M.push(v.join(":")),M}function Gn(v,C,M,V){this.j=v,this.i=C,this.l=M,this.S=V||1,this.V=new yo(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Rs}function Rs(){this.i=null,this.g="",this.h=!1}var pn={},Bn={};function _i(v,C,M){v.M=1,v.A=Jl(gn(C)),v.u=M,v.R=!0,xu(v,null)}function xu(v,C){v.F=Date.now(),Ai(v),v.B=gn(v.A);var M=v.B,V=v.S;Array.isArray(V)||(V=[String(V)]),Eu(M.i,"t",V),v.C=0,M=v.j.L,v.h=new Rs,v.g=Fm(v.j,M?C:null,!v.u),v.P>0&&(v.O=new Vn(d(v.Y,v,v.g),v.P)),C=v.V,M=v.g,V=v.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(Yl[0]=Q.toString()),Q=Yl);for(let te=0;te<Q.length;te++){const ye=Pe(M,Q[te],V||C.handleEvent,!1,C.h||C);if(!ye)break;C.g[ye.key]=ye}C=v.J?q(v.J):{},v.u?(v.v||(v.v="POST"),C["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.B,v.v,v.u,C)):(v.v="GET",v.g.ea(v.B,v.v,null,C)),_r(),hs(v.i,v.v,v.B,v.l,v.S,v.u)}Gn.prototype.ba=function(v){v=v.target;const C=this.O;C&&Qr(v)==3?C.j():this.Y(v)},Gn.prototype.Y=function(v){try{if(v==this.g)e:{const Ke=Qr(this.g),rn=this.g.ya(),pt=this.g.ca();if(!(Ke<3)&&(Ke!=3||this.g&&(this.h.h||this.g.la()||Yn(this.g)))){this.K||Ke!=4||rn==7||(rn==8||pt<=0?_r(3):_r(2)),Ci(this);var C=this.g.ca();this.X=C;var M=Yv(this);if(this.o=C==200,zn(this.i,this.v,this.B,this.l,this.S,Ke,C),this.o){if(this.U&&!this.L){t:{if(this.g){var V,Q=this.g;if((V=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(V)){var te=V;break t}}te=null}if(v=te)nn(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ki(this,v);else{this.o=!1,this.m=3,tt(12),or(this),Ar(this);break e}}if(this.R){v=!0;let Ut;for(;!this.K&&this.C<M.length;)if(Ut=Nm(this,M),Ut==Bn){Ke==4&&(this.m=4,tt(14),v=!1),nn(this.i,this.l,null,"[Incomplete Response]");break}else if(Ut==pn){this.m=4,tt(15),nn(this.i,this.l,M,"[Invalid Chunk]"),v=!1;break}else nn(this.i,this.l,Ut,null),ki(this,Ut);if(km(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ke!=4||M.length!=0||this.h.h||(this.m=1,tt(16),v=!1),this.o=this.o&&v,!v)nn(this.i,this.l,M,"[Invalid Chunked Response]"),or(this),Ar(this);else if(M.length>0&&!this.W){this.W=!0;var ye=this.j;ye.g==this&&ye.aa&&!ye.P&&(ye.j.info("Great, no buffering proxy detected. Bytes received: "+M.length),Lh(ye),ye.P=!0,tt(11))}}else nn(this.i,this.l,M,null),ki(this,M);Ke==4&&or(this),this.o&&!this.K&&(Ke==4?Vm(this.j,this):(this.o=!1,Ai(this)))}else Eo(this.g),C==400&&M.indexOf("Unknown SID")>0?(this.m=3,tt(12)):(this.m=0,tt(13)),or(this),Ar(this)}}}catch{}};function Yv(v){if(!km(v))return v.g.la();const C=Yn(v.g);if(C==="")return"";let M="";const V=C.length,Q=Qr(v.g)==4;if(!v.h.i){if(typeof TextDecoder>"u")return or(v),Ar(v),"";v.h.i=new o.TextDecoder}for(let te=0;te<V;te++)v.h.h=!0,M+=v.h.i.decode(C[te],{stream:!(Q&&te==V-1)});return C.length=0,v.h.g+=M,v.C=0,v.h.g}function km(v){return v.g?v.v=="GET"&&v.M!=2&&v.j.Aa:!1}function Nm(v,C){var M=v.C,V=C.indexOf(`
`,M);return V==-1?Bn:(M=Number(C.substring(M,V)),isNaN(M)?pn:(V+=1,V+M>C.length?Bn:(C=C.slice(V,V+M),v.C=V+M,C)))}Gn.prototype.cancel=function(){this.K=!0,or(this)};function Ai(v){v.T=Date.now()+v.H,vu(v,v.H)}function vu(v,C){if(v.D!=null)throw Error("WatchDog timer not null");v.D=Bt(d(v.aa,v),C)}function Ci(v){v.D&&(o.clearTimeout(v.D),v.D=null)}Gn.prototype.aa=function(){this.D=null;const v=Date.now();v-this.T>=0?(Bs(this.i,this.B),this.M!=2&&(_r(),tt(17)),or(this),this.m=2,Ar(this)):vu(this,this.T-v)};function Ar(v){v.j.I==0||v.K||Vm(v.j,v)}function or(v){Ci(v);var C=v.O;C&&typeof C.dispose=="function"&&C.dispose(),v.O=null,Tr(v.V),v.g&&(C=v.g,v.g=null,C.abort(),C.dispose())}function ki(v,C){try{var M=v.j;if(M.I!=0&&(M.g==v||Ri(M.h,v))){if(!v.L&&Ri(M.h,v)&&M.I==3){try{var V=M.Ba.g.parse(C)}catch{V=null}if(Array.isArray(V)&&V.length==3){var Q=V;if(Q[0]==0){e:if(!M.v){if(M.g)if(M.g.F+3e3<v.F)Cu(M),wa(M);else break e;ic(M),tt(18)}}else M.xa=Q[1],0<M.xa-M.K&&Q[2]<37500&&M.F&&M.A==0&&!M.C&&(M.C=Bt(d(M.Va,M),6e3));Ni(M.h)<=1&&M.ta&&(M.ta=void 0)}else ji(M,11)}else if((v.L||M.g==v)&&Cu(M),!U(C))for(Q=M.Ba.g.parse(C),C=0;C<Q.length;C++){let pt=Q[C];const Ut=pt[0];if(!(Ut<=M.K))if(M.K=Ut,pt=pt[1],M.I==2)if(pt[0]=="c"){M.M=pt[1],M.ba=pt[2];const Nr=pt[3];Nr!=null&&(M.ka=Nr,M.j.info("VER="+M.ka));const Li=pt[4];Li!=null&&(M.za=Li,M.j.info("SVER="+M.za));const Jr=pt[5];Jr!=null&&typeof Jr=="number"&&Jr>0&&(V=1.5*Jr,M.O=V,M.j.info("backChannelRequestTimeoutMs_="+V)),V=M;const Zr=v.g;if(Zr){const oc=Zr.g?Zr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oc){var te=V.h;te.g||oc.indexOf("spdy")==-1&&oc.indexOf("quic")==-1&&oc.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(_h(te,te.h),te.h=null))}if(V.G){const ku=Zr.g?Zr.g.getResponseHeader("X-HTTP-Session-Id"):null;ku&&(V.wa=ku,yt(V.J,V.G,ku))}}M.I=3,M.l&&M.l.ra(),M.aa&&(M.T=Date.now()-v.F,M.j.info("Handshake RTT: "+M.T+"ms")),V=M;var ye=v;if(V.na=Um(V,V.L?V.ba:null,V.W),ye.L){Ah(V.h,ye);var Ke=ye,rn=V.O;rn&&(Ke.H=rn),Ke.D&&(Ci(Ke),Ai(Ke)),V.g=ye}else jm(V);M.i.length>0&&Oi(M)}else pt[0]!="stop"&&pt[0]!="close"||ji(M,7);else M.I==3&&(pt[0]=="stop"||pt[0]=="close"?pt[0]=="stop"?ji(M,7):Oh(M):pt[0]!="noop"&&M.l&&M.l.qa(pt),M.A=0)}}_r(4)}catch{}}var mn=class{constructor(v,C){this.g=v,this.map=C}};function Sh(v){this.l=v||10,o.PerformanceNavigationTiming?(v=o.performance.getEntriesByType("navigation"),v=v.length>0&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Th(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function Ni(v){return v.h?1:v.g?v.g.size:0}function Ri(v,C){return v.h?v.h==C:v.g?v.g.has(C):!1}function _h(v,C){v.g?v.g.add(C):v.h=C}function Ah(v,C){v.h&&v.h==C?v.h=null:v.g&&v.g.has(C)&&v.g.delete(C)}Sh.prototype.cancel=function(){if(this.i=Ch(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function Ch(v){if(v.h!=null)return v.i.concat(v.h.G);if(v.g!=null&&v.g.size!==0){let C=v.i;for(const M of v.g.values())C=C.concat(M.G);return C}return x(v.i)}var Rm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bu(v,C){if(v){v=v.split("&");for(let M=0;M<v.length;M++){const V=v[M].indexOf("=");let Q,te=null;V>=0?(Q=v[M].substring(0,V),te=v[M].substring(V+1)):Q=v[M],C(Q,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function ar(v){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let C;v instanceof ar?(this.l=v.l,Un(this,v.j),this.o=v.o,this.g=v.g,pa(this,v.u),this.h=v.h,kh(this,Pm(v.i)),this.m=v.m):v&&(C=String(v).match(Rm))?(this.l=!1,Un(this,C[1]||"",!0),this.o=Mi(C[2]||""),this.g=Mi(C[3]||"",!0),pa(this,C[4]),this.h=Mi(C[5]||"",!0),kh(this,C[6]||"",!0),this.m=Mi(C[7]||"")):(this.l=!1,this.i=new ga(null,this.l))}ar.prototype.toString=function(){const v=[];var C=this.j;C&&v.push(Zl(C,wu,!0),":");var M=this.g;return(M||C=="file")&&(v.push("//"),(C=this.o)&&v.push(Zl(C,wu,!0),"@"),v.push(Ns(M).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M=this.u,M!=null&&v.push(":",String(M))),(M=this.h)&&(this.g&&M.charAt(0)!="/"&&v.push("/"),v.push(Zl(M,M.charAt(0)=="/"?Nh:Mm,!0))),(M=this.i.toString())&&v.push("?",M),(M=this.m)&&v.push("#",Zl(M,Im)),v.join("")},ar.prototype.resolve=function(v){const C=gn(this);let M=!!v.j;M?Un(C,v.j):M=!!v.o,M?C.o=v.o:M=!!v.g,M?C.g=v.g:M=v.u!=null;var V=v.h;if(M)pa(C,v.u);else if(M=!!v.h){if(V.charAt(0)!="/")if(this.g&&!this.h)V="/"+V;else{var Q=C.h.lastIndexOf("/");Q!=-1&&(V=C.h.slice(0,Q+1)+V)}if(Q=V,Q==".."||Q==".")V="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){V=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const te=[];for(let ye=0;ye<Q.length;){const Ke=Q[ye++];Ke=="."?V&&ye==Q.length&&te.push(""):Ke==".."?((te.length>1||te.length==1&&te[0]!="")&&te.pop(),V&&ye==Q.length&&te.push("")):(te.push(Ke),V=!0)}V=te.join("/")}else V=Q}return M?C.h=V:M=v.i.toString()!=="",M?kh(C,Pm(v.i)):M=!!v.m,M&&(C.m=v.m),C};function gn(v){return new ar(v)}function Un(v,C,M){v.j=M?Mi(C,!0):C,v.j&&(v.j=v.j.replace(/:$/,""))}function pa(v,C){if(C){if(C=Number(C),isNaN(C)||C<0)throw Error("Bad port number "+C);v.u=C}else v.u=null}function kh(v,C,M){C instanceof ga?(v.i=C,Su(v.i,v.l)):(M||(C=Zl(C,ma)),v.i=new ga(C,v.l))}function yt(v,C,M){v.i.set(C,M)}function Jl(v){return yt(v,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),v}function Mi(v,C){return v?C?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function Zl(v,C,M){return typeof v=="string"?(v=encodeURI(v).replace(C,Us),M&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function Us(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var wu=/[#\/\?@]/g,Mm=/[#\?:]/g,Nh=/[#\?]/g,ma=/[#\?@]/g,Im=/#/g;function ga(v,C){this.h=this.g=null,this.i=v||null,this.j=!!C}function Fs(v){v.g||(v.g=new Map,v.h=0,v.i&&bu(v.i,function(C,M){v.add(decodeURIComponent(C.replace(/\+/g," ")),M)}))}t=ga.prototype,t.add=function(v,C){Fs(this),this.i=null,v=ya(this,v);let M=this.g.get(v);return M||this.g.set(v,M=[]),M.push(C),this.h+=1,this};function Dm(v,C){Fs(v),C=ya(v,C),v.g.has(C)&&(v.i=null,v.h-=v.g.get(C).length,v.g.delete(C))}function Rh(v,C){return Fs(v),C=ya(v,C),v.g.has(C)}t.forEach=function(v,C){Fs(this),this.g.forEach(function(M,V){M.forEach(function(Q){v.call(C,Q,V,this)},this)},this)};function Mh(v,C){Fs(v);let M=[];if(typeof C=="string")Rh(v,C)&&(M=M.concat(v.g.get(ya(v,C))));else for(v=Array.from(v.g.values()),C=0;C<v.length;C++)M=M.concat(v[C]);return M}t.set=function(v,C){return Fs(this),this.i=null,v=ya(this,v),Rh(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[C]),this.h+=1,this},t.get=function(v,C){return v?(v=Mh(this,v),v.length>0?String(v[0]):C):C};function Eu(v,C,M){Dm(v,C),M.length>0&&(v.i=null,v.g.set(ya(v,C),x(M)),v.h+=M.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],C=Array.from(this.g.keys());for(let V=0;V<C.length;V++){var M=C[V];const Q=Ns(M);M=Mh(this,M);for(let te=0;te<M.length;te++){let ye=Q;M[te]!==""&&(ye+="="+Ns(M[te])),v.push(ye)}}return this.i=v.join("&")};function Pm(v){const C=new ga;return C.i=v.i,v.g&&(C.g=new Map(v.g),C.h=v.h),C}function ya(v,C){return C=String(C),v.j&&(C=C.toLowerCase()),C}function Su(v,C){C&&!v.j&&(Fs(v),v.i=null,v.g.forEach(function(M,V){const Q=V.toLowerCase();V!=Q&&(Dm(this,V),Eu(this,Q,M))},v)),v.j=C}function Yr(v,C){const M=new fn;if(o.Image){const V=new Image;V.onload=f(Cr,M,"TestLoadImage: loaded",!0,C,V),V.onerror=f(Cr,M,"TestLoadImage: error",!1,C,V),V.onabort=f(Cr,M,"TestLoadImage: abort",!1,C,V),V.ontimeout=f(Cr,M,"TestLoadImage: timeout",!1,C,V),o.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=v}else C(!1)}function Ih(v,C){const M=new fn,V=new AbortController,Q=setTimeout(()=>{V.abort(),Cr(M,"TestPingServer: timeout",!1,C)},1e4);fetch(v,{signal:V.signal}).then(te=>{clearTimeout(Q),te.ok?Cr(M,"TestPingServer: ok",!0,C):Cr(M,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(Q),Cr(M,"TestPingServer: error",!1,C)})}function Cr(v,C,M,V,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),V(M)}catch{}}function xa(){this.g=new Xl}function Ii(v){this.i=v.Sb||null,this.h=v.ab||!1}p(Ii,nr),Ii.prototype.g=function(){return new ec(this.i,this.h)};function ec(v,C){Lt.call(this),this.H=v,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(ec,Lt),t=ec.prototype,t.open=function(v,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=v,this.D=C,this.readyState=1,Xr(this)},t.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const C={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};v&&(C.body=v),(this.H||o).fetch(new Request(this.D,C)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,va(this)),this.readyState=0},t.Pa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,Xr(this)),this.g&&(this.readyState=3,Xr(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Tu(this)}else v.text().then(this.Oa.bind(this),this.ga.bind(this))};function Tu(v){v.j.read().then(v.Ma.bind(v)).catch(v.ga.bind(v))}t.Ma=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var C=v.value?v.value:new Uint8Array(0);(C=this.B.decode(C,{stream:!v.done}))&&(this.response=this.responseText+=C)}v.done?va(this):Xr(this),this.readyState==3&&Tu(this)}},t.Oa=function(v){this.g&&(this.response=this.responseText=v,va(this))},t.Na=function(v){this.g&&(this.response=v,va(this))},t.ga=function(){this.g&&va(this)};function va(v){v.readyState=4,v.l=null,v.j=null,v.B=null,Xr(v)}t.setRequestHeader=function(v,C){this.A.append(v,C)},t.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],C=this.h.entries();for(var M=C.next();!M.done;)M=M.value,v.push(M[0]+": "+M[1]),M=C.next();return v.join(`\r
`)};function Xr(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(ec.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function kr(v){let C="";return xe(v,function(M,V){C+=V,C+=":",C+=M,C+=`\r
`}),C}function tc(v,C,M){e:{for(V in M){var V=!1;break e}V=!0}V||(M=kr(M),typeof v=="string"?M!=null&&Ns(M):yt(v,C,M))}function St(v){Lt.call(this),this.headers=new Map,this.L=v||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(St,Lt);var Di=/^https?$/i,Dh=["POST","PUT"];t=St.prototype,t.Fa=function(v){this.H=v},t.ea=function(v,C,M,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);C=C?C.toUpperCase():"GET",this.D=v,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ks.g(),this.g.onreadystatechange=y(d(this.Ca,this));try{this.B=!0,this.g.open(C,String(v),!0),this.B=!1}catch(te){nc(this,te);return}if(v=M||"",M=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var Q in V)M.set(Q,V[Q]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const te of V.keys())M.set(te,V.get(te));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(M.keys()).find(te=>te.toLowerCase()=="content-type"),Q=o.FormData&&v instanceof o.FormData,!(Array.prototype.indexOf.call(Dh,C,void 0)>=0)||V||Q||M.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,ye]of M)this.g.setRequestHeader(te,ye);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(v),this.v=!1}catch(te){nc(this,te)}};function nc(v,C){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=C,v.o=5,Ph(v),wo(v)}function Ph(v){v.A||(v.A=!0,Et(v,"complete"),Et(v,"error"))}t.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=v||7,Et(this,"complete"),Et(this,"abort"),wo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wo(this,!0)),St.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?sc(this):this.Xa())},t.Xa=function(){sc(this)};function sc(v){if(v.h&&typeof i<"u"){if(v.v&&Qr(v)==4)setTimeout(v.Ca.bind(v),0);else if(Et(v,"readystatechange"),Qr(v)==4){v.h=!1;try{const te=v.ca();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}var M;if(!(M=C)){var V;if(V=te===0){let ye=String(v.D).match(Rm)[1]||null;!ye&&o.self&&o.self.location&&(ye=o.self.location.protocol.slice(0,-1)),V=!Di.test(ye?ye.toLowerCase():"")}M=V}if(M)Et(v,"complete"),Et(v,"success");else{v.o=6;try{var Q=Qr(v)>2?v.g.statusText:""}catch{Q=""}v.l=Q+" ["+v.ca()+"]",Ph(v)}}finally{wo(v)}}}}function wo(v,C){if(v.g){v.m&&(clearTimeout(v.m),v.m=null);const M=v.g;v.g=null,C||Et(v,"ready");try{M.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Qr(v){return v.g?v.g.readyState:0}t.ca=function(){try{return Qr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(v){if(this.g){var C=this.g.responseText;return v&&C.indexOf(v)==0&&(C=C.substring(v.length)),xo(C)}};function Yn(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.F){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function Eo(v){const C={};v=(v.g&&Qr(v)>=2&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<v.length;V++){if(U(v[V]))continue;var M=ir(v[V]);const Q=M[0];if(M=M[1],typeof M!="string")continue;M=M.trim();const te=C[Q]||[];C[Q]=te,te.push(M)}Me(C,function(V){return V.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pi(v,C,M){return M&&M.internalChannelParams&&M.internalChannelParams[v]||C}function ba(v){this.za=0,this.i=[],this.j=new fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Pi("failFast",!1,v),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Pi("baseRetryDelayMs",5e3,v),this.Za=Pi("retryDelaySeedMs",1e4,v),this.Ta=Pi("forwardChannelMaxRetries",2,v),this.va=Pi("forwardChannelRequestTimeoutMs",2e4,v),this.ma=v&&v.xmlHttpFactory||void 0,this.Ua=v&&v.Rb||void 0,this.Aa=v&&v.useFetchStreams||!1,this.O=void 0,this.L=v&&v.supportsCrossDomainXhr||!1,this.M="",this.h=new Sh(v&&v.concurrentRequestLimit),this.Ba=new xa,this.S=v&&v.fastHandshake||!1,this.R=v&&v.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=v&&v.Pb||!1,v&&v.ua&&this.j.ua(),v&&v.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&v&&v.detectBufferingProxy||!1,this.ia=void 0,v&&v.longPollingTimeout&&v.longPollingTimeout>0&&(this.ia=v.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ba.prototype,t.ka=8,t.I=1,t.connect=function(v,C,M,V){tt(0),this.W=v,this.H=C||{},M&&V!==void 0&&(this.H.OSID=M,this.H.OAID=V),this.F=this.X,this.J=Um(this,null,this.W),Oi(this)};function Oh(v){if(_u(v),v.I==3){var C=v.V++,M=gn(v.J);if(yt(M,"SID",v.M),yt(M,"RID",C),yt(M,"TYPE","terminate"),rc(v,M),C=new Gn(v,v.j,C),C.M=2,C.A=Jl(gn(M)),M=!1,o.navigator&&o.navigator.sendBeacon)try{M=o.navigator.sendBeacon(C.A.toString(),"")}catch{}!M&&o.Image&&(new Image().src=C.A,M=!0),M||(C.g=Fm(C.j,null),C.g.ea(C.A)),C.F=Date.now(),Ai(C)}Bm(v)}function wa(v){v.g&&(Lh(v),v.g.cancel(),v.g=null)}function _u(v){wa(v),v.v&&(o.clearTimeout(v.v),v.v=null),Cu(v),v.h.cancel(),v.m&&(typeof v.m=="number"&&o.clearTimeout(v.m),v.m=null)}function Oi(v){if(!Th(v.h)&&!v.m){v.m=!0;var C=v.Ea;L||R(),F||(L(),F=!0),I.add(C,v),v.D=0}}function Au(v,C){return Ni(v.h)>=v.h.j-(v.m?1:0)?!1:v.m?(v.i=C.G.concat(v.i),!0):v.I==1||v.I==2||v.D>=(v.Sa?0:v.Ta)?!1:(v.m=Bt(d(v.Ea,v,C),zm(v,v.D)),v.D++,!0)}t.Ea=function(v){if(this.m)if(this.m=null,this.I==1){if(!v){this.V=Math.floor(Math.random()*1e5),v=this.V++;const Q=new Gn(this,this.j,v);let te=this.o;if(this.U&&(te?(te=q(te),ue(te,this.U)):te=this.U),this.u!==null||this.R||(Q.J=te,te=null),this.S)e:{for(var C=0,M=0;M<this.i.length;M++){t:{var V=this.i[M];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(C+=V,C>4096){C=M;break e}if(C===4096||M===this.i.length-1){C=M+1;break e}}C=1e3}else C=1e3;C=Om(this,Q,C),M=gn(this.J),yt(M,"RID",v),yt(M,"CVER",22),this.G&&yt(M,"X-HTTP-Session-Id",this.G),rc(this,M),te&&(this.R?C="headers="+Ns(kr(te))+"&"+C:this.u&&tc(M,this.u,te)),_h(this.h,Q),this.Ra&&yt(M,"TYPE","init"),this.S?(yt(M,"$req",C),yt(M,"SID","null"),Q.U=!0,_i(Q,M,null)):_i(Q,M,C),this.I=2}}else this.I==3&&(v?jh(this,v):this.i.length==0||Th(this.h)||jh(this))};function jh(v,C){var M;C?M=C.l:M=v.V++;const V=gn(v.J);yt(V,"SID",v.M),yt(V,"RID",M),yt(V,"AID",v.K),rc(v,V),v.u&&v.o&&tc(V,v.u,v.o),M=new Gn(v,v.j,M,v.D+1),v.u===null&&(M.J=v.o),C&&(v.i=C.G.concat(v.i)),C=Om(v,M,1e3),M.H=Math.round(v.va*.5)+Math.round(v.va*.5*Math.random()),_h(v.h,M),_i(M,V,C)}function rc(v,C){v.H&&xe(v.H,function(M,V){yt(C,V,M)}),v.l&&xe({},function(M,V){yt(C,V,M)})}function Om(v,C,M){M=Math.min(v.i.length,M);const V=v.l?d(v.l.Ka,v.l,v):null;e:{var Q=v.i;let Ke=-1;for(;;){const rn=["count="+M];Ke==-1?M>0?(Ke=Q[0].g,rn.push("ofs="+Ke)):Ke=0:rn.push("ofs="+Ke);let pt=!0;for(let Ut=0;Ut<M;Ut++){var te=Q[Ut].g;const Nr=Q[Ut].map;if(te-=Ke,te<0)Ke=Math.max(0,Q[Ut].g-100),pt=!1;else try{te="req"+te+"_"||"";try{var ye=Nr instanceof Map?Nr:Object.entries(Nr);for(const[Li,Jr]of ye){let Zr=Jr;l(Jr)&&(Zr=Cs(Jr)),rn.push(te+Li+"="+encodeURIComponent(Zr))}}catch(Li){throw rn.push(te+"type="+encodeURIComponent("_badmap")),Li}}catch{V&&V(Nr)}}if(pt){ye=rn.join("&");break e}}ye=void 0}return v=v.i.splice(0,M),C.G=v,ye}function jm(v){if(!v.g&&!v.v){v.Y=1;var C=v.Da;L||R(),F||(L(),F=!0),I.add(C,v),v.A=0}}function ic(v){return v.g||v.v||v.A>=3?!1:(v.Y++,v.v=Bt(d(v.Da,v),zm(v,v.A)),v.A++,!0)}t.Da=function(){if(this.v=null,Lm(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var v=4*this.T;this.j.info("BP detection timer enabled: "+v),this.B=Bt(d(this.Wa,this),v)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,tt(10),wa(this),Lm(this))};function Lh(v){v.B!=null&&(o.clearTimeout(v.B),v.B=null)}function Lm(v){v.g=new Gn(v,v.j,"rpc",v.Y),v.u===null&&(v.g.J=v.o),v.g.P=0;var C=gn(v.na);yt(C,"RID","rpc"),yt(C,"SID",v.M),yt(C,"AID",v.K),yt(C,"CI",v.F?"0":"1"),!v.F&&v.ia&&yt(C,"TO",v.ia),yt(C,"TYPE","xmlhttp"),rc(v,C),v.u&&v.o&&tc(C,v.u,v.o),v.O&&(v.g.H=v.O);var M=v.g;v=v.ba,M.M=1,M.A=Jl(gn(C)),M.u=null,M.R=!0,xu(M,v)}t.Va=function(){this.C!=null&&(this.C=null,wa(this),ic(this),tt(19))};function Cu(v){v.C!=null&&(o.clearTimeout(v.C),v.C=null)}function Vm(v,C){var M=null;if(v.g==C){Cu(v),Lh(v),v.g=null;var V=2}else if(Ri(v.h,C))M=C.G,Ah(v.h,C),V=1;else return;if(v.I!=0){if(C.o)if(V==1){M=C.u?C.u.length:0,C=Date.now()-C.F;var Q=v.D;V=vo(),Et(V,new zt(V,M)),Oi(v)}else jm(v);else if(Q=C.m,Q==3||Q==0&&C.X>0||!(V==1&&Au(v,C)||V==2&&ic(v)))switch(M&&M.length>0&&(C=v.h,C.i=C.i.concat(M)),Q){case 1:ji(v,5);break;case 4:ji(v,10);break;case 3:ji(v,6);break;default:ji(v,2)}}}function zm(v,C){let M=v.Qa+Math.floor(Math.random()*v.Za);return v.isActive()||(M*=2),M*C}function ji(v,C){if(v.j.info("Error code "+C),C==2){var M=d(v.bb,v),V=v.Ua;const Q=!V;V=new ar(V||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Un(V,"https"),Jl(V),Q?Yr(V.toString(),M):Ih(V.toString(),M)}else tt(2);v.I=0,v.l&&v.l.pa(C),Bm(v),_u(v)}t.bb=function(v){v?(this.j.info("Successfully pinged google.com"),tt(2)):(this.j.info("Failed to ping google.com"),tt(1))};function Bm(v){if(v.I=0,v.ja=[],v.l){const C=Ch(v.h);(C.length!=0||v.i.length!=0)&&(w(v.ja,C),w(v.ja,v.i),v.h.i.length=0,x(v.i),v.i.length=0),v.l.oa()}}function Um(v,C,M){var V=M instanceof ar?gn(M):new ar(M);if(V.g!="")C&&(V.g=C+"."+V.g),pa(V,V.u);else{var Q=o.location;V=Q.protocol,C=C?C+"."+Q.hostname:Q.hostname,Q=+Q.port;const te=new ar(null);V&&Un(te,V),C&&(te.g=C),Q&&pa(te,Q),M&&(te.h=M),V=te}return M=v.G,C=v.wa,M&&C&&yt(V,M,C),yt(V,"VER",v.ka),rc(v,V),V}function Fm(v,C,M){if(C&&!v.L)throw Error("Can't create secondary domain capable XhrIo object.");return C=v.Aa&&!v.ma?new St(new Ii({ab:M})):new St(v.ma),C.Fa(v.L),C}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hm(){}t=Hm.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ea(){}Ea.prototype.g=function(v,C){return new Ms(v,C)};function Ms(v,C){Lt.call(this),this.g=new ba(C),this.l=v,this.h=C&&C.messageUrlParams||null,v=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(v?v["X-WebChannel-Content-Type"]=C.messageContentType:v={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.sa&&(v?v["X-WebChannel-Client-Profile"]=C.sa:v={"X-WebChannel-Client-Profile":C.sa}),this.g.U=v,(v=C&&C.Qb)&&!U(v)&&(this.g.u=v),this.A=C&&C.supportsCrossDomainXhr||!1,this.v=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!U(C)&&(this.g.G=C,v=this.h,v!==null&&C in v&&(v=this.h,C in v&&delete v[C])),this.j=new So(this)}p(Ms,Lt),Ms.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ms.prototype.close=function(){Oh(this.g)},Ms.prototype.o=function(v){var C=this.g;if(typeof v=="string"){var M={};M.__data__=v,v=M}else this.v&&(M={},M.__data__=Cs(v),v=M);C.i.push(new mn(C.Ya++,v)),C.I==3&&Oi(C)},Ms.prototype.N=function(){this.g.l=null,delete this.j,Oh(this.g),delete this.g,Ms.Z.N.call(this)};function $m(v){Nn.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var C=v.__sm__;if(C){e:{for(const M in C){v=M;break e}v=void 0}(this.i=v)&&(v=this.i,C=C!==null&&v in C?C[v]:void 0),this.data=C}else this.data=v}p($m,Nn);function qm(){ds.call(this),this.status=1}p(qm,ds);function So(v){this.g=v}p(So,Hm),So.prototype.ra=function(){Et(this.g,"a")},So.prototype.qa=function(v){Et(this.g,new $m(v))},So.prototype.pa=function(v){Et(this.g,new qm)},So.prototype.oa=function(){Et(this.g,"b")},Ea.prototype.createWebChannel=Ea.prototype.g,Ms.prototype.send=Ms.prototype.o,Ms.prototype.open=Ms.prototype.m,Ms.prototype.close=Ms.prototype.close,nO=function(){return new Ea},tO=function(){return vo()},eO=Vt,IE={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fs.NO_ERROR=0,fs.TIMEOUT=8,fs.HTTP_ERROR=6,Oy=fs,ps.COMPLETE="complete",ZP=ps,Ql.EventType=sr,sr.OPEN="a",sr.CLOSE="b",sr.ERROR="c",sr.MESSAGE="d",Lt.prototype.listen=Lt.prototype.J,Of=Ql,St.prototype.listenOnce=St.prototype.K,St.prototype.getLastError=St.prototype.Ha,St.prototype.getLastErrorCode=St.prototype.ya,St.prototype.getStatus=St.prototype.ca,St.prototype.getResponseJson=St.prototype.La,St.prototype.getResponseText=St.prototype.la,St.prototype.send=St.prototype.ea,St.prototype.setWithCredentials=St.prototype.Fa,JP=St}).apply(typeof Qg<"u"?Qg:typeof self<"u"?self:typeof window<"u"?window:{});let xs=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};xs.UNAUTHENTICATED=new xs(null),xs.GOOGLE_CREDENTIALS=new xs("google-credentials-uid"),xs.FIRST_PARTY=new xs("first-party-uid"),xs.MOCK_USER=new xs("mock-user");let rh="12.9.0";function NW(t){rh=t}const Gc=new TT("@firebase/firestore");function ud(){return Gc.logLevel}function Ee(t,...e){if(Gc.logLevel<=ot.DEBUG){const n=e.map(OT);Gc.debug(`Firestore (${rh}): ${t}`,...n)}}function ra(t,...e){if(Gc.logLevel<=ot.ERROR){const n=e.map(OT);Gc.error(`Firestore (${rh}): ${t}`,...n)}}function Yc(t,...e){if(Gc.logLevel<=ot.WARN){const n=e.map(OT);Gc.warn(`Firestore (${rh}): ${t}`,...n)}}function OT(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Ue(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,sO(t,s,n)}function sO(t,e,n){let s=`FIRESTORE (${rh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ra(s),new Error(s)}function gt(t,e,n,s){let r="Unexpected state";typeof n=="string"?r=n:s=n,t||sO(e,r,s)}function qe(t,e){return t}const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends po{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Qo{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class rO{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class RW{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(xs.UNAUTHENTICATED)))}shutdown(){}}class MW{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class IW{constructor(e){this.t=e,this.currentUser=xs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){gt(this.o===void 0,42304);let s=this.i;const r=u=>this.i!==s?(s=this.i,n(u)):Promise.resolve();let i=new Qo;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Qo,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const u=i;e.enqueueRetryable((async()=>{await u.promise,await r(this.currentUser)}))},l=u=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((u=>l(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Qo)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(gt(typeof s.accessToken=="string",31837,{l:s}),new rO(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return gt(e===null||typeof e=="string",2055,{h:e}),new xs(e)}}class DW{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=xs.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class PW{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new DW(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(xs.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class MR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OW{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){gt(this.o===void 0,3512);const s=i=>{i.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Ee("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>s(i)))};const r=i=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>r(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?r(i):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new MR(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(gt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new MR(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function jW(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class jT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const r=jW(40);for(let i=0;i<r.length;++i)s.length<20&&r[i]<n&&(s+=e.charAt(r[i]%62))}return s}}function at(t,e){return t<e?-1:t>e?1:0}function DE(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const r=t.charAt(s),i=e.charAt(s);if(r!==i)return iw(r)===iw(i)?at(r,i):iw(r)?1:-1}return at(t.length,e.length)}const LW=55296,VW=57343;function iw(t){const e=t.charCodeAt(0);return e>=LW&&e<=VW}function Ld(t,e,n){return t.length===e.length&&t.every(((s,r)=>n(s,e[r])))}const IR="__name__";class qi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ue(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ue(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return qi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof qi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const i=qi.compareSegments(e.get(r),n.get(r));if(i!==0)return i}return at(e.length,n.length)}static compareSegments(e,n){const s=qi.isNumericId(e),r=qi.isNumericId(n);return s&&!r?-1:!s&&r?1:s&&r?qi.extractNumericId(e).compare(qi.extractNumericId(n)):DE(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gl.fromString(e.substring(4,e.length-2))}}class Mt extends qi{construct(e,n,s){return new Mt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new be(oe.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((r=>r.length>0)))}return new Mt(n)}static emptyPath(){return new Mt([])}}const zW=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class is extends qi{construct(e,n,s){return new is(e,n,s)}static isValidIdentifier(e){return zW.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),is.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===IR}static keyField(){return new is([IR])}static fromServerFormat(e){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new be(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;r<e.length;){const l=e[r];if(l==="\\"){if(r+1===e.length)throw new be(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new be(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=u,r+=2}else l==="`"?(o=!o,r++):l!=="."||o?(s+=l,r++):(i(),r++)}if(i(),o)throw new be(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new is(n)}static emptyPath(){return new is([])}}class je{constructor(e){this.path=e}static fromPath(e){return new je(Mt.fromString(e))}static fromName(e){return new je(Mt.fromString(e).popFirst(5))}static empty(){return new je(Mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Mt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new Mt(e.slice()))}}function iO(t,e,n){if(!n)throw new be(oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function BW(t,e,n,s){if(e===!0&&s===!0)throw new be(oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function DR(t){if(!je.isDocumentKey(t))throw new be(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function PR(t){if(je.isDocumentKey(t))throw new be(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function oO(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Xx(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ue(12329,{type:typeof t})}function ro(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new be(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xx(t);throw new be(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function _n(t,e){const n={typeString:t};return e&&(n.value=e),n}function am(t,e){if(!oO(t))throw new be(oe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const r=e[s].typeString,i="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const o=t[s];if(r&&typeof o!==r){n=`JSON field '${s}' must be a ${r}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${s}' field to equal '${i.value}'`;break}}if(n)throw new be(oe.INVALID_ARGUMENT,n);return!0}const OR=-62135596800,jR=1e6;class jt{static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*jR);return new jt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new be(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new be(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<OR)throw new be(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jR}_compareTo(e){return this.seconds===e.seconds?at(this.nanoseconds,e.nanoseconds):at(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:jt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(am(e,jt._jsonSchema))return new jt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-OR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}jt._jsonSchemaVersion="firestore/timestamp/1.0",jt._jsonSchema={type:_n("string",jt._jsonSchemaVersion),seconds:_n("number"),nanoseconds:_n("number")};class He{static fromTimestamp(e){return new He(e)}static min(){return new He(new jt(0,0))}static max(){return new He(new jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Sp=-1;function UW(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=He.fromTimestamp(s===1e9?new jt(n+1,0):new jt(n,s));return new _l(r,je.empty(),e)}function FW(t){return new _l(t.readTime,t.key,Sp)}class _l{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new _l(He.min(),je.empty(),Sp)}static max(){return new _l(He.max(),je.empty(),Sp)}}function HW(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=je.comparator(t.documentKey,e.documentKey),n!==0?n:at(t.largestBatchId,e.largestBatchId))}const $W="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qW{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ih(t){if(t.code!==oe.FAILED_PRECONDITION||t.message!==$W)throw t;Ee("LocalStore","Unexpectedly lost primary lease")}class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le(((s,r)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(s,r)},this.catchCallback=i=>{this.wrapFailure(n,i).next(s,r)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):le.reject(n)}static resolve(e){return new le(((n,s)=>{n(e)}))}static reject(e){return new le(((n,s)=>{s(e)}))}static waitFor(e){return new le(((n,s)=>{let r=0,i=0,o=!1;e.forEach((l=>{++r,l.next((()=>{++i,o&&i===r&&n()}),(u=>s(u)))})),o=!0,i===r&&n()}))}static or(e){let n=le.resolve(!1);for(const s of e)n=n.next((r=>r?le.resolve(r):s()));return n}static forEach(e,n){const s=[];return e.forEach(((r,i)=>{s.push(n.call(this,r,i))})),this.waitFor(s)}static mapArray(e,n){return new le(((s,r)=>{const i=e.length,o=new Array(i);let l=0;for(let u=0;u<i;u++){const d=u;n(e[d]).next((f=>{o[d]=f,++l,l===i&&s(o)}),(f=>r(f)))}}))}static doWhile(e,n){return new le(((s,r)=>{const i=()=>{e()===!0?n().next((()=>{i()}),r):s()};i()}))}}function WW(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function oh(t){return t.name==="IndexedDbTransactionError"}class Qx{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Qx.ce=-1;const LT=-1;function Jx(t){return t==null}function g0(t){return t===0&&1/t==-1/0}function KW(t){return typeof t=="number"&&Number.isInteger(t)&&!g0(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const aO="";function GW(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=LR(e)),e=YW(t.get(n),e);return LR(e)}function YW(t,e){let n=e;const s=t.length;for(let r=0;r<s;r++){const i=t.charAt(r);switch(i){case"\0":n+="";break;case aO:n+="";break;default:n+=i}}return n}function LR(t){return t+aO+""}function VR(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function zl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function lO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Kt{constructor(e,n){this.comparator=e,this.root=n||ns.EMPTY}insert(e,n){return new Kt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ns.BLACK,null,null))}remove(e){return new Kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ns.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jg(this.root,e,this.comparator,!0)}}class Jg{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?s(e.key,n):1,n&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ns{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s??ns.RED,this.left=r??ns.EMPTY,this.right=i??ns.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,i){return new ns(e??this.key,n??this.value,s??this.color,r??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ns.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return ns.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ns.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ns.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ue(27949);return e+(this.isRed()?0:1)}}ns.EMPTY=null,ns.RED=!0,ns.BLACK=!1;ns.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue(57766)}get value(){throw Ue(16141)}get color(){throw Ue(16727)}get left(){throw Ue(29726)}get right(){throw Ue(36894)}copy(e,n,s,r,i){return this}insert(e,n,s){return new ns(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pn{constructor(e){this.comparator=e,this.data=new Kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new zR(this.data.getIterator())}getIteratorFrom(e){return new zR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Pn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Pn(this.comparator);return n.data=e,n}}class zR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class xr{constructor(e){this.fields=e,e.sort(is.comparator)}static empty(){return new xr([])}unionWith(e){let n=new Pn(is.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new xr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ld(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class cO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ls{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new cO("Invalid base64 string: "+i):i}})(e);return new ls(n)}static fromUint8Array(e){const n=(function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i})(e);return new ls(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return at(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ls.EMPTY_BYTE_STRING=new ls("");const XW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Al(t){if(gt(!!t,39018),typeof t=="string"){let e=0;const n=XW.exec(t);if(gt(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ln(t.seconds),nanos:ln(t.nanos)}}function ln(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Cl(t){return typeof t=="string"?ls.fromBase64String(t):ls.fromUint8Array(t)}const uO="server_timestamp",dO="__type__",hO="__previous_value__",fO="__local_write_time__";function VT(t){return(t?.mapValue?.fields||{})[dO]?.stringValue===uO}function Zx(t){const e=t.mapValue.fields[hO];return VT(e)?Zx(e):e}function Tp(t){const e=Al(t.mapValue.fields[fO].timestampValue);return new jt(e.seconds,e.nanos)}class QW{constructor(e,n,s,r,i,o,l,u,d,f,p){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=d,this.isUsingEmulator=f,this.apiKey=p}}const y0="(default)";class _p{constructor(e,n){this.projectId=e,this.database=n||y0}static empty(){return new _p("","")}get isDefaultDatabase(){return this.database===y0}isEqual(e){return e instanceof _p&&e.projectId===this.projectId&&e.database===this.database}}function JW(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new be(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _p(t.options.projectId,e)}const pO="__type__",ZW="__max__",Zg={mapValue:{}},mO="__vector__",x0="value";function kl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?VT(t)?4:tK(t)?9007199254740991:eK(t)?10:11:Ue(28295,{value:t})}function io(t,e){if(t===e)return!0;const n=kl(t);if(n!==kl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Tp(t).isEqual(Tp(e));case 3:return(function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=Al(r.timestampValue),l=Al(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(r,i){return Cl(r.bytesValue).isEqual(Cl(i.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(r,i){return ln(r.geoPointValue.latitude)===ln(i.geoPointValue.latitude)&&ln(r.geoPointValue.longitude)===ln(i.geoPointValue.longitude)})(t,e);case 2:return(function(r,i){if("integerValue"in r&&"integerValue"in i)return ln(r.integerValue)===ln(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=ln(r.doubleValue),l=ln(i.doubleValue);return o===l?g0(o)===g0(l):isNaN(o)&&isNaN(l)}return!1})(t,e);case 9:return Ld(t.arrayValue.values||[],e.arrayValue.values||[],io);case 10:case 11:return(function(r,i){const o=r.mapValue.fields||{},l=i.mapValue.fields||{};if(VR(o)!==VR(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!io(o[u],l[u])))return!1;return!0})(t,e);default:return Ue(52216,{left:t})}}function Ap(t,e){return(t.values||[]).find((n=>io(n,e)))!==void 0}function Vd(t,e){if(t===e)return 0;const n=kl(t),s=kl(e);if(n!==s)return at(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return at(t.booleanValue,e.booleanValue);case 2:return(function(i,o){const l=ln(i.integerValue||i.doubleValue),u=ln(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1})(t,e);case 3:return BR(t.timestampValue,e.timestampValue);case 4:return BR(Tp(t),Tp(e));case 5:return DE(t.stringValue,e.stringValue);case 6:return(function(i,o){const l=Cl(i),u=Cl(o);return l.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(i,o){const l=i.split("/"),u=o.split("/");for(let d=0;d<l.length&&d<u.length;d++){const f=at(l[d],u[d]);if(f!==0)return f}return at(l.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(i,o){const l=at(ln(i.latitude),ln(o.latitude));return l!==0?l:at(ln(i.longitude),ln(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return UR(t.arrayValue,e.arrayValue);case 10:return(function(i,o){const l=i.fields||{},u=o.fields||{},d=l[x0]?.arrayValue,f=u[x0]?.arrayValue,p=at(d?.values?.length||0,f?.values?.length||0);return p!==0?p:UR(d,f)})(t.mapValue,e.mapValue);case 11:return(function(i,o){if(i===Zg.mapValue&&o===Zg.mapValue)return 0;if(i===Zg.mapValue)return 1;if(o===Zg.mapValue)return-1;const l=i.fields||{},u=Object.keys(l),d=o.fields||{},f=Object.keys(d);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){const y=DE(u[p],f[p]);if(y!==0)return y;const x=Vd(l[u[p]],d[f[p]]);if(x!==0)return x}return at(u.length,f.length)})(t.mapValue,e.mapValue);default:throw Ue(23264,{he:n})}}function BR(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return at(t,e);const n=Al(t),s=Al(e),r=at(n.seconds,s.seconds);return r!==0?r:at(n.nanos,s.nanos)}function UR(t,e){const n=t.values||[],s=e.values||[];for(let r=0;r<n.length&&r<s.length;++r){const i=Vd(n[r],s[r]);if(i)return i}return at(n.length,s.length)}function zd(t){return PE(t)}function PE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Al(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Cl(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return je.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",r=!0;for(const i of n.values||[])r?r=!1:s+=",",s+=PE(i);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let r="{",i=!0;for(const o of s)i?i=!1:r+=",",r+=`${o}:${PE(n.fields[o])}`;return r+"}"})(t.mapValue):Ue(61005,{value:t})}function jy(t){switch(kl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zx(t);return e?16+jy(e):16;case 5:return 2*t.stringValue.length;case 6:return Cl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((r,i)=>r+jy(i)),0)})(t.arrayValue);case 10:case 11:return(function(s){let r=0;return zl(s.fields,((i,o)=>{r+=i.length+jy(o)})),r})(t.mapValue);default:throw Ue(13486,{value:t})}}function FR(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function OE(t){return!!t&&"integerValue"in t}function zT(t){return!!t&&"arrayValue"in t}function HR(t){return!!t&&"nullValue"in t}function $R(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ly(t){return!!t&&"mapValue"in t}function eK(t){return(t?.mapValue?.fields||{})[pO]?.stringValue===mO}function Gf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return zl(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Gf(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Gf(t.arrayValue.values[n]);return e}return{...t}}function tK(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===ZW}class Qs{constructor(e){this.value=e}static empty(){return new Qs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Ly(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gf(n)}setAll(e){let n=is.emptyPath(),s={},r=[];e.forEach(((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,s,r),s={},r=[],n=l.popLast()}o?s[l.lastSegment()]=Gf(o):r.push(l.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(e){const n=this.field(e.popLast());Ly(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return io(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];Ly(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){zl(n,((r,i)=>e[r]=i));for(const r of s)delete e[r]}clone(){return new Qs(Gf(this.value))}}function gO(t){const e=[];return zl(t.fields,((n,s)=>{const r=new is([n]);if(Ly(s)){const i=gO(s.mapValue).fields;if(i.length===0)e.push(r);else for(const o of i)e.push(r.child(o))}else e.push(r)})),new xr(e)}class bs{constructor(e,n,s,r,i,o,l){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new bs(e,0,He.min(),He.min(),He.min(),Qs.empty(),0)}static newFoundDocument(e,n,s,r){return new bs(e,1,n,He.min(),s,r,0)}static newNoDocument(e,n){return new bs(e,2,n,He.min(),He.min(),Qs.empty(),0)}static newUnknownDocument(e,n){return new bs(e,3,n,He.min(),He.min(),Qs.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(He.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=He.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class v0{constructor(e,n){this.position=e,this.inclusive=n}}function qR(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const i=e[r],o=t.position[r];if(i.field.isKeyField()?s=je.comparator(je.fromName(o.referenceValue),n.key):s=Vd(o,n.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return s}function WR(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!io(t.position[n],e.position[n]))return!1;return!0}class Cp{constructor(e,n="asc"){this.field=e,this.dir=n}}function nK(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class yO{}class Tn extends yO{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new rK(e,n,s):n==="array-contains"?new aK(e,s):n==="in"?new lK(e,s):n==="not-in"?new cK(e,s):n==="array-contains-any"?new uK(e,s):new Tn(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new iK(e,s):new oK(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Vd(n,this.value)):n!==null&&kl(this.value)===kl(n)&&this.matchesComparison(Vd(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xi extends yO{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new xi(e,n)}matches(e){return xO(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function xO(t){return t.op==="and"}function vO(t){return sK(t)&&xO(t)}function sK(t){for(const e of t.filters)if(e instanceof xi)return!1;return!0}function jE(t){if(t instanceof Tn)return t.field.canonicalString()+t.op.toString()+zd(t.value);if(vO(t))return t.filters.map((e=>jE(e))).join(",");{const e=t.filters.map((n=>jE(n))).join(",");return`${t.op}(${e})`}}function bO(t,e){return t instanceof Tn?(function(s,r){return r instanceof Tn&&s.op===r.op&&s.field.isEqual(r.field)&&io(s.value,r.value)})(t,e):t instanceof xi?(function(s,r){return r instanceof xi&&s.op===r.op&&s.filters.length===r.filters.length?s.filters.reduce(((i,o,l)=>i&&bO(o,r.filters[l])),!0):!1})(t,e):void Ue(19439)}function wO(t){return t instanceof Tn?(function(n){return`${n.field.canonicalString()} ${n.op} ${zd(n.value)}`})(t):t instanceof xi?(function(n){return n.op.toString()+" {"+n.getFilters().map(wO).join(" ,")+"}"})(t):"Filter"}class rK extends Tn{constructor(e,n,s){super(e,n,s),this.key=je.fromName(s.referenceValue)}matches(e){const n=je.comparator(e.key,this.key);return this.matchesComparison(n)}}class iK extends Tn{constructor(e,n){super(e,"in",n),this.keys=EO("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class oK extends Tn{constructor(e,n){super(e,"not-in",n),this.keys=EO("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function EO(t,e){return(e.arrayValue?.values||[]).map((n=>je.fromName(n.referenceValue)))}class aK extends Tn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return zT(n)&&Ap(n.arrayValue,this.value)}}class lK extends Tn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ap(this.value.arrayValue,n)}}class cK extends Tn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ap(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ap(this.value.arrayValue,n)}}class uK extends Tn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!zT(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Ap(this.value.arrayValue,s)))}}class dK{constructor(e,n=null,s=[],r=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=o,this.endAt=l,this.Te=null}}function KR(t,e=null,n=[],s=[],r=null,i=null,o=null){return new dK(t,e,n,s,r,i,o)}function BT(t){const e=qe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>jE(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(i){return i.field.canonicalString()+i.dir})(s))).join(","),Jx(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>zd(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>zd(s))).join(",")),e.Te=n}return e.Te}function UT(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!nK(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!bO(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!WR(t.startAt,e.startAt)&&WR(t.endAt,e.endAt)}function LE(t){return je.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class ah{constructor(e,n=null,s=[],r=[],i=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function hK(t,e,n,s,r,i,o,l){return new ah(t,e,n,s,r,i,o,l)}function FT(t){return new ah(t)}function GR(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function fK(t){return je.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function SO(t){return t.collectionGroup!==null}function Yf(t){const e=qe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Pn(is.comparator);return o.filters.forEach((u=>{u.getFlattenedFilters().forEach((d=>{d.isInequality()&&(l=l.add(d.field))}))})),l})(e).forEach((i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Cp(i,s))})),n.has(is.keyField().canonicalString())||e.Ie.push(new Cp(is.keyField(),s))}return e.Ie}function Zi(t){const e=qe(t);return e.Ee||(e.Ee=pK(e,Yf(t))),e.Ee}function pK(t,e){if(t.limitType==="F")return KR(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((r=>{const i=r.dir==="desc"?"asc":"desc";return new Cp(r.field,i)}));const n=t.endAt?new v0(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new v0(t.startAt.position,t.startAt.inclusive):null;return KR(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function VE(t,e){const n=t.filters.concat([e]);return new ah(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function mK(t,e){const n=t.explicitOrderBy.concat([e]);return new ah(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function b0(t,e,n){return new ah(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ev(t,e){return UT(Zi(t),Zi(e))&&t.limitType===e.limitType}function TO(t){return`${BT(Zi(t))}|lt:${t.limitType}`}function dd(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((r=>wO(r))).join(", ")}]`),Jx(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((r=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(r))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((r=>zd(r))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((r=>zd(r))).join(",")),`Target(${s})`})(Zi(t))}; limitType=${t.limitType})`}function tv(t,e){return e.isFoundDocument()&&(function(s,r){const i=r.key.path;return s.collectionGroup!==null?r.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(i):je.isDocumentKey(s.path)?s.path.isEqual(i):s.path.isImmediateParentOf(i)})(t,e)&&(function(s,r){for(const i of Yf(s))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0})(t,e)&&(function(s,r){for(const i of s.filters)if(!i.matches(r))return!1;return!0})(t,e)&&(function(s,r){return!(s.startAt&&!(function(o,l,u){const d=qR(o,l,u);return o.inclusive?d<=0:d<0})(s.startAt,Yf(s),r)||s.endAt&&!(function(o,l,u){const d=qR(o,l,u);return o.inclusive?d>=0:d>0})(s.endAt,Yf(s),r))})(t,e)}function gK(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _O(t){return(e,n)=>{let s=!1;for(const r of Yf(t)){const i=yK(r,e,n);if(i!==0)return i;s=s||r.field.isKeyField()}return 0}}function yK(t,e,n){const s=t.field.isKeyField()?je.comparator(e.key,n.key):(function(i,o,l){const u=o.data.field(i),d=l.data.field(i);return u!==null&&d!==null?Vd(u,d):Ue(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Ue(19790,{direction:t.dir})}}class uu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,i]of s)if(this.equalsFn(r,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){zl(this.inner,((n,s)=>{for(const[r,i]of s)e(r,i)}))}isEmpty(){return lO(this.inner)}size(){return this.innerSize}}const xK=new Kt(je.comparator);function ia(){return xK}const AO=new Kt(je.comparator);function jf(...t){let e=AO;for(const n of t)e=e.insert(n.key,n);return e}function CO(t){let e=AO;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function kc(){return Xf()}function kO(){return Xf()}function Xf(){return new uu((t=>t.toString()),((t,e)=>t.isEqual(e)))}const vK=new Kt(je.comparator),bK=new Pn(je.comparator);function lt(...t){let e=bK;for(const n of t)e=e.add(n);return e}const wK=new Pn(at);function EK(){return wK}function HT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:g0(e)?"-0":e}}function NO(t){return{integerValue:""+t}}function SK(t,e){return KW(e)?NO(e):HT(t,e)}class nv{constructor(){this._=void 0}}function TK(t,e,n){return t instanceof kp?(function(r,i){const o={fields:{[dO]:{stringValue:uO},[fO]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&VT(i)&&(i=Zx(i)),i&&(o.fields[hO]=i),{mapValue:o}})(n,e):t instanceof Np?MO(t,e):t instanceof Rp?IO(t,e):(function(r,i){const o=RO(r,i),l=YR(o)+YR(r.Ae);return OE(o)&&OE(r.Ae)?NO(l):HT(r.serializer,l)})(t,e)}function _K(t,e,n){return t instanceof Np?MO(t,e):t instanceof Rp?IO(t,e):n}function RO(t,e){return t instanceof w0?(function(s){return OE(s)||(function(i){return!!i&&"doubleValue"in i})(s)})(e)?e:{integerValue:0}:null}class kp extends nv{}class Np extends nv{constructor(e){super(),this.elements=e}}function MO(t,e){const n=DO(e);for(const s of t.elements)n.some((r=>io(r,s)))||n.push(s);return{arrayValue:{values:n}}}class Rp extends nv{constructor(e){super(),this.elements=e}}function IO(t,e){let n=DO(e);for(const s of t.elements)n=n.filter((r=>!io(r,s)));return{arrayValue:{values:n}}}class w0 extends nv{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function YR(t){return ln(t.integerValue||t.doubleValue)}function DO(t){return zT(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class AK{constructor(e,n){this.field=e,this.transform=n}}function CK(t,e){return t.field.isEqual(e.field)&&(function(s,r){return s instanceof Np&&r instanceof Np||s instanceof Rp&&r instanceof Rp?Ld(s.elements,r.elements,io):s instanceof w0&&r instanceof w0?io(s.Ae,r.Ae):s instanceof kp&&r instanceof kp})(t.transform,e.transform)}class kK{constructor(e,n){this.version=e,this.transformResults=n}}class di{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new di}static exists(e){return new di(void 0,e)}static updateTime(e){return new di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vy(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class sv{}function PO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new jO(t.key,di.none()):new lm(t.key,t.data,di.none());{const n=t.data,s=Qs.empty();let r=new Pn(is.comparator);for(let i of e.fields)if(!r.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?s.delete(i):s.set(i,o),r=r.add(i)}return new Bl(t.key,s,new xr(r.toArray()),di.none())}}function NK(t,e,n){t instanceof lm?(function(r,i,o){const l=r.value.clone(),u=QR(r.fieldTransforms,i,o.transformResults);l.setAll(u),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(t,e,n):t instanceof Bl?(function(r,i,o){if(!Vy(r.precondition,i))return void i.convertToUnknownDocument(o.version);const l=QR(r.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(OO(r)),u.setAll(l),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()})(t,e,n):(function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function Qf(t,e,n,s){return t instanceof lm?(function(i,o,l,u){if(!Vy(i.precondition,o))return l;const d=i.value.clone(),f=JR(i.fieldTransforms,u,o);return d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null})(t,e,n,s):t instanceof Bl?(function(i,o,l,u){if(!Vy(i.precondition,o))return l;const d=JR(i.fieldTransforms,u,o),f=o.data;return f.setAll(OO(i)),f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((p=>p.field)))})(t,e,n,s):(function(i,o,l){return Vy(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l})(t,e,n)}function RK(t,e){let n=null;for(const s of t.fieldTransforms){const r=e.data.field(s.field),i=RO(s.transform,r||null);i!=null&&(n===null&&(n=Qs.empty()),n.set(s.field,i))}return n||null}function XR(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,r){return s===void 0&&r===void 0||!(!s||!r)&&Ld(s,r,((i,o)=>CK(i,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class lm extends sv{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Bl extends sv{constructor(e,n,s,r,i=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function OO(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function QR(t,e,n){const s=new Map;gt(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let r=0;r<n.length;r++){const i=t[r],o=i.transform,l=e.data.field(i.field);s.set(i.field,_K(o,l,n[r]))}return s}function JR(t,e,n){const s=new Map;for(const r of t){const i=r.transform,o=n.data.field(r.field);s.set(r.field,TK(i,o,e))}return s}class jO extends sv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MK extends sv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class IK{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(e.key)&&NK(i,e,s[r])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Qf(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Qf(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=kO();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(r.key)?null:l;const u=PO(o,l);u!==null&&s.set(r.key,u),o.isValidDocument()||o.convertToNoDocument(He.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),lt())}isEqual(e){return this.batchId===e.batchId&&Ld(this.mutations,e.mutations,((n,s)=>XR(n,s)))&&Ld(this.baseMutations,e.baseMutations,((n,s)=>XR(n,s)))}}class $T{constructor(e,n,s,r){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(e,n,s){gt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let r=(function(){return vK})();const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,s[o].version);return new $T(e,n,s,r)}}class DK{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class PK{constructor(e,n){this.count=e,this.unchangedNames=n}}var wn,dt;function OK(t){switch(t){case oe.OK:return Ue(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Ue(15467,{code:t})}}function LO(t){if(t===void 0)return ra("GRPC error has no .code"),oe.UNKNOWN;switch(t){case wn.OK:return oe.OK;case wn.CANCELLED:return oe.CANCELLED;case wn.UNKNOWN:return oe.UNKNOWN;case wn.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case wn.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case wn.INTERNAL:return oe.INTERNAL;case wn.UNAVAILABLE:return oe.UNAVAILABLE;case wn.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case wn.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case wn.NOT_FOUND:return oe.NOT_FOUND;case wn.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case wn.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case wn.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case wn.ABORTED:return oe.ABORTED;case wn.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case wn.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case wn.DATA_LOSS:return oe.DATA_LOSS;default:return Ue(39323,{code:t})}}(dt=wn||(wn={}))[dt.OK=0]="OK",dt[dt.CANCELLED=1]="CANCELLED",dt[dt.UNKNOWN=2]="UNKNOWN",dt[dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dt[dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dt[dt.NOT_FOUND=5]="NOT_FOUND",dt[dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",dt[dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",dt[dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",dt[dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dt[dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dt[dt.ABORTED=10]="ABORTED",dt[dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",dt[dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",dt[dt.INTERNAL=13]="INTERNAL",dt[dt.UNAVAILABLE=14]="UNAVAILABLE",dt[dt.DATA_LOSS=15]="DATA_LOSS";function jK(){return new TextEncoder}const LK=new gl([4294967295,4294967295],0);function ZR(t){const e=jK().encode(t),n=new QP;return n.update(e),new Uint8Array(n.digest())}function eM(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),r=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new gl([n,s],0),new gl([r,i],0)]}class qT{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Lf(`Invalid padding: ${n}`);if(s<0)throw new Lf(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Lf(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Lf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=gl.fromNumber(this.ge)}ye(e,n,s){let r=e.add(n.multiply(gl.fromNumber(s)));return r.compare(LK)===1&&(r=new gl([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=ZR(e),[s,r]=eM(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(s,r,i);if(!this.we(o))return!1}return!0}static create(e,n,s){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new qT(i,r,n);return s.forEach((l=>o.insert(l))),o}insert(e){if(this.ge===0)return;const n=ZR(e),[s,r]=eM(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(s,r,i);this.be(o)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Lf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class rv{constructor(e,n,s,r,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const r=new Map;return r.set(e,cm.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new rv(He.min(),r,new Kt(at),ia(),lt())}}class cm{constructor(e,n,s,r,i){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new cm(s,n,lt(),lt(),lt())}}class zy{constructor(e,n,s,r){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=r}}class VO{constructor(e,n){this.targetId=e,this.Ce=n}}class zO{constructor(e,n,s=ls.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class tM{constructor(){this.ve=0,this.Fe=nM(),this.Me=ls.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=lt(),n=lt(),s=lt();return this.Fe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:Ue(38017,{changeType:i})}})),new cm(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=nM()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,gt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class VK{constructor(e){this.Ge=e,this.ze=new Map,this.je=ia(),this.He=ey(),this.Je=ey(),this.Ze=new Kt(at)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ue(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,r)=>{this.rt(r)&&n(r)}))}st(e){const n=e.targetId,s=e.Ce.count,r=this.ot(n);if(r){const i=r.target;if(LE(i))if(s===0){const o=new je(i.path);this.et(n,o,bs.newNoDocument(o,He.min()))}else gt(s===1,20013,{expectedCount:s});else{const o=this._t(n);if(o!==s){const l=this.ut(e),u=l?this.ct(l,e,o):1;if(u!==0){this.it(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:r=0},hashCount:i=0}=n;let o,l;try{o=Cl(s).toUint8Array()}catch(u){if(u instanceof cO)return Yc("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new qT(o,r,i)}catch(u){return Yc(u instanceof Lf?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let r=0;return s.forEach((i=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.et(n,i,null),r++)})),r}Tt(e){const n=new Map;this.ze.forEach(((i,o)=>{const l=this.ot(o);if(l){if(i.current&&LE(l.target)){const u=new je(l.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,bs.newNoDocument(u,e))}i.Be&&(n.set(o,i.ke()),i.Ke())}}));let s=lt();this.Je.forEach(((i,o)=>{let l=!0;o.forEachWhile((u=>{const d=this.ot(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(s=s.add(i))})),this.je.forEach(((i,o)=>o.setReadTime(e)));const r=new rv(e,n,this.Ze,this.je,s);return this.je=ia(),this.He=ey(),this.Je=ey(),this.Ze=new Kt(at),r}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,n)?r.qe(n,1):r.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new tM,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Pn(at),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Pn(at),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ee("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new tM),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ey(){return new Kt(je.comparator)}function nM(){return new Kt(je.comparator)}const zK={asc:"ASCENDING",desc:"DESCENDING"},BK={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UK={and:"AND",or:"OR"};class FK{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function zE(t,e){return t.useProto3Json||Jx(e)?e:{value:e}}function E0(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function HK(t,e){return E0(t,e.toTimestamp())}function eo(t){return gt(!!t,49232),He.fromTimestamp((function(n){const s=Al(n);return new jt(s.seconds,s.nanos)})(t))}function WT(t,e){return BE(t,e).canonicalString()}function BE(t,e){const n=(function(r){return new Mt(["projects",r.projectId,"databases",r.database])})(t).child("documents");return e===void 0?n:n.child(e)}function UO(t){const e=Mt.fromString(t);return gt(WO(e),10190,{key:e.toString()}),e}function UE(t,e){return WT(t.databaseId,e.path)}function ow(t,e){const n=UO(e);if(n.get(1)!==t.databaseId.projectId)throw new be(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new be(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new je(HO(n))}function FO(t,e){return WT(t.databaseId,e)}function $K(t){const e=UO(t);return e.length===4?Mt.emptyPath():HO(e)}function FE(t){return new Mt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function HO(t){return gt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function sM(t,e,n){return{name:UE(t,e),fields:n.value.mapValue.fields}}function qK(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ue(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=(function(d,f){return d.useProto3Json?(gt(f===void 0||typeof f=="string",58123),ls.fromBase64String(f||"")):(gt(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),ls.fromUint8Array(f||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&(function(d){const f=d.code===void 0?oe.UNKNOWN:LO(d.code);return new be(f,d.message||"")})(o);n=new zO(s,r,i,l||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=ow(t,s.document.name),i=eo(s.document.updateTime),o=s.document.createTime?eo(s.document.createTime):He.min(),l=new Qs({mapValue:{fields:s.document.fields}}),u=bs.newFoundDocument(r,i,o,l),d=s.targetIds||[],f=s.removedTargetIds||[];n=new zy(d,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=ow(t,s.document),i=s.readTime?eo(s.readTime):He.min(),o=bs.newNoDocument(r,i),l=s.removedTargetIds||[];n=new zy([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=ow(t,s.document),i=s.removedTargetIds||[];n=new zy([],i,r,null)}else{if(!("filter"in e))return Ue(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:r=0,unchangedNames:i}=s,o=new PK(r,i),l=s.targetId;n=new VO(l,o)}}return n}function WK(t,e){let n;if(e instanceof lm)n={update:sM(t,e.key,e.value)};else if(e instanceof jO)n={delete:UE(t,e.key)};else if(e instanceof Bl)n={update:sM(t,e.key,e.data),updateMask:tG(e.fieldMask)};else{if(!(e instanceof MK))return Ue(16599,{dt:e.type});n={verify:UE(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(i,o){const l=o.transform;if(l instanceof kp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Np)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Rp)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof w0)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw Ue(20930,{transform:o.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(r,i){return i.updateTime!==void 0?{updateTime:HK(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ue(27497)})(t,e.precondition)),n}function KK(t,e){return t&&t.length>0?(gt(e!==void 0,14353),t.map((n=>(function(r,i){let o=r.updateTime?eo(r.updateTime):eo(i);return o.isEqual(He.min())&&(o=eo(i)),new kK(o,r.transformResults||[])})(n,e)))):[]}function GK(t,e){return{documents:[FO(t,e.path)]}}function YK(t,e){const n={structuredQuery:{}},s=e.path;let r;e.collectionGroup!==null?(r=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=FO(t,r);const i=(function(d){if(d.length!==0)return qO(xi.create(d,"and"))})(e.filters);i&&(n.structuredQuery.where=i);const o=(function(d){if(d.length!==0)return d.map((f=>(function(y){return{field:hd(y.field),direction:JK(y.dir)}})(f)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=zE(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:r}}function XK(t){let e=$K(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){gt(s===1,65062);const f=n.from[0];f.allDescendants?r=f.collectionId:e=e.child(f.collectionId)}let i=[];n.where&&(i=(function(p){const y=$O(p);return y instanceof xi&&vO(y)?y.getFilters():[y]})(n.where));let o=[];n.orderBy&&(o=(function(p){return p.map((y=>(function(w){return new Cp(fd(w.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(w.direction))})(y)))})(n.orderBy));let l=null;n.limit&&(l=(function(p){let y;return y=typeof p=="object"?p.value:p,Jx(y)?null:y})(n.limit));let u=null;n.startAt&&(u=(function(p){const y=!!p.before,x=p.values||[];return new v0(x,y)})(n.startAt));let d=null;return n.endAt&&(d=(function(p){const y=!p.before,x=p.values||[];return new v0(x,y)})(n.endAt)),hK(e,r,o,i,l,"F",u,d)}function QK(t,e){const n=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue(28987,{purpose:r})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function $O(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=fd(n.unaryFilter.field);return Tn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const r=fd(n.unaryFilter.field);return Tn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=fd(n.unaryFilter.field);return Tn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=fd(n.unaryFilter.field);return Tn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ue(61313);default:return Ue(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Tn.create(fd(n.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ue(58110);default:return Ue(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return xi.create(n.compositeFilter.filters.map((s=>$O(s))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Ue(1026)}})(n.compositeFilter.op))})(t):Ue(30097,{filter:t})}function JK(t){return zK[t]}function ZK(t){return BK[t]}function eG(t){return UK[t]}function hd(t){return{fieldPath:t.canonicalString()}}function fd(t){return is.fromServerFormat(t.fieldPath)}function qO(t){return t instanceof Tn?(function(n){if(n.op==="=="){if($R(n.value))return{unaryFilter:{field:hd(n.field),op:"IS_NAN"}};if(HR(n.value))return{unaryFilter:{field:hd(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($R(n.value))return{unaryFilter:{field:hd(n.field),op:"IS_NOT_NAN"}};if(HR(n.value))return{unaryFilter:{field:hd(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hd(n.field),op:ZK(n.op),value:n.value}}})(t):t instanceof xi?(function(n){const s=n.getFilters().map((r=>qO(r)));return s.length===1?s[0]:{compositeFilter:{op:eG(n.op),filters:s}}})(t):Ue(54877,{filter:t})}function tG(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function WO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function KO(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class cl{constructor(e,n,s,r,i=He.min(),o=He.min(),l=ls.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new cl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new cl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class nG{constructor(e){this.yt=e}}function sG(t){const e=XK({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?b0(e,e.limit,"L"):e}class rG{constructor(){this.Sn=new iG}addToCollectionParentIndex(e,n){return this.Sn.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(_l.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(_l.min())}updateCollectionGroup(e,n,s){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class iG{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new Pn(Mt.comparator),i=!r.has(s);return this.index[n]=r.add(s),i}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new Pn(Mt.comparator)).toArray()}}const rM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GO=41943040;class Ys{static withCacheSize(e){return new Ys(e,Ys.DEFAULT_COLLECTION_PERCENTILE,Ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Ys.DEFAULT_COLLECTION_PERCENTILE=10,Ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ys.DEFAULT=new Ys(GO,Ys.DEFAULT_COLLECTION_PERCENTILE,Ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ys.DISABLED=new Ys(-1,0,0);class Bd{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Bd(0)}static ar(){return new Bd(-1)}}const iM="LruGarbageCollector",oG=1048576;function oM([t,e],[n,s]){const r=at(t,n);return r===0?at(e,s):r}class aG{constructor(e){this.Pr=e,this.buffer=new Pn(oM),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();oM(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class lG{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Ee(iM,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){oh(n)?Ee(iM,"Ignoring IndexedDB error during garbage collection: ",n):await ih(n)}await this.Ar(3e5)}))}}class cG{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return le.resolve(Qx.ce);const s=new aG(n);return this.Vr.forEachTarget(e,(r=>s.Er(r.sequenceNumber))).next((()=>this.Vr.mr(e,(r=>s.Er(r))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(rM)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rM):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,r,i,o,l,u,d;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),r=this.params.maximumSequenceNumbersToCollect):r=p,o=Date.now(),this.nthSequenceNumber(e,r)))).next((p=>(s=p,l=Date.now(),this.removeTargets(e,s,n)))).next((p=>(i=p,u=Date.now(),this.removeOrphanedDocuments(e,s)))).next((p=>(d=Date.now(),ud()<=ot.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${r} in `+(l-o)+`ms
	Removed ${i} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(d-u)+`ms
Total Duration: ${d-f}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:p}))))}}function uG(t,e){return new cG(t,e)}class dG{constructor(){this.changes=new uu((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,bs.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?le.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class hG{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class fG{constructor(e,n,s,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((r=>(s=r,this.remoteDocumentCache.getEntry(e,n)))).next((r=>(s!==null&&Qf(s.mutation,r,xr.empty(),jt.now()),r)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,lt()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=lt()){const r=kc();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,s).next((i=>{let o=jf();return i.forEach(((l,u)=>{o=o.insert(l,u.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const s=kc();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,lt())))}populateOverlays(e,n,s){const r=[];return s.forEach((i=>{n.has(i)||r.push(i)})),this.documentOverlayCache.getOverlays(e,r).next((i=>{i.forEach(((o,l)=>{n.set(o,l)}))}))}computeViews(e,n,s,r){let i=ia();const o=Xf(),l=(function(){return Xf()})();return n.forEach(((u,d)=>{const f=s.get(d.key);r.has(d.key)&&(f===void 0||f.mutation instanceof Bl)?i=i.insert(d.key,d):f!==void 0?(o.set(d.key,f.mutation.getFieldMask()),Qf(f.mutation,d,f.mutation.getFieldMask(),jt.now())):o.set(d.key,xr.empty())})),this.recalculateAndSaveOverlays(e,i).next((u=>(u.forEach(((d,f)=>o.set(d,f))),n.forEach(((d,f)=>l.set(d,new hG(f,o.get(d)??null)))),l)))}recalculateAndSaveOverlays(e,n){const s=Xf();let r=new Kt(((o,l)=>o-l)),i=lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const l of o)l.keys().forEach((u=>{const d=n.get(u);if(d===null)return;let f=s.get(u)||xr.empty();f=l.applyToLocalView(d,f),s.set(u,f);const p=(r.get(l.batchId)||lt()).add(u);r=r.insert(l.batchId,p)}))})).next((()=>{const o=[],l=r.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),d=u.key,f=u.value,p=kO();f.forEach((y=>{if(!i.has(y)){const x=PO(n.get(y),s.get(y));x!==null&&p.set(y,x),i=i.add(y)}})),o.push(this.documentOverlayCache.saveOverlays(e,d,p))}return le.waitFor(o)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,r){return fK(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):SO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,r):this.getDocumentsMatchingCollectionQuery(e,n,s,r)}getNextDocuments(e,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,r-i.size):le.resolve(kc());let l=Sp,u=i;return o.next((d=>le.forEach(d,((f,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),i.get(f)?le.resolve():this.remoteDocumentCache.getEntry(e,f).next((y=>{u=u.insert(f,y)}))))).next((()=>this.populateOverlays(e,d,i))).next((()=>this.computeViews(e,u,d,lt()))).next((f=>({batchId:l,changes:CO(f)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new je(n)).next((s=>{let r=jf();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,r){const i=n.collectionGroup;let o=jf();return this.indexManager.getCollectionParents(e,i).next((l=>le.forEach(l,(u=>{const d=(function(p,y){return new ah(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,s,r).next((f=>{f.forEach(((p,y)=>{o=o.insert(p,y)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,s,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,i,r)))).next((o=>{i.forEach(((u,d)=>{const f=d.getKey();o.get(f)===null&&(o=o.insert(f,bs.newInvalidDocument(f)))}));let l=jf();return o.forEach(((u,d)=>{const f=i.get(u);f!==void 0&&Qf(f.mutation,d,xr.empty(),jt.now()),tv(n,d)&&(l=l.insert(u,d))})),l}))}}class pG{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return le.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(r){return{id:r.id,version:r.version,createTime:eo(r.createTime)}})(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(r){return{name:r.name,query:sG(r.bundledQuery),readTime:eo(r.readTime)}})(n)),le.resolve()}}class mG{constructor(){this.overlays=new Kt(je.comparator),this.Lr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const s=kc();return le.forEach(n,(r=>this.getOverlay(e,r).next((i=>{i!==null&&s.set(r,i)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((r,i)=>{this.bt(e,n,i)})),le.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.Lr.get(s);return r!==void 0&&(r.forEach((i=>this.overlays=this.overlays.remove(i))),this.Lr.delete(s)),le.resolve()}getOverlaysForCollection(e,n,s){const r=kc(),i=n.length+1,o=new je(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&u.largestBatchId>s&&r.set(u.getKey(),u)}return le.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let i=new Kt(((d,f)=>d-f));const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>s){let f=i.get(d.largestBatchId);f===null&&(f=kc(),i=i.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const l=kc(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((d,f)=>l.set(d,f))),!(l.size()>=r)););return le.resolve(l)}bt(e,n,s){const r=this.overlays.get(s.key);if(r!==null){const o=this.Lr.get(r.largestBatchId).delete(s.key);this.Lr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new DK(n,s));let i=this.Lr.get(n);i===void 0&&(i=lt(),this.Lr.set(n,i)),this.Lr.set(n,i.add(s.key))}}class gG{constructor(){this.sessionToken=ls.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}class KT{constructor(){this.kr=new Pn(Hn.Kr),this.qr=new Pn(Hn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new Hn(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new Hn(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new je(new Mt([])),s=new Hn(n,e),r=new Hn(n,e+1),i=[];return this.qr.forEachInRange([s,r],(o=>{this.Wr(o),i.push(o.key)})),i}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new je(new Mt([])),s=new Hn(n,e),r=new Hn(n,e+1);let i=lt();return this.qr.forEachInRange([s,r],(o=>{i=i.add(o.key)})),i}containsKey(e){const n=new Hn(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Hn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return je.comparator(e.key,n.key)||at(e.Hr,n.Hr)}static Ur(e,n){return at(e.Hr,n.Hr)||je.comparator(e.key,n.key)}}class yG{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Pn(Hn.Kr)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,r){const i=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new IK(i,n,s,r);this.mutationQueue.push(o);for(const l of r)this.Jr=this.Jr.add(new Hn(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return le.resolve(o)}lookupMutationBatch(e,n){return le.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.Xr(s),i=r<0?0:r;return le.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?LT:this.Yn-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Hn(n,0),r=new Hn(n,Number.POSITIVE_INFINITY),i=[];return this.Jr.forEachInRange([s,r],(o=>{const l=this.Zr(o.Hr);i.push(l)})),le.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Pn(at);return n.forEach((r=>{const i=new Hn(r,0),o=new Hn(r,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([i,o],(l=>{s=s.add(l.Hr)}))})),le.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let i=s;je.isDocumentKey(i)||(i=i.child(""));const o=new Hn(new je(i),0);let l=new Pn(at);return this.Jr.forEachWhile((u=>{const d=u.key.path;return!!s.isPrefixOf(d)&&(d.length===r&&(l=l.add(u.Hr)),!0)}),o),le.resolve(this.Yr(l))}Yr(e){const n=[];return e.forEach((s=>{const r=this.Zr(s);r!==null&&n.push(r)})),n}removeMutationBatch(e,n){gt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return le.forEach(n.mutations,(r=>{const i=new Hn(r.key,n.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new Hn(n,0),r=this.Jr.firstAfterOrEqual(s);return le.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class xG{constructor(e){this.ti=e,this.docs=(function(){return new Kt(je.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),i=r?r.size:0,o=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return le.resolve(s?s.document.mutableCopy():bs.newInvalidDocument(n))}getEntries(e,n){let s=ia();return n.forEach((r=>{const i=this.docs.get(r);s=s.insert(r,i?i.document.mutableCopy():bs.newInvalidDocument(r))})),le.resolve(s)}getDocumentsMatchingQuery(e,n,s,r){let i=ia();const o=n.path,l=new je(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:d,value:{document:f}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||HW(FW(f),s)<=0||(r.has(f.key)||tv(n,f))&&(i=i.insert(f.key,f.mutableCopy()))}return le.resolve(i)}getAllFromCollectionGroup(e,n,s,r){Ue(9500)}ni(e,n){return le.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new vG(this)}getSize(e){return le.resolve(this.size)}}class vG extends dG{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,r)=>{r.isValidDocument()?n.push(this.Mr.addEntry(e,r)):this.Mr.removeEntry(s)})),le.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class bG{constructor(e){this.persistence=e,this.ri=new uu((n=>BT(n)),UT),this.lastRemoteSnapshotVersion=He.min(),this.highestTargetId=0,this.ii=0,this.si=new KT,this.targetCount=0,this.oi=Bd._r()}forEachTarget(e,n){return this.ri.forEach(((s,r)=>n(r))),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),le.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Bd(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.lr(n),le.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,s){let r=0;const i=[];return this.ri.forEach(((o,l)=>{l.sequenceNumber<=n&&s.get(l.targetId)===null&&(this.ri.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)})),le.waitFor(i).next((()=>r))}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return le.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),le.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const r=this.persistence.referenceDelegate,i=[];return r&&n.forEach((o=>{i.push(r.markPotentiallyOrphaned(e,o))})),le.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return le.resolve(s)}containsKey(e,n){return le.resolve(this.si.containsKey(n))}}class YO{constructor(e,n){this._i={},this.overlays={},this.ai=new Qx(0),this.ui=!1,this.ui=!0,this.ci=new gG,this.referenceDelegate=e(this),this.li=new bG(this),this.indexManager=new rG,this.remoteDocumentCache=(function(r){return new xG(r)})((s=>this.referenceDelegate.hi(s))),this.serializer=new nG(n),this.Pi=new pG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new mG,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new yG(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){Ee("MemoryPersistence","Starting transaction:",e);const r=new wG(this.ai.next());return this.referenceDelegate.Ti(),s(r).next((i=>this.referenceDelegate.Ii(r).next((()=>i)))).toPromise().then((i=>(r.raiseOnCommittedEvent(),i)))}Ei(e,n){return le.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class wG extends qW{constructor(e){super(),this.currentSequenceNumber=e}}class GT{constructor(e){this.persistence=e,this.Ri=new KT,this.Ai=null}static Vi(e){return new GT(e)}get di(){if(this.Ai)return this.Ai;throw Ue(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),le.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),le.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((r=>this.di.add(r.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((r=>{r.forEach((i=>this.di.add(i.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.di,(s=>{const r=je.fromPath(s);return this.mi(e,r).next((i=>{i||n.removeEntry(r,He.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return le.or([()=>le.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class S0{constructor(e,n){this.persistence=e,this.fi=new uu((s=>GW(s.path)),((s,r)=>s.isEqual(r))),this.garbageCollector=uG(this,n)}static Vi(e,n){return new S0(e,n)}Ti(){}Ii(e){return le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((r=>s+r))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return le.forEach(this.fi,((s,r)=>this.wr(e,s,r).next((i=>i?le.resolve():n(r)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ni(e,(o=>this.wr(e,o,n).next((l=>{l||(s++,i.removeEntry(o,He.min()))})))).next((()=>i.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),le.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),le.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),le.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=jy(e.data.value)),n}wr(e,n,s){return le.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.fi.get(n);return le.resolve(r!==void 0&&r>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class YT{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=r}static Es(e,n){let s=lt(),r=lt();for(const i of n.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new YT(e,n.fromCache,s,r)}}class EG{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class SG{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return qF()?8:WW(Ts())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,r){const i={result:null};return this.gs(e,n).next((o=>{i.result=o})).next((()=>{if(!i.result)return this.ps(e,n,r,s).next((o=>{i.result=o}))})).next((()=>{if(i.result)return;const o=new EG;return this.ys(e,n,o).next((l=>{if(i.result=l,this.As)return this.ws(e,n,o,l.size)}))})).next((()=>i.result))}ws(e,n,s,r){return s.documentReadCount<this.Vs?(ud()<=ot.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",dd(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),le.resolve()):(ud()<=ot.DEBUG&&Ee("QueryEngine","Query:",dd(n),"scans",s.documentReadCount,"local documents and returns",r,"documents as results."),s.documentReadCount>this.ds*r?(ud()<=ot.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",dd(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zi(n))):le.resolve())}gs(e,n){if(GR(n))return le.resolve(null);let s=Zi(n);return this.indexManager.getIndexType(e,s).next((r=>r===0?null:(n.limit!==null&&r===1&&(n=b0(n,null,"F"),s=Zi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((i=>{const o=lt(...i);return this.fs.getDocuments(e,o).next((l=>this.indexManager.getMinOffset(e,s).next((u=>{const d=this.bs(n,l);return this.Ss(n,d,o,u.readTime)?this.gs(e,b0(n,null,"F")):this.Ds(e,d,n,u)}))))})))))}ps(e,n,s,r){return GR(n)||r.isEqual(He.min())?le.resolve(null):this.fs.getDocuments(e,s).next((i=>{const o=this.bs(n,i);return this.Ss(n,o,s,r)?le.resolve(null):(ud()<=ot.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),dd(n)),this.Ds(e,o,n,UW(r,Sp)).next((l=>l)))}))}bs(e,n){let s=new Pn(_O(e));return n.forEach(((r,i)=>{tv(e,i)&&(s=s.add(i))})),s}Ss(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}ys(e,n,s){return ud()<=ot.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",dd(n)),this.fs.getDocumentsMatchingQuery(e,n,_l.min(),s)}Ds(e,n,s,r){return this.fs.getDocumentsMatchingQuery(e,s,r).next((i=>(n.forEach((o=>{i=i.insert(o.key,o)})),i)))}}const XT="LocalStore",TG=3e8;class _G{constructor(e,n,s,r){this.persistence=e,this.Cs=n,this.serializer=r,this.vs=new Kt(at),this.Fs=new uu((i=>BT(i)),UT),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fG(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function AG(t,e,n,s){return new _G(t,e,n,s)}async function XO(t,e){const n=qe(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next((i=>(r=i,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((i=>{const o=[],l=[];let u=lt();for(const d of r){o.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}for(const d of i){l.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(s,u).next((d=>({Ns:d,removedBatchIds:o,addedBatchIds:l})))}))}))}function CG(t,e){const n=qe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const r=e.batch.keys(),i=n.xs.newChangeBuffer({trackRemovals:!0});return(function(l,u,d,f){const p=d.batch,y=p.keys();let x=le.resolve();return y.forEach((w=>{x=x.next((()=>f.getEntry(u,w))).next((T=>{const S=d.docVersions.get(w);gt(S!==null,48541),T.version.compareTo(S)<0&&(p.applyToRemoteDocument(T,d),T.isValidDocument()&&(T.setReadTime(d.commitVersion),f.addEntry(T)))}))})),x.next((()=>l.mutationQueue.removeMutationBatch(u,p)))})(n,s,e,i).next((()=>i.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,r,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(l){let u=lt();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(u=u.add(l.batch.mutations[d].key));return u})(e)))).next((()=>n.localDocuments.getDocuments(s,r)))}))}function QO(t){const e=qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function kG(t,e){const n=qe(t),s=e.snapshotVersion;let r=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const o=n.xs.newChangeBuffer({trackRemovals:!0});r=n.vs;const l=[];e.targetChanges.forEach(((f,p)=>{const y=r.get(p);if(!y)return;l.push(n.li.removeMatchingKeys(i,f.removedDocuments,p).next((()=>n.li.addMatchingKeys(i,f.addedDocuments,p))));let x=y.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?x=x.withResumeToken(ls.EMPTY_BYTE_STRING,He.min()).withLastLimboFreeSnapshotVersion(He.min()):f.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(f.resumeToken,s)),r=r.insert(p,x),(function(T,S,A){return T.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=TG?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0})(y,x,f)&&l.push(n.li.updateTargetData(i,x))}));let u=ia(),d=lt();if(e.documentUpdates.forEach((f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,f))})),l.push(NG(i,o,e.documentUpdates).next((f=>{u=f.Bs,d=f.Ls}))),!s.isEqual(He.min())){const f=n.li.getLastRemoteSnapshotVersion(i).next((p=>n.li.setTargetsMetadata(i,i.currentSequenceNumber,s)));l.push(f)}return le.waitFor(l).next((()=>o.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,u,d))).next((()=>u))})).then((i=>(n.vs=r,i)))}function NG(t,e,n){let s=lt(),r=lt();return n.forEach((i=>s=s.add(i))),e.getEntries(t,s).next((i=>{let o=ia();return n.forEach(((l,u)=>{const d=i.get(l);u.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(l)),u.isNoDocument()&&u.version.isEqual(He.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):Ee(XT,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",u.version)})),{Bs:o,Ls:r}}))}function RG(t,e){const n=qe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=LT),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function MG(t,e){const n=qe(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let r;return n.li.getTargetData(s,e).next((i=>i?(r=i,le.resolve(r)):n.li.allocateTargetId(s).next((o=>(r=new cl(e,o,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,r).next((()=>r)))))))})).then((s=>{const r=n.vs.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function HE(t,e,n){const s=qe(t),r=s.vs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",i,(o=>s.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!oh(o))throw o;Ee(XT,`Failed to update sequence numbers for target ${e}: ${o}`)}s.vs=s.vs.remove(e),s.Fs.delete(r.target)}function aM(t,e,n){const s=qe(t);let r=He.min(),i=lt();return s.persistence.runTransaction("Execute query","readwrite",(o=>(function(u,d,f){const p=qe(u),y=p.Fs.get(f);return y!==void 0?le.resolve(p.vs.get(y)):p.li.getTargetData(d,f)})(s,o,Zi(e)).next((l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(o,l.targetId).next((u=>{i=u}))})).next((()=>s.Cs.getDocumentsMatchingQuery(o,e,n?r:He.min(),n?i:lt()))).next((l=>(IG(s,gK(e),l),{documents:l,ks:i})))))}function IG(t,e,n){let s=t.Ms.get(e)||He.min();n.forEach(((r,i)=>{i.readTime.compareTo(s)>0&&(s=i.readTime)})),t.Ms.set(e,s)}class lM{constructor(){this.activeTargetIds=EK()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DG{constructor(){this.vo=new lM,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new lM,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class PG{Mo(e){}shutdown(){}}const cM="ConnectivityMonitor";class uM{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Ee(cM,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Ee(cM,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ty=null;function $E(){return ty===null?ty=(function(){return 268435456+Math.round(2147483648*Math.random())})():ty++,"0x"+ty.toString(16)}const aw="RestConnection",OG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class jG{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${r}`,this.$o=this.databaseId.database===y0?`project_id=${s}`:`project_id=${s}&database_id=${r}`}Wo(e,n,s,r,i){const o=$E(),l=this.Qo(e,n.toUriEncodedString());Ee(aw,`Sending RPC '${e}' ${o}:`,l,s);const u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(u,r,i);const{host:d}=new URL(l),f=Ll(d);return this.zo(e,l,u,s,f).then((p=>(Ee(aw,`Received RPC '${e}' ${o}: `,p),p)),(p=>{throw Yc(aw,`RPC '${e}' ${o} failed with error: `,p,"url: ",l,"request:",s),p}))}jo(e,n,s,r,i,o){return this.Wo(e,n,s,r,i)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+rh})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((r,i)=>e[i]=r)),s&&s.headers.forEach(((r,i)=>e[i]=r))}Qo(e,n){const s=OG[e];let r=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(r=`${r}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),r}terminate(){}}class LG{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const gs="WebChannelConnection",Tf=(t,e,n)=>{t.listen(e,(s=>{try{n(s)}catch(r){setTimeout((()=>{throw r}),0)}}))};class kd extends jG{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!kd.c_){const e=tO();Tf(e,eO.STAT_EVENT,(n=>{n.stat===IE.PROXY?Ee(gs,"STAT_EVENT: detected buffering proxy"):n.stat===IE.NOPROXY&&Ee(gs,"STAT_EVENT: detected no buffering proxy")})),kd.c_=!0}}zo(e,n,s,r,i){const o=$E();return new Promise(((l,u)=>{const d=new JP;d.setWithCredentials(!0),d.listenOnce(ZP.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Oy.NO_ERROR:const p=d.getResponseJson();Ee(gs,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),l(p);break;case Oy.TIMEOUT:Ee(gs,`RPC '${e}' ${o} timed out`),u(new be(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Oy.HTTP_ERROR:const y=d.getStatus();if(Ee(gs,`RPC '${e}' ${o} failed with status:`,y,"response text:",d.getResponseText()),y>0){let x=d.getResponseJson();Array.isArray(x)&&(x=x[0]);const w=x?.error;if(w&&w.status&&w.message){const T=(function(A){const N=A.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(N)>=0?N:oe.UNKNOWN})(w.status);u(new be(T,w.message))}else u(new be(oe.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new be(oe.UNAVAILABLE,"Connection failed."));break;default:Ue(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Ee(gs,`RPC '${e}' ${o} completed.`)}}));const f=JSON.stringify(r);Ee(gs,`RPC '${e}' ${o} sending request:`,r),d.send(n,"POST",f,s,15)}))}T_(e,n,s){const r=$E(),i=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=this.createWebChannelTransport(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Go(l.initMessageHeaders,n,s),l.encodeInitMessageHeaders=!0;const d=i.join("");Ee(gs,`Creating RPC '${e}' stream ${r}: ${d}`,l);const f=o.createWebChannel(d,l);this.I_(f);let p=!1,y=!1;const x=new LG({Ho:w=>{y?Ee(gs,`Not sending because RPC '${e}' stream ${r} is closed:`,w):(p||(Ee(gs,`Opening RPC '${e}' stream ${r} transport.`),f.open(),p=!0),Ee(gs,`RPC '${e}' stream ${r} sending:`,w),f.send(w))},Jo:()=>f.close()});return Tf(f,Of.EventType.OPEN,(()=>{y||(Ee(gs,`RPC '${e}' stream ${r} transport opened.`),x.i_())})),Tf(f,Of.EventType.CLOSE,(()=>{y||(y=!0,Ee(gs,`RPC '${e}' stream ${r} transport closed`),x.o_(),this.E_(f))})),Tf(f,Of.EventType.ERROR,(w=>{y||(y=!0,Yc(gs,`RPC '${e}' stream ${r} transport errored. Name:`,w.name,"Message:",w.message),x.o_(new be(oe.UNAVAILABLE,"The operation could not be completed")))})),Tf(f,Of.EventType.MESSAGE,(w=>{if(!y){const T=w.data[0];gt(!!T,16349);const S=T,A=S?.error||S[0]?.error;if(A){Ee(gs,`RPC '${e}' stream ${r} received error:`,A);const N=A.status;let P=(function(F){const I=wn[F];if(I!==void 0)return LO(I)})(N),O=A.message;N==="NOT_FOUND"&&O.includes("database")&&O.includes("does not exist")&&O.includes(this.databaseId.database)&&Yc(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),P===void 0&&(P=oe.INTERNAL,O="Unknown error status: "+N+" with message "+A.message),y=!0,x.o_(new be(P,O)),f.close()}else Ee(gs,`RPC '${e}' stream ${r} received:`,T),x.__(T)}})),kd.u_(),setTimeout((()=>{x.s_()}),0),x}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return nO()}}function VG(t){return new kd(t)}function lw(){return typeof document<"u"?document:null}function iv(t){return new FK(t,!0)}kd.c_=!1;class JO{constructor(e,n,s=1e3,r=1.5,i=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=r,this.V_=i,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-s);r>0&&Ee("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const dM="PersistentStream";class ZO{constructor(e,n,s,r,i,o,l,u){this.Ci=e,this.b_=s,this.S_=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new JO(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(ra(n.toString()),ra("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,r])=>{this.D_===n&&this.G_(s,r)}),(s=>{e((()=>{const r=new be(oe.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(r)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((r=>{s((()=>this.z_(r)))})),this.stream.onMessage((r=>{s((()=>++this.F_==1?this.H_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ee(dM,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(Ee(dM,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class zG extends ZO{constructor(e,n,s,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=qK(this.serializer,e),s=(function(i){if(!("targetChange"in i))return He.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?He.min():o.readTime?eo(o.readTime):He.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=FE(this.serializer),n.addTarget=(function(i,o){let l;const u=o.target;if(l=LE(u)?{documents:GK(i,u)}:{query:YK(i,u).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=BO(i,o.resumeToken);const d=zE(i,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(He.min())>0){l.readTime=E0(i,o.snapshotVersion.toTimestamp());const d=zE(i,o.expectedCount);d!==null&&(l.expectedCount=d)}return l})(this.serializer,e);const s=QK(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=FE(this.serializer),n.removeTarget=e,this.K_(n)}}class BG extends ZO{constructor(e,n,s,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,o),this.serializer=i}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return gt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,gt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){gt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=KK(e.writeResults,e.commitTime),s=eo(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=FE(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>WK(this.serializer,s)))};this.K_(n)}}class UG{}class FG extends UG{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new be(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.Wo(e,BE(n,s),r,i,o))).catch((i=>{throw i.name==="FirebaseError"?(i.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new be(oe.UNKNOWN,i.toString())}))}jo(e,n,s,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.jo(e,BE(n,s),r,o,l,i))).catch((o=>{throw o.name==="FirebaseError"?(o.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new be(oe.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function HG(t,e,n,s){return new FG(t,e,n,s)}class $G{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ra(n),this.aa=!1):Ee("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Xc="RemoteStore";class qG{constructor(e,n,s,r,i){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=i,this.Aa.Mo((o=>{s.enqueueAndForget((async()=>{du(this)&&(Ee(Xc,"Restarting streams for network reachability change."),await(async function(u){const d=qe(u);d.Ea.add(4),await um(d),d.Va.set("Unknown"),d.Ea.delete(4),await ov(d)})(this))}))})),this.Va=new $G(s,r)}}async function ov(t){if(du(t))for(const e of t.Ra)await e(!0)}async function um(t){for(const e of t.Ra)await e(!1)}function e5(t,e){const n=qe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),e_(n)?ZT(n):lh(n).O_()&&JT(n,e))}function QT(t,e){const n=qe(t),s=lh(n);n.Ia.delete(e),s.O_()&&t5(n,e),n.Ia.size===0&&(s.O_()?s.L_():du(n)&&n.Va.set("Unknown"))}function JT(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(He.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}lh(t).Z_(e)}function t5(t,e){t.da.$e(e),lh(t).X_(e)}function ZT(t){t.da=new VK({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),lh(t).start(),t.Va.ua()}function e_(t){return du(t)&&!lh(t).x_()&&t.Ia.size>0}function du(t){return qe(t).Ea.size===0}function n5(t){t.da=void 0}async function WG(t){t.Va.set("Online")}async function KG(t){t.Ia.forEach(((e,n)=>{JT(t,e)}))}async function GG(t,e){n5(t),e_(t)?(t.Va.ha(e),ZT(t)):t.Va.set("Unknown")}async function YG(t,e,n){if(t.Va.set("Online"),e instanceof zO&&e.state===2&&e.cause)try{await(async function(r,i){const o=i.cause;for(const l of i.targetIds)r.Ia.has(l)&&(await r.remoteSyncer.rejectListen(l,o),r.Ia.delete(l),r.da.removeTarget(l))})(t,e)}catch(s){Ee(Xc,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await T0(t,s)}else if(e instanceof zy?t.da.Xe(e):e instanceof VO?t.da.st(e):t.da.tt(e),!n.isEqual(He.min()))try{const s=await QO(t.localStore);n.compareTo(s)>=0&&await(function(i,o){const l=i.da.Tt(o);return l.targetChanges.forEach(((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const f=i.Ia.get(d);f&&i.Ia.set(d,f.withResumeToken(u.resumeToken,o))}})),l.targetMismatches.forEach(((u,d)=>{const f=i.Ia.get(u);if(!f)return;i.Ia.set(u,f.withResumeToken(ls.EMPTY_BYTE_STRING,f.snapshotVersion)),t5(i,u);const p=new cl(f.target,u,d,f.sequenceNumber);JT(i,p)})),i.remoteSyncer.applyRemoteEvent(l)})(t,n)}catch(s){Ee(Xc,"Failed to raise snapshot:",s),await T0(t,s)}}async function T0(t,e,n){if(!oh(e))throw e;t.Ea.add(1),await um(t),t.Va.set("Offline"),n||(n=()=>QO(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ee(Xc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await ov(t)}))}function s5(t,e){return e().catch((n=>T0(t,n,e)))}async function av(t){const e=qe(t),n=Nl(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:LT;for(;XG(e);)try{const r=await RG(e.localStore,s);if(r===null){e.Ta.length===0&&n.L_();break}s=r.batchId,QG(e,r)}catch(r){await T0(e,r)}r5(e)&&i5(e)}function XG(t){return du(t)&&t.Ta.length<10}function QG(t,e){t.Ta.push(e);const n=Nl(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function r5(t){return du(t)&&!Nl(t).x_()&&t.Ta.length>0}function i5(t){Nl(t).start()}async function JG(t){Nl(t).ra()}async function ZG(t){const e=Nl(t);for(const n of t.Ta)e.ea(n.mutations)}async function eY(t,e,n){const s=t.Ta.shift(),r=$T.from(s,e,n);await s5(t,(()=>t.remoteSyncer.applySuccessfulWrite(r))),await av(t)}async function tY(t,e){e&&Nl(t).Y_&&await(async function(s,r){if((function(o){return OK(o)&&o!==oe.ABORTED})(r.code)){const i=s.Ta.shift();Nl(s).B_(),await s5(s,(()=>s.remoteSyncer.rejectFailedWrite(i.batchId,r))),await av(s)}})(t,e),r5(t)&&i5(t)}async function hM(t,e){const n=qe(t);n.asyncQueue.verifyOperationInProgress(),Ee(Xc,"RemoteStore received new credentials");const s=du(n);n.Ea.add(3),await um(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ov(n)}async function nY(t,e){const n=qe(t);e?(n.Ea.delete(2),await ov(n)):e||(n.Ea.add(2),await um(n),n.Va.set("Unknown"))}function lh(t){return t.ma||(t.ma=(function(n,s,r){const i=qe(n);return i.sa(),new zG(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)})(t.datastore,t.asyncQueue,{Zo:WG.bind(null,t),Yo:KG.bind(null,t),t_:GG.bind(null,t),J_:YG.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),e_(t)?ZT(t):t.Va.set("Unknown")):(await t.ma.stop(),n5(t))}))),t.ma}function Nl(t){return t.fa||(t.fa=(function(n,s,r){const i=qe(n);return i.sa(),new BG(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:JG.bind(null,t),t_:tY.bind(null,t),ta:ZG.bind(null,t),na:eY.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await av(t)):(await t.fa.stop(),t.Ta.length>0&&(Ee(Xc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class t_{constructor(e,n,s,r,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=i,this.deferred=new Qo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,r,i){const o=Date.now()+s,l=new t_(e,n,o,r,i);return l.start(s),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function n_(t,e){if(ra("AsyncQueue",`${e}: ${t}`),oh(t))return new be(oe.UNAVAILABLE,`${e}: ${t}`);throw t}class Nd{static emptySet(e){return new Nd(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||je.comparator(n.key,s.key):(n,s)=>je.comparator(n.key,s.key),this.keyedMap=jf(),this.sortedSet=new Kt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Nd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(!r.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Nd;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class fM{constructor(){this.ga=new Kt(je.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ue(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Ud{constructor(e,n,s,r,i,o,l,u,d){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,s,r,i){const o=[];return n.forEach((l=>{o.push({type:0,doc:l})})),new Ud(e,n,Nd.emptySet(n),o,s,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ev(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}class sY{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class rY{constructor(){this.queries=pM(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const r=qe(n),i=r.queries;r.queries=pM(),i.forEach(((o,l)=>{for(const u of l.ba)u.onError(s)}))})(this,new be(oe.ABORTED,"Firestore shutting down"))}}function pM(){return new uu((t=>TO(t)),ev)}async function o5(t,e){const n=qe(t);let s=3;const r=e.query;let i=n.queries.get(r);i?!i.Sa()&&e.Da()&&(s=2):(i=new sY,s=e.Da()?0:1);try{switch(s){case 0:i.wa=await n.onListen(r,!0);break;case 1:i.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(o){const l=n_(o,`Initialization of query '${dd(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,i),i.ba.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&s_(n)}async function a5(t,e){const n=qe(t),s=e.query;let r=3;const i=n.queries.get(s);if(i){const o=i.ba.indexOf(e);o>=0&&(i.ba.splice(o,1),i.ba.length===0?r=e.Da()?0:1:!i.Sa()&&e.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function iY(t,e){const n=qe(t);let s=!1;for(const r of e){const i=r.query,o=n.queries.get(i);if(o){for(const l of o.ba)l.Fa(r)&&(s=!0);o.wa=r}}s&&s_(n)}function oY(t,e,n){const s=qe(t),r=s.queries.get(e);if(r)for(const i of r.ba)i.onError(n);s.queries.delete(e)}function s_(t){t.Ca.forEach((e=>{e.next()}))}var qE,mM;(mM=qE||(qE={})).Ma="default",mM.Cache="cache";class l5{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new Ud(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ud.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==qE.Cache}}class c5{constructor(e){this.key=e}}class u5{constructor(e){this.key=e}}class aY{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=lt(),this.mutatedKeys=lt(),this.eu=_O(e),this.tu=new Nd(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new fM,r=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=r,l=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((f,p)=>{const y=r.get(f),x=tv(this.query,p)?p:null,w=!!y&&this.mutatedKeys.has(y.key),T=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let S=!1;y&&x?y.data.isEqual(x.data)?w!==T&&(s.track({type:3,doc:x}),S=!0):this.su(y,x)||(s.track({type:2,doc:x}),S=!0,(u&&this.eu(x,u)>0||d&&this.eu(x,d)<0)&&(l=!0)):!y&&x?(s.track({type:0,doc:x}),S=!0):y&&!x&&(s.track({type:1,doc:y}),S=!0,(u||d)&&(l=!0)),S&&(x?(o=o.add(x),i=T?i.add(f):i.delete(f)):(o=o.delete(f),i=i.delete(f)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),i=i.delete(f.key),s.track({type:1,doc:f})}return{tu:o,iu:s,Ss:l,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((f,p)=>(function(x,w){const T=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue(20277,{Vt:S})}};return T(x)-T(w)})(f.type,p.type)||this.eu(f.doc,p.doc))),this.ou(s),r=r??!1;const l=n&&!r?this._u():[],u=this.Ya.size===0&&this.current&&!r?1:0,d=u!==this.Xa;return this.Xa=u,o.length!==0||d?{snapshot:new Ud(this.query,e.tu,i,o,e.mutatedKeys,u===0,d,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new fM,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=lt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new u5(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new c5(s))})),n}cu(e){this.Za=e.ks,this.Ya=lt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ud.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const r_="SyncEngine";class lY{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class cY{constructor(e){this.key=e,this.hu=!1}}class uY{constructor(e,n,s,r,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new uu((l=>TO(l)),ev),this.Iu=new Map,this.Eu=new Set,this.Ru=new Kt(je.comparator),this.Au=new Map,this.Vu=new KT,this.du={},this.mu=new Map,this.fu=Bd.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function dY(t,e,n=!0){const s=g5(t);let r;const i=s.Tu.get(e);return i?(s.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.lu()):r=await d5(s,e,n,!0),r}async function hY(t,e){const n=g5(t);await d5(n,e,!0,!1)}async function d5(t,e,n,s){const r=await MG(t.localStore,Zi(e)),i=r.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return s&&(l=await fY(t,e,i,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&e5(t.remoteStore,r),l}async function fY(t,e,n,s,r){t.pu=(p,y,x)=>(async function(T,S,A,N){let P=S.view.ru(A);P.Ss&&(P=await aM(T.localStore,S.query,!1).then((({documents:I})=>S.view.ru(I,P))));const O=N&&N.targetChanges.get(S.targetId),L=N&&N.targetMismatches.get(S.targetId)!=null,F=S.view.applyChanges(P,T.isPrimaryClient,O,L);return yM(T,S.targetId,F.au),F.snapshot})(t,p,y,x);const i=await aM(t.localStore,e,!0),o=new aY(e,i.ks),l=o.ru(i.documents),u=cm.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",r),d=o.applyChanges(l,t.isPrimaryClient,u);yM(t,n,d.au);const f=new lY(e,n,o);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function pY(t,e,n){const s=qe(t),r=s.Tu.get(e),i=s.Iu.get(r.targetId);if(i.length>1)return s.Iu.set(r.targetId,i.filter((o=>!ev(o,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(r.targetId),s.sharedClientState.isActiveQueryTarget(r.targetId)||await HE(s.localStore,r.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(r.targetId),n&&QT(s.remoteStore,r.targetId),WE(s,r.targetId)})).catch(ih)):(WE(s,r.targetId),await HE(s.localStore,r.targetId,!0))}async function mY(t,e){const n=qe(t),s=n.Tu.get(e),r=n.Iu.get(s.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),QT(n.remoteStore,s.targetId))}async function gY(t,e,n){const s=SY(t);try{const r=await(function(o,l){const u=qe(o),d=jt.now(),f=l.reduce(((x,w)=>x.add(w.key)),lt());let p,y;return u.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let w=ia(),T=lt();return u.xs.getEntries(x,f).next((S=>{w=S,w.forEach(((A,N)=>{N.isValidDocument()||(T=T.add(A))}))})).next((()=>u.localDocuments.getOverlayedDocuments(x,w))).next((S=>{p=S;const A=[];for(const N of l){const P=RK(N,p.get(N.key).overlayedDocument);P!=null&&A.push(new Bl(N.key,P,gO(P.value.mapValue),di.exists(!0)))}return u.mutationQueue.addMutationBatch(x,d,A,l)})).next((S=>{y=S;const A=S.applyToLocalDocumentSet(p,T);return u.documentOverlayCache.saveOverlays(x,S.batchId,A)}))})).then((()=>({batchId:y.batchId,changes:CO(p)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(r.batchId),(function(o,l,u){let d=o.du[o.currentUser.toKey()];d||(d=new Kt(at)),d=d.insert(l,u),o.du[o.currentUser.toKey()]=d})(s,r.batchId,n),await dm(s,r.changes),await av(s.remoteStore)}catch(r){const i=n_(r,"Failed to persist write");n.reject(i)}}async function h5(t,e){const n=qe(t);try{const s=await kG(n.localStore,e);e.targetChanges.forEach(((r,i)=>{const o=n.Au.get(i);o&&(gt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?o.hu=!0:r.modifiedDocuments.size>0?gt(o.hu,14607):r.removedDocuments.size>0&&(gt(o.hu,42227),o.hu=!1))})),await dm(n,s,e)}catch(s){await ih(s)}}function gM(t,e,n){const s=qe(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.Tu.forEach(((i,o)=>{const l=o.view.va(e);l.snapshot&&r.push(l.snapshot)})),(function(o,l){const u=qe(o);u.onlineState=l;let d=!1;u.queries.forEach(((f,p)=>{for(const y of p.ba)y.va(l)&&(d=!0)})),d&&s_(u)})(s.eventManager,e),r.length&&s.Pu.J_(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function yY(t,e,n){const s=qe(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s.Au.get(e),i=r&&r.key;if(i){let o=new Kt(je.comparator);o=o.insert(i,bs.newNoDocument(i,He.min()));const l=lt().add(i),u=new rv(He.min(),new Map,new Kt(at),o,l);await h5(s,u),s.Ru=s.Ru.remove(i),s.Au.delete(e),i_(s)}else await HE(s.localStore,e,!1).then((()=>WE(s,e,n))).catch(ih)}async function xY(t,e){const n=qe(t),s=e.batch.batchId;try{const r=await CG(n.localStore,e);p5(n,s,null),f5(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await dm(n,r)}catch(r){await ih(r)}}async function vY(t,e,n){const s=qe(t);try{const r=await(function(o,l){const u=qe(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let f;return u.mutationQueue.lookupMutationBatch(d,l).next((p=>(gt(p!==null,37113),f=p.keys(),u.mutationQueue.removeMutationBatch(d,p)))).next((()=>u.mutationQueue.performConsistencyCheck(d))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(d,f,l))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f))).next((()=>u.localDocuments.getDocuments(d,f)))}))})(s.localStore,e);p5(s,e,n),f5(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await dm(s,r)}catch(r){await ih(r)}}function f5(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function p5(t,e,n){const s=qe(t);let r=s.du[s.currentUser.toKey()];if(r){const i=r.get(e);i&&(n?i.reject(n):i.resolve(),r=r.remove(e)),s.du[s.currentUser.toKey()]=r}}function WE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((s=>{t.Vu.containsKey(s)||m5(t,s)}))}function m5(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(QT(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),i_(t))}function yM(t,e,n){for(const s of n)s instanceof c5?(t.Vu.addReference(s.key,e),bY(t,s)):s instanceof u5?(Ee(r_,"Document no longer in limbo: "+s.key),t.Vu.removeReference(s.key,e),t.Vu.containsKey(s.key)||m5(t,s.key)):Ue(19791,{wu:s})}function bY(t,e){const n=e.key,s=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(s)||(Ee(r_,"New document in limbo: "+n),t.Eu.add(s),i_(t))}function i_(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new je(Mt.fromString(e)),s=t.fu.next();t.Au.set(s,new cY(n)),t.Ru=t.Ru.insert(n,s),e5(t.remoteStore,new cl(Zi(FT(n.path)),s,"TargetPurposeLimboResolution",Qx.ce))}}async function dm(t,e,n){const s=qe(t),r=[],i=[],o=[];s.Tu.isEmpty()||(s.Tu.forEach(((l,u)=>{o.push(s.pu(u,e,n).then((d=>{if((d||n)&&s.isPrimaryClient){const f=d?!d.fromCache:n?.targetChanges.get(u.targetId)?.current;s.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(d){r.push(d);const f=YT.Es(u.targetId,d);i.push(f)}})))})),await Promise.all(o),s.Pu.J_(r),await(async function(u,d){const f=qe(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>le.forEach(d,(y=>le.forEach(y.Ts,(x=>f.persistence.referenceDelegate.addReference(p,y.targetId,x))).next((()=>le.forEach(y.Is,(x=>f.persistence.referenceDelegate.removeReference(p,y.targetId,x)))))))))}catch(p){if(!oh(p))throw p;Ee(XT,"Failed to update sequence numbers: "+p)}for(const p of d){const y=p.targetId;if(!p.fromCache){const x=f.vs.get(y),w=x.snapshotVersion,T=x.withLastLimboFreeSnapshotVersion(w);f.vs=f.vs.insert(y,T)}}})(s.localStore,i))}async function wY(t,e){const n=qe(t);if(!n.currentUser.isEqual(e)){Ee(r_,"User change. New user:",e.toKey());const s=await XO(n.localStore,e);n.currentUser=e,(function(i,o){i.mu.forEach((l=>{l.forEach((u=>{u.reject(new be(oe.CANCELLED,o))}))})),i.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await dm(n,s.Ns)}}function EY(t,e){const n=qe(t),s=n.Au.get(e);if(s&&s.hu)return lt().add(s.key);{let r=lt();const i=n.Iu.get(e);if(!i)return r;for(const o of i){const l=n.Tu.get(o);r=r.unionWith(l.view.nu)}return r}}function g5(t){const e=qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=h5.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EY.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yY.bind(null,e),e.Pu.J_=iY.bind(null,e.eventManager),e.Pu.yu=oY.bind(null,e.eventManager),e}function SY(t){const e=qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xY.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vY.bind(null,e),e}class _0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=iv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return AG(this.persistence,new SG,e.initialUser,this.serializer)}Cu(e){return new YO(GT.Vi,this.serializer)}Du(e){return new DG}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_0.provider={build:()=>new _0};class TY extends _0{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){gt(this.persistence.referenceDelegate instanceof S0,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new lG(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ys.withCacheSize(this.cacheSizeBytes):Ys.DEFAULT;return new YO((s=>S0.Vi(s,n)),this.serializer)}}class KE{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>gM(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=wY.bind(null,this.syncEngine),await nY(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new rY})()}createDatastore(e){const n=iv(e.databaseInfo.databaseId),s=VG(e.databaseInfo);return HG(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,r,i,o,l){return new qG(s,r,i,o,l)})(this.localStore,this.datastore,e.asyncQueue,(n=>gM(this.syncEngine,n,0)),(function(){return uM.v()?new uM:new PG})())}createSyncEngine(e,n){return(function(r,i,o,l,u,d,f){const p=new uY(r,i,o,l,u,d);return f&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=qe(n);Ee(Xc,"RemoteStore shutting down."),s.Ea.add(5),await um(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}KE.provider={build:()=>new KE};class y5{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ra("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Rl="FirestoreClient";class _Y{constructor(e,n,s,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=r,this.user=xs.UNAUTHENTICATED,this.clientId=jT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(s,(async o=>{Ee(Rl,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(s,(o=>(Ee(Rl,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=n_(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function cw(t,e){t.asyncQueue.verifyOperationInProgress(),Ee(Rl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async r=>{s.isEqual(r)||(await XO(e.localStore,r),s=r)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function xM(t,e){t.asyncQueue.verifyOperationInProgress();const n=await AY(t);Ee(Rl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>hM(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,r)=>hM(e.remoteStore,r))),t._onlineComponents=e}async function AY(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ee(Rl,"Using user provided OfflineComponentProvider");try{await cw(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(r){return r.name==="FirebaseError"?r.code===oe.FAILED_PRECONDITION||r.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(n))throw n;Yc("Error using user provided cache. Falling back to memory cache: "+n),await cw(t,new _0)}}else Ee(Rl,"Using default OfflineComponentProvider"),await cw(t,new TY(void 0));return t._offlineComponents}async function x5(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ee(Rl,"Using user provided OnlineComponentProvider"),await xM(t,t._uninitializedComponentsProvider._online)):(Ee(Rl,"Using default OnlineComponentProvider"),await xM(t,new KE))),t._onlineComponents}function CY(t){return x5(t).then((e=>e.syncEngine))}async function v5(t){const e=await x5(t),n=e.eventManager;return n.onListen=dY.bind(null,e.syncEngine),n.onUnlisten=pY.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=hY.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=mY.bind(null,e.syncEngine),n}function kY(t,e,n={}){const s=new Qo;return t.asyncQueue.enqueueAndForget((async()=>(function(i,o,l,u,d){const f=new y5({next:y=>{f.Nu(),o.enqueueAndForget((()=>a5(i,p)));const x=y.docs.has(l);!x&&y.fromCache?d.reject(new be(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&y.fromCache&&u&&u.source==="server"?d.reject(new be(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(y)},error:y=>d.reject(y)}),p=new l5(FT(l.path),f,{includeMetadataChanges:!0,Ka:!0});return o5(i,p)})(await v5(t),t.asyncQueue,e,n,s))),s.promise}function NY(t,e,n={}){const s=new Qo;return t.asyncQueue.enqueueAndForget((async()=>(function(i,o,l,u,d){const f=new y5({next:y=>{f.Nu(),o.enqueueAndForget((()=>a5(i,p))),y.fromCache&&u.source==="server"?d.reject(new be(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(y)},error:y=>d.reject(y)}),p=new l5(l,f,{includeMetadataChanges:!0,Ka:!0});return o5(i,p)})(await v5(t),t.asyncQueue,e,n,s))),s.promise}function RY(t,e){const n=new Qo;return t.asyncQueue.enqueueAndForget((async()=>gY(await CY(t),e,n))),n.promise}function b5(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const MY="ComponentProvider",vM=new Map;function IY(t,e,n,s,r){return new QW(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,b5(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator,s)}const w5="firestore.googleapis.com",bM=!0;class wM{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new be(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=w5,this.ssl=bM}else this.host=e.host,this.ssl=e.ssl??bM;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=GO;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oG)throw new be(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BW("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=b5(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new be(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new be(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new be(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,r){return s.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lv{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wM({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wM(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new RW;switch(s.type){case"firstParty":return new PW(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new be(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=vM.get(n);s&&(Ee(MY,"Removing Datastore"),vM.delete(n),s.terminate())})(this),Promise.resolve()}}function DY(t,e,n,s={}){t=ro(t,lv);const r=Ll(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;r&&(ET(`https://${l}`),ST("Firestore",!0)),i.host!==w5&&i.host!==l&&Yc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...i,host:l,ssl:r,emulatorOptions:s};if(!$c(u,o)&&(t._setSettings(u),s.mockUserToken)){let d,f;if(typeof s.mockUserToken=="string")d=s.mockUserToken,f=xs.MOCK_USER;else{d=dP(s.mockUserToken,t._app?.options.projectId);const p=s.mockUserToken.sub||s.mockUserToken.user_id;if(!p)throw new be(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new xs(p)}t._authCredentials=new MW(new rO(d,f))}}class Ul{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ul(this.firestore,e,this._query)}}class cn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}toJSON(){return{type:cn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(am(n,cn._jsonSchema))return new cn(e,s||null,new je(Mt.fromString(n.referencePath)))}}cn._jsonSchemaVersion="firestore/documentReference/1.0",cn._jsonSchema={type:_n("string",cn._jsonSchemaVersion),referencePath:_n("string")};class yl extends Ul{constructor(e,n,s){super(e,n,FT(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new je(e))}withConverter(e){return new yl(this.firestore,e,this._path)}}function Jo(t,e,...n){if(t=Wt(t),iO("collection","path",e),t instanceof lv){const s=Mt.fromString(e,...n);return PR(s),new yl(t,null,s)}{if(!(t instanceof cn||t instanceof yl))throw new be(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Mt.fromString(e,...n));return PR(s),new yl(t.firestore,null,s)}}function xl(t,e,...n){if(t=Wt(t),arguments.length===1&&(e=jT.newId()),iO("doc","path",e),t instanceof lv){const s=Mt.fromString(e,...n);return DR(s),new cn(t,null,new je(s))}{if(!(t instanceof cn||t instanceof yl))throw new be(oe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Mt.fromString(e,...n));return DR(s),new cn(t.firestore,t instanceof yl?t.converter:null,new je(s))}}const EM="AsyncQueue";class SM{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new JO(this,"async_queue_retry"),this._c=()=>{const s=lw();s&&Ee(EM,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=lw();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=lw();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Qo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!oh(e))throw e;Ee(EM,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,ra("INTERNAL UNHANDLED ERROR: ",TM(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const r=t_.createAndSchedule(this,e,n,s,(i=>this.hc(i)));return this.tc.push(r),r}uc(){this.nc&&Ue(47125,{Pc:TM(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function TM(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ch extends lv{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new SM,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new SM(e),this._firestoreClient=void 0,await e}}}function PY(t,e){const n=typeof t=="object"?t:AT(),s=typeof t=="string"?t:y0,r=Wx(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const i=lP("firestore");i&&DY(r,...i)}return r}function o_(t){if(t._terminated)throw new be(oe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||OY(t),t._firestoreClient}function OY(t){const e=t._freezeSettings(),n=IY(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new _Y(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(r){const i=r?._online.build();return{_offline:r?._offline.build(i),_online:i}})(t._componentsProvider))}class Fr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fr(ls.fromBase64String(e))}catch(n){throw new be(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fr(ls.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(am(e,Fr._jsonSchema))return Fr.fromBase64String(e.bytes)}}Fr._jsonSchemaVersion="firestore/bytes/1.0",Fr._jsonSchema={type:_n("string",Fr._jsonSchemaVersion),bytes:_n("string")};class a_{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new be(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new is(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class cv{constructor(e){this._methodName=e}}class to{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new be(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new be(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return at(this._lat,e._lat)||at(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:to._jsonSchemaVersion}}static fromJSON(e){if(am(e,to._jsonSchema))return new to(e.latitude,e.longitude)}}to._jsonSchemaVersion="firestore/geoPoint/1.0",to._jsonSchema={type:_n("string",to._jsonSchemaVersion),latitude:_n("number"),longitude:_n("number")};class hi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,r){if(s.length!==r.length)return!1;for(let i=0;i<s.length;++i)if(s[i]!==r[i])return!1;return!0})(this._values,e._values)}toJSON(){return{type:hi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(am(e,hi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new hi(e.vectorValues);throw new be(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hi._jsonSchemaVersion="firestore/vectorValue/1.0",hi._jsonSchema={type:_n("string",hi._jsonSchemaVersion),vectorValues:_n("object")};const jY=/^__.*__$/;class LY{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Bl(e,this.data,this.fieldMask,n,this.fieldTransforms):new lm(e,this.data,n,this.fieldTransforms)}}class E5{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Bl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function S5(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue(40011,{dataSource:t})}}class l_{constructor(e,n,s,r,i,o){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=r,i===void 0&&this.validatePath(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new l_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return A0(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(S5(this.dataSource)&&jY.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class VY{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||iv(e)}createContext(e,n,s,r=!1){return new l_({dataSource:e,methodName:n,targetDoc:s,path:is.emptyPath(),arrayElement:!1,hasConverter:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uv(t){const e=t._freezeSettings(),n=iv(t._databaseId);return new VY(t._databaseId,!!e.ignoreUndefinedProperties,n)}function T5(t,e,n,s,r,i={}){const o=t.createContext(i.merge||i.mergeFields?2:0,e,n,r);u_("Data must be an object, but it was:",o,s);const l=_5(s,o);let u,d;if(i.merge)u=new xr(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const f=[];for(const p of i.mergeFields){const y=Qc(e,p,n);if(!o.contains(y))throw new be(oe.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);k5(f,y)||f.push(y)}u=new xr(f),d=o.fieldTransforms.filter((p=>u.covers(p.field)))}else u=null,d=o.fieldTransforms;return new LY(new Qs(l),u,d)}class dv extends cv{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dv}}class c_ extends cv{_toFieldTransform(e){return new AK(e.path,new kp)}isEqual(e){return e instanceof c_}}function zY(t,e,n,s){const r=t.createContext(1,e,n);u_("Data must be an object, but it was:",r,s);const i=[],o=Qs.empty();zl(s,((u,d)=>{const f=C5(e,u,n);d=Wt(d);const p=r.childContextForFieldPath(f);if(d instanceof dv)i.push(f);else{const y=hm(d,p);y!=null&&(i.push(f),o.set(f,y))}}));const l=new xr(i);return new E5(o,l,r.fieldTransforms)}function BY(t,e,n,s,r,i){const o=t.createContext(1,e,n),l=[Qc(e,s,n)],u=[r];if(i.length%2!=0)throw new be(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<i.length;y+=2)l.push(Qc(e,i[y])),u.push(i[y+1]);const d=[],f=Qs.empty();for(let y=l.length-1;y>=0;--y)if(!k5(d,l[y])){const x=l[y];let w=u[y];w=Wt(w);const T=o.childContextForFieldPath(x);if(w instanceof dv)d.push(x);else{const S=hm(w,T);S!=null&&(d.push(x),f.set(x,S))}}const p=new xr(d);return new E5(f,p,o.fieldTransforms)}function UY(t,e,n,s=!1){return hm(n,t.createContext(s?4:3,e))}function hm(t,e){if(A5(t=Wt(t)))return u_("Unsupported field value:",e,t),_5(t,e);if(t instanceof cv)return(function(s,r){if(!S5(r.dataSource))throw r.createError(`${s._methodName}() can only be used with update() and set()`);if(!r.path)throw r.createError(`${s._methodName}() is not currently supported inside arrays`);const i=s._toFieldTransform(r);i&&r.fieldTransforms.push(i)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,r){const i=[];let o=0;for(const l of s){let u=hm(l,r.childContextForArray(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}})(t,e)}return(function(s,r){if((s=Wt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return SK(r.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const i=jt.fromDate(s);return{timestampValue:E0(r.serializer,i)}}if(s instanceof jt){const i=new jt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:E0(r.serializer,i)}}if(s instanceof to)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Fr)return{bytesValue:BO(r.serializer,s._byteString)};if(s instanceof cn){const i=r.databaseId,o=s.firestore._databaseId;if(!o.isEqual(i))throw r.createError(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:WT(s.firestore._databaseId||r.databaseId,s._key.path)}}if(s instanceof hi)return(function(o,l){const u=o instanceof hi?o.toArray():o;return{mapValue:{fields:{[pO]:{stringValue:mO},[x0]:{arrayValue:{values:u.map((f=>{if(typeof f!="number")throw l.createError("VectorValues must only contain numeric values.");return HT(l.serializer,f)}))}}}}}})(s,r);if(KO(s))return s._toProto(r.serializer);throw r.createError(`Unsupported field value: ${Xx(s)}`)})(t,e)}function _5(t,e){const n={};return lO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zl(t,((s,r)=>{const i=hm(r,e.childContextForField(s));i!=null&&(n[s]=i)})),{mapValue:{fields:n}}}function A5(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof jt||t instanceof to||t instanceof Fr||t instanceof cn||t instanceof cv||t instanceof hi||KO(t))}function u_(t,e,n){if(!A5(n)||!oO(n)){const s=Xx(n);throw s==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+s)}}function Qc(t,e,n){if((e=Wt(e))instanceof a_)return e._internalPath;if(typeof e=="string")return C5(t,e);throw A0("Field path arguments must be of type string or ",t,!1,void 0,n)}const FY=new RegExp("[~\\*/\\[\\]]");function C5(t,e,n){if(e.search(FY)>=0)throw A0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new a_(...e.split("."))._internalPath}catch{throw A0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function A0(t,e,n,s,r){const i=s&&!s.isEmpty(),o=r!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${s}`),o&&(u+=` in document ${r}`),u+=")"),new be(oe.INVALID_ARGUMENT,l+t+u)}function k5(t,e){return t.some((n=>n.isEqual(e)))}class HY{convertValue(e,n="none"){switch(kl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ln(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Cl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return zl(e,((r,i)=>{s[r]=this.convertValue(i,n)})),s}convertVectorValue(e){const n=e.fields?.[x0].arrayValue?.values?.map((s=>ln(s.doubleValue)));return new hi(n)}convertGeoPoint(e){return new to(ln(e.latitude),ln(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Zx(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Tp(e));default:return null}}convertTimestamp(e){const n=Al(e);return new jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Mt.fromString(e);gt(WO(s),9688,{name:e});const r=new _p(s.get(1),s.get(3)),i=new je(s.popFirst(5));return r.isEqual(n)||ra(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}class N5 extends HY{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,n)}}function R5(){return new c_("serverTimestamp")}const _M="@firebase/firestore",AM="4.11.0";class M5{constructor(e,n,s,r,i){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $Y(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Qc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $Y extends M5{data(){return super.data()}}function qY(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new be(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class d_{}class h_ extends d_{}function Fd(t,e,...n){let s=[];e instanceof d_&&s.push(e),s=s.concat(n),(function(i){const o=i.filter((u=>u instanceof f_)).length,l=i.filter((u=>u instanceof hv)).length;if(o>1||o>0&&l>0)throw new be(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const r of s)t=r._apply(t);return t}class hv extends h_{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new hv(e,n,s)}_apply(e){const n=this._parse(e);return D5(e._query,n),new Ul(e.firestore,e.converter,VE(e._query,n))}_parse(e){const n=uv(e.firestore);return(function(i,o,l,u,d,f,p){let y;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new be(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){kM(p,f);const w=[];for(const T of p)w.push(CM(u,i,T));y={arrayValue:{values:w}}}else y=CM(u,i,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||kM(p,f),y=UY(l,o,p,f==="in"||f==="not-in");return Tn.create(d,f,y)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function C0(t,e,n){const s=e,r=Qc("where",t);return hv._create(r,s,n)}class f_ extends d_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new f_(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:xi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(r,i){let o=r;const l=i.getFlattenedFilters();for(const u of l)D5(o,u),o=VE(o,u)})(e._query,n),new Ul(e.firestore,e.converter,VE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class p_ extends h_{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new p_(e,n)}_apply(e){const n=(function(r,i,o){if(r.startAt!==null)throw new be(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new be(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Cp(i,o)})(e._query,this._field,this._direction);return new Ul(e.firestore,e.converter,mK(e._query,n))}}function I5(t,e="asc"){const n=e,s=Qc("orderBy",t);return p_._create(s,n)}class m_ extends h_{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new m_(e,n,s)}_apply(e){return new Ul(e.firestore,e.converter,b0(e._query,this._limit,this._limitType))}}function WY(t){return m_._create("limit",t,"F")}function CM(t,e,n){if(typeof(n=Wt(n))=="string"){if(n==="")throw new be(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!SO(e)&&n.indexOf("/")!==-1)throw new be(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Mt.fromString(n));if(!je.isDocumentKey(s))throw new be(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return FR(t,new je(s))}if(n instanceof cn)return FR(t,n._key);throw new be(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xx(n)}.`)}function kM(t,e){if(!Array.isArray(t)||t.length===0)throw new be(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function D5(t,e){const n=(function(r,i){for(const o of r)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new be(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new be(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function P5(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class Vf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Oc extends M5{constructor(e,n,s,r,i,o){super(e,n,s,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new By(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Qc("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new be(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Oc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Oc._jsonSchemaVersion="firestore/documentSnapshot/1.0",Oc._jsonSchema={type:_n("string",Oc._jsonSchemaVersion),bundleSource:_n("string","DocumentSnapshot"),bundleName:_n("string"),bundle:_n("string")};class By extends Oc{data(e={}){return super.data(e)}}class Rd{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Vf(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new By(this._firestore,this._userDataWriter,s.key,s,new Vf(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new be(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map((l=>{const u=new By(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Vf(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((l=>i||l.type!==3)).map((l=>{const u=new By(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Vf(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let d=-1,f=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:KY(l.type),doc:u,oldIndex:d,newIndex:f}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new be(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Rd._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=jT.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],r=[];return this.docs.forEach((i=>{i._document!==null&&(n.push(i._document),s.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),r.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function KY(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue(61501,{type:t})}}Rd._jsonSchemaVersion="firestore/querySnapshot/1.0",Rd._jsonSchema={type:_n("string",Rd._jsonSchemaVersion),bundleSource:_n("string","QuerySnapshot"),bundleName:_n("string"),bundle:_n("string")};function O5(t){t=ro(t,cn);const e=ro(t.firestore,ch),n=o_(e);return kY(n,t._key).then((s=>GY(e,t,s)))}function Hd(t){t=ro(t,Ul);const e=ro(t.firestore,ch),n=o_(e),s=new N5(e);return qY(t._query),NY(n,t._query).then((r=>new Rd(e,s,t,r)))}function NM(t,e,n){t=ro(t,cn);const s=ro(t.firestore,ch),r=P5(t.converter,e,n),i=uv(s);return y_(s,[T5(i,"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,di.none())])}function GE(t,e,n,...s){t=ro(t,cn);const r=ro(t.firestore,ch),i=uv(r);let o;return o=typeof(e=Wt(e))=="string"||e instanceof a_?BY(i,"updateDoc",t._key,e,n,s):zY(i,"updateDoc",t._key,e),y_(r,[o.toMutation(t._key,di.exists(!0))])}function g_(t,e){const n=ro(t.firestore,ch),s=xl(t),r=P5(t.converter,e),i=uv(t.firestore);return y_(n,[T5(i,"addDoc",s._key,r,t.converter!==null,{}).toMutation(s._key,di.exists(!1))]).then((()=>s))}function y_(t,e){const n=o_(t);return RY(n,e)}function GY(t,e,n){const s=n.docs.get(e._key),r=new N5(t);return new Oc(t,r,e._key,s,new Vf(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){NW(cu),qc(new Tl("firestore",((s,{instanceIdentifier:r,options:i})=>{const o=s.getProvider("app").getImmediate(),l=new ch(new IW(s.getProvider("auth-internal")),new OW(o,s.getProvider("app-check-internal")),JW(o,r),o);return i={useFetchStreams:n,...i},l._setSettings(i),l}),"PUBLIC").setMultipleInstances(!0)),Xi(_M,AM,e),Xi(_M,AM,"esm2020")})();const j5="firebasestorage.googleapis.com",L5="storageBucket",YY=120*1e3,XY=600*1e3;class tn extends po{constructor(e,n,s=0){super(uw(e),`Firebase Storage: ${n} (${uw(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,tn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return uw(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var en;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(en||(en={}));function uw(t){return"storage/"+t}function x_(){const t="An unknown error occurred, please check the error payload for server response.";return new tn(en.UNKNOWN,t)}function QY(t){return new tn(en.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function JY(t){return new tn(en.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function ZY(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new tn(en.UNAUTHENTICATED,t)}function eX(){return new tn(en.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function tX(t){return new tn(en.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function nX(){return new tn(en.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function sX(){return new tn(en.CANCELED,"User canceled the upload/download.")}function rX(t){return new tn(en.INVALID_URL,"Invalid URL '"+t+"'.")}function iX(t){return new tn(en.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function oX(){return new tn(en.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+L5+"' property when initializing the app?")}function aX(){return new tn(en.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function lX(){return new tn(en.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function cX(t){return new tn(en.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function YE(t){return new tn(en.INVALID_ARGUMENT,t)}function V5(){return new tn(en.APP_DELETED,"The Firebase app was deleted.")}function uX(t){return new tn(en.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Jf(t,e){return new tn(en.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function _f(t){throw new tn(en.INTERNAL_ERROR,"Internal error: "+t)}class vr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=vr.makeFromUrl(e,n)}catch{return new vr(e,"")}if(s.path==="")return s;throw iX(e)}static makeFromUrl(e,n){let s=null;const r="([A-Za-z0-9.\\-_]+)";function i(O){O.path.charAt(O.path.length-1)==="/"&&(O.path_=O.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+r+o,"i"),u={bucket:1,path:3};function d(O){O.path_=decodeURIComponent(O.path)}const f="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",x=new RegExp(`^https?://${p}/${f}/b/${r}/o${y}`,"i"),w={bucket:1,path:3},T=n===j5?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",A=new RegExp(`^https?://${T}/${r}/${S}`,"i"),P=[{regex:l,indices:u,postModify:i},{regex:x,indices:w,postModify:d},{regex:A,indices:{bucket:1,path:2},postModify:d}];for(let O=0;O<P.length;O++){const L=P[O],F=L.regex.exec(e);if(F){const I=F[L.indices.bucket];let R=F[L.indices.path];R||(R=""),s=new vr(I,R),L.postModify(s);break}}if(s==null)throw rX(e);return s}}class dX{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function hX(t,e,n){let s=1,r=null,i=null,o=!1,l=0;function u(){return l===2}let d=!1;function f(...S){d||(d=!0,e.apply(null,S))}function p(S){r=setTimeout(()=>{r=null,t(x,u())},S)}function y(){i&&clearTimeout(i)}function x(S,...A){if(d){y();return}if(S){y(),f.call(null,S,...A);return}if(u()||o){y(),f.call(null,S,...A);return}s<64&&(s*=2);let P;l===1?(l=2,P=0):P=(s+Math.random())*1e3,p(P)}let w=!1;function T(S){w||(w=!0,y(),!d&&(r!==null?(S||(l=2),clearTimeout(r),p(0)):S||(l=1)))}return p(0),i=setTimeout(()=>{o=!0,T(!0)},n),T}function fX(t){t(!1)}function pX(t){return t!==void 0}function mX(t){return typeof t=="object"&&!Array.isArray(t)}function v_(t){return typeof t=="string"||t instanceof String}function RM(t){return b_()&&t instanceof Blob}function b_(){return typeof Blob<"u"}function MM(t,e,n,s){if(s<e)throw YE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw YE(`Invalid value for '${t}'. Expected ${n} or less.`)}function w_(t,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${t}`}function z5(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const r=e(s)+"="+e(t[s]);n=n+r+"&"}return n=n.slice(0,-1),n}var jc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(jc||(jc={}));function gX(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||r||i}class yX{constructor(e,n,s,r,i,o,l,u,d,f,p,y=!0,x=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=u,this.timeout_=d,this.progressCallback_=f,this.connectionFactory_=p,this.retry=y,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,T)=>{this.resolve_=w,this.reject_=T,this.start_()})}start_(){const e=(s,r)=>{if(r){s(!1,new ny(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=l=>{const u=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,d)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const l=i.getErrorCode()===jc.NO_ERROR,u=i.getStatus();if(!l||gX(u,this.additionalRetryCodes_)&&this.retry){const f=i.getErrorCode()===jc.ABORT;s(!1,new ny(!1,null,f));return}const d=this.successCodes_.indexOf(u)!==-1;s(!0,new ny(d,i))})},n=(s,r)=>{const i=this.resolve_,o=this.reject_,l=r.connection;if(r.wasSuccessCode)try{const u=this.callback_(l,l.getResponse());pX(u)?i(u):i()}catch(u){o(u)}else if(l!==null){const u=x_();u.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,u)):o(u)}else if(r.canceled){const u=this.appDelete_?V5():sX();o(u)}else{const u=nX();o(u)}};this.canceled_?n(!1,new ny(!1,null,!0)):this.backoffId_=hX(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&fX(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ny{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function xX(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function vX(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function bX(t,e){e&&(t["X-Firebase-GMPID"]=e)}function wX(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function EX(t,e,n,s,r,i,o=!0,l=!1){const u=z5(t.urlParams),d=t.url+u,f=Object.assign({},t.headers);return bX(f,e),xX(f,n),vX(f,i),wX(f,s),new yX(d,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,o,l)}function SX(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function TX(...t){const e=SX();if(e!==void 0){const n=new e;for(let s=0;s<t.length;s++)n.append(t[s]);return n.getBlob()}else{if(b_())return new Blob(t);throw new tn(en.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function _X(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function AX(t){if(typeof atob>"u")throw cX("base-64");return atob(t)}const ci={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class dw{constructor(e,n){this.data=e,this.contentType=n||null}}function B5(t,e){switch(t){case ci.RAW:return new dw(U5(e));case ci.BASE64:case ci.BASE64URL:return new dw(F5(t,e));case ci.DATA_URL:return new dw(kX(e),NX(e))}throw x_()}function U5(t){const e=[];for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=s,o=t.charCodeAt(++n);s=65536|(i&1023)<<10|o&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function CX(t){let e;try{e=decodeURIComponent(t)}catch{throw Jf(ci.DATA_URL,"Malformed data URL.")}return U5(e)}function F5(t,e){switch(t){case ci.BASE64:{const r=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(r||i)throw Jf(t,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case ci.BASE64URL:{const r=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(r||i)throw Jf(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=AX(e)}catch(r){throw r.message.includes("polyfill")?r:Jf(t,"Invalid character found")}const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s}class H5{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Jf(ci.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=RX(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function kX(t){const e=new H5(t);return e.base64?F5(ci.BASE64,e.rest):CX(e.rest)}function NX(t){return new H5(t).contentType}function RX(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}class ol{constructor(e,n){let s=0,r="";RM(e)?(this.data_=e,s=e.size,r=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,n){if(RM(this.data_)){const s=this.data_,r=_X(s,e,n);return r===null?null:new ol(r)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new ol(s,!0)}}static getBlob(...e){if(b_()){const n=e.map(s=>s instanceof ol?s.data_:s);return new ol(TX.apply(null,n))}else{const n=e.map(o=>v_(o)?B5(ci.RAW,o).data:o.data_);let s=0;n.forEach(o=>{s+=o.byteLength});const r=new Uint8Array(s);let i=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)r[i++]=o[l]}),new ol(r,!0)}}uploadData(){return this.data_}}function $5(t){let e;try{e=JSON.parse(t)}catch{return null}return mX(e)?e:null}function MX(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function IX(t,e){const n=e.split("/").filter(s=>s.length>0).join("/");return t.length===0?n:t+"/"+n}function q5(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function DX(t,e){return e}let Ds=class{constructor(e,n,s,r){this.server=e,this.local=n||e,this.writable=!!s,this.xform=r||DX}},sy=null;function PX(t){return!v_(t)||t.length<2?t:q5(t)}function W5(){if(sy)return sy;const t=[];t.push(new Ds("bucket")),t.push(new Ds("generation")),t.push(new Ds("metageneration")),t.push(new Ds("name","fullPath",!0));function e(i,o){return PX(o)}const n=new Ds("name");n.xform=e,t.push(n);function s(i,o){return o!==void 0?Number(o):o}const r=new Ds("size");return r.xform=s,t.push(r),t.push(new Ds("timeCreated")),t.push(new Ds("updated")),t.push(new Ds("md5Hash",null,!0)),t.push(new Ds("cacheControl",null,!0)),t.push(new Ds("contentDisposition",null,!0)),t.push(new Ds("contentEncoding",null,!0)),t.push(new Ds("contentLanguage",null,!0)),t.push(new Ds("contentType",null,!0)),t.push(new Ds("metadata","customMetadata",!0)),sy=t,sy}function OX(t,e){function n(){const s=t.bucket,r=t.fullPath,i=new vr(s,r);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function jX(t,e,n){const s={};s.type="file";const r=n.length;for(let i=0;i<r;i++){const o=n[i];s[o.local]=o.xform(s,e[o.server])}return OX(s,t),s}function K5(t,e,n){const s=$5(e);return s===null?null:jX(t,s,n)}function LX(t,e,n,s){const r=$5(e);if(r===null||!v_(r.downloadTokens))return null;const i=r.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(d=>{const f=t.bucket,p=t.fullPath,y="/b/"+o(f)+"/o/"+o(p),x=w_(y,n,s),w=z5({alt:"media",token:d});return x+w})[0]}function VX(t,e){const n={},s=e.length;for(let r=0;r<s;r++){const i=e[r];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class G5{constructor(e,n,s,r){this.url=e,this.method=n,this.handler=s,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Y5(t){if(!t)throw x_()}function zX(t,e){function n(s,r){const i=K5(t,r,e);return Y5(i!==null),i}return n}function BX(t,e){function n(s,r){const i=K5(t,r,e);return Y5(i!==null),LX(i,r,t.host,t._protocol)}return n}function X5(t){function e(n,s){let r;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?r=eX():r=ZY():n.getStatus()===402?r=JY(t.bucket):n.getStatus()===403?r=tX(t.path):r=s,r.status=n.getStatus(),r.serverResponse=s.serverResponse,r}return e}function UX(t){const e=X5(t);function n(s,r){let i=e(s,r);return s.getStatus()===404&&(i=QY(t.path)),i.serverResponse=r.serverResponse,i}return n}function FX(t,e,n){const s=e.fullServerUrl(),r=w_(s,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,l=new G5(r,i,BX(t,n),o);return l.errorHandler=UX(e),l}function HX(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function $X(t,e,n){const s=Object.assign({},n);return s.fullPath=t.path,s.size=e.size(),s.contentType||(s.contentType=HX(null,e)),s}function qX(t,e,n,s,r){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let P="";for(let O=0;O<2;O++)P=P+Math.random().toString().slice(2);return P}const u=l();o["Content-Type"]="multipart/related; boundary="+u;const d=$X(e,s,r),f=VX(d,n),p="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+u+`\r
Content-Type: `+d.contentType+`\r
\r
`,y=`\r
--`+u+"--",x=ol.getBlob(p,s,y);if(x===null)throw aX();const w={name:d.fullPath},T=w_(i,t.host,t._protocol),S="POST",A=t.maxUploadRetryTime,N=new G5(T,S,zX(t,n),A);return N.urlParams=w,N.headers=o,N.body=x.uploadData(),N.errorHandler=X5(e),N}class WX{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=jc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=jc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=jc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,r,i){if(this.sent_)throw _f("cannot .send() more than once");if(Ll(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw _f("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw _f("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw _f("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw _f("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class KX extends WX{initXhr(){this.xhr_.responseType="text"}}function Q5(){return new KX}class Jc{constructor(e,n){this._service=e,n instanceof vr?this._location=n:this._location=vr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Jc(e,n)}get root(){const e=new vr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return q5(this._location.path)}get storage(){return this._service}get parent(){const e=MX(this._location.path);if(e===null)return null;const n=new vr(this._location.bucket,e);return new Jc(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw uX(e)}}function J5(t,e,n){t._throwIfRoot("uploadBytes");const s=qX(t.storage,t._location,W5(),new ol(e,!0),n);return t.storage.makeRequestWithTokens(s,Q5).then(r=>({metadata:r,ref:t}))}function GX(t,e,n=ci.RAW,s){t._throwIfRoot("uploadString");const r=B5(n,e),i={...s};return i.contentType==null&&r.contentType!=null&&(i.contentType=r.contentType),J5(t,r.data,i)}function YX(t){t._throwIfRoot("getDownloadURL");const e=FX(t.storage,t._location,W5());return t.storage.makeRequestWithTokens(e,Q5).then(n=>{if(n===null)throw lX();return n})}function XX(t,e){const n=IX(t._location.path,e),s=new vr(t._location.bucket,n);return new Jc(t.storage,s)}function QX(t){return/^[A-Za-z]+:\/\//.test(t)}function JX(t,e){return new Jc(t,e)}function Z5(t,e){if(t instanceof E_){const n=t;if(n._bucket==null)throw oX();const s=new Jc(n,n._bucket);return e!=null?Z5(s,e):s}else return e!==void 0?XX(t,e):t}function ZX(t,e){if(e&&QX(e)){if(t instanceof E_)return JX(t,e);throw YE("To use ref(service, url), the first argument must be a Storage instance.")}else return Z5(t,e)}function IM(t,e){const n=e?.[L5];return n==null?null:vr.makeFromBucketSpec(n,t)}function eQ(t,e,n,s={}){t.host=`${e}:${n}`;const r=Ll(e);r&&(ET(`https://${t.host}/b`),ST("Storage",!0)),t._isUsingEmulator=!0,t._protocol=r?"https":"http";const{mockUserToken:i}=s;i&&(t._overrideAuthToken=typeof i=="string"?i:dP(i,t.app.options.projectId))}class E_{constructor(e,n,s,r,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=r,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=j5,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=YY,this._maxUploadRetryTime=XY,this._requests=new Set,r!=null?this._bucket=vr.makeFromBucketSpec(r,this._host):this._bucket=IM(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=vr.makeFromBucketSpec(this._url,e):this._bucket=IM(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){MM("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){MM("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(gr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Jc(this,e)}_makeRequest(e,n,s,r,i=!0){if(this._deleted)return new dX(V5());{const o=EX(e,this._appId,s,r,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[s,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,r).getPromise()}}const DM="@firebase/storage",PM="0.14.0";const ej="storage";function tQ(t,e,n){return t=Wt(t),J5(t,e,n)}function nQ(t,e,n,s){return t=Wt(t),GX(t,e,n,s)}function tj(t){return t=Wt(t),YX(t)}function nj(t,e){return t=Wt(t),ZX(t,e)}function sQ(t=AT(),e){t=Wt(t);const s=Wx(t,ej).getImmediate({identifier:e}),r=lP("storage");return r&&rQ(s,...r),s}function rQ(t,e,n,s={}){eQ(t,e,n,s)}function iQ(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new E_(n,s,r,e,cu)}function oQ(){qc(new Tl(ej,iQ,"PUBLIC").setMultipleInstances(!0)),Xi(DM,PM,""),Xi(DM,PM,"esm2020")}oQ();const aQ={apiKey:"AIzaSyBgcUHw7wBaRk9n-Uk4PoNr4C7AG8VIuxg",authDomain:"champio-325a8.firebaseapp.com",projectId:"champio-325a8",storageBucket:"champio-325a8.firebasestorage.app",messagingSenderId:"250634726028",appId:"1:250634726028:web:507ea35e119a3861c9e9a9"},S_=pP(aQ),Zf=_W(S_),ws=PY(S_),sj=sQ(S_),rj=_.createContext({});function lQ({children:t}){const[e,n]=_.useState(null),[s,r]=_.useState(null),[i,o]=_.useState(!0);_.useEffect(()=>fq(Zf,async d=>{if(n(d),d)try{const f=xl(ws,"users",d.uid),p=await O5(f);p.exists()&&p.data().role?r(p.data().role):r("captain")}catch(f){console.error(":",f),r("captain")}else r(null);o(!1)}),[]);const l=()=>pq(Zf);return m.jsx(rj.Provider,{"code-path":"src/contexts/AuthContext.tsx:55:5",value:{currentUser:e,userRole:s,isLoading:i,logout:l},children:t})}const mo=()=>_.useContext(rj),OM="sportify-app-state",cQ={events:[{id:1,title:"2026 ",sport:"",date:"2026-04-15",startDate:"2026-04-15",endDate:"2026-04-30",location:"",organizer:"",status:"",teams:12,maxTeams:16,bannerColor:"#f97316",description:""},{id:2,title:"",sport:"",date:"2026-05-20",startDate:"2026-05-20",endDate:"2026-05-25",location:"",organizer:"",status:"",teams:8,maxTeams:8,bannerColor:"#3b82f6",description:""},{id:3,title:" 3v3 ",sport:"",date:"2026-06-10",startDate:"2026-06-10",endDate:"2026-06-12",location:"",organizer:"",status:"",teams:0,maxTeams:32,bannerColor:"#10b981",description:" 3v3 "}],teams:[{id:1,name:"",contact:"",phone:"0912-345-678",status:"",paid:!0},{id:2,name:"",contact:"",phone:"0923-456-789",status:"",paid:!0},{id:3,name:"",contact:"",phone:"0934-567-890",status:"",paid:!1},{id:4,name:"",contact:"",phone:"0945-678-901",status:"",paid:!1},{id:5,name:"",contact:"",phone:"0956-789-012",status:"",paid:!1}],announcements:[{id:1,title:"",date:"2026-04-01",pinned:!0,status:""},{id:2,title:" 4/10",date:"2026-03-25",pinned:!1,status:""},{id:3,title:"",date:"2026-03-20",pinned:!1,status:""}],currentUser:null,theme:"dark",searchQuery:""};function uQ(t,e){switch(e.type){case"SET_EVENTS":return{...t,events:e.payload};case"ADD_EVENT":return{...t,events:[...t.events,e.payload]};case"UPDATE_EVENT":return{...t,events:t.events.map(n=>n.id===e.payload.id?e.payload:n)};case"DELETE_EVENT":return{...t,events:t.events.filter(n=>n.id!==e.payload)};case"SET_TEAMS":return{...t,teams:e.payload};case"ADD_TEAM":return{...t,teams:[...t.teams,e.payload]};case"UPDATE_TEAM":return{...t,teams:t.teams.map(n=>n.id===e.payload.id?e.payload:n)};case"SET_ANNOUNCEMENTS":return{...t,announcements:e.payload};case"ADD_ANNOUNCEMENT":return{...t,announcements:[...t.announcements,e.payload]};case"SET_USER":return{...t,currentUser:e.payload};case"SET_THEME":return{...t,theme:e.payload};case"SET_SEARCH_QUERY":return{...t,searchQuery:e.payload};case"LOAD_FROM_STORAGE":return t;default:return t}}const T_=_.createContext(void 0);function dQ({children:t}){const[e,n]=_.useReducer(uQ,cQ,s=>{if(typeof window<"u"){const r=localStorage.getItem(OM);if(r)try{const i=JSON.parse(r);return{...s,...i}}catch{console.warn("Failed to parse stored state")}}return s});return _.useEffect(()=>{const s={theme:e.theme,currentUser:e.currentUser};localStorage.setItem(OM,JSON.stringify(s))},[e.theme,e.currentUser]),_.useEffect(()=>{document.documentElement.setAttribute("data-theme",e.theme)},[e.theme]),m.jsx(T_.Provider,{"code-path":"src/contexts/AppContext.tsx:148:5",value:{state:e,dispatch:n},children:t})}function hQ(){const t=_.useContext(T_);if(!t)throw new Error("useAppState must be used within AppProvider");return t.state}function fQ(){const t=_.useContext(T_);if(!t)throw new Error("useAppDispatch must be used within AppProvider");return t.dispatch}const __=_.createContext({});function A_(t){const e=_.useRef(null);return e.current===null&&(e.current=t()),e.current}const ij=typeof window<"u",oj=ij?_.useLayoutEffect:_.useEffect,fv=_.createContext(null);function C_(t,e){t.indexOf(e)===-1&&t.push(e)}function k0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const oo=(t,e,n)=>n>e?e:n<t?t:n;let k_=()=>{};const oa={},aj=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function lj(t){return typeof t=="object"&&t!==null}const cj=t=>/^0[^.\s]+$/u.test(t);function uj(t){let e;return()=>(e===void 0&&(e=t()),e)}const qr=t=>t,pQ=(t,e)=>n=>e(t(n)),fm=(...t)=>t.reduce(pQ),Mp=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class N_{constructor(){this.subscriptions=[]}add(e){return C_(this.subscriptions,e),()=>k0(this.subscriptions,e)}notify(e,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,s);else for(let i=0;i<r;i++){const o=this.subscriptions[i];o&&o(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const fi=t=>t*1e3,$r=t=>t/1e3;function dj(t,e){return e?t*(1e3/e):0}const hj=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,mQ=1e-7,gQ=12;function yQ(t,e,n,s,r){let i,o,l=0;do o=e+(n-e)/2,i=hj(o,s,r)-t,i>0?n=o:e=o;while(Math.abs(i)>mQ&&++l<gQ);return o}function pm(t,e,n,s){if(t===e&&n===s)return qr;const r=i=>yQ(i,0,1,t,n);return i=>i===0||i===1?i:hj(r(i),e,s)}const fj=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,pj=t=>e=>1-t(1-e),mj=pm(.33,1.53,.69,.99),R_=pj(mj),gj=fj(R_),yj=t=>(t*=2)<1?.5*R_(t):.5*(2-Math.pow(2,-10*(t-1))),M_=t=>1-Math.sin(Math.acos(t)),xj=pj(M_),vj=fj(M_),xQ=pm(.42,0,1,1),vQ=pm(0,0,.58,1),bj=pm(.42,0,.58,1),bQ=t=>Array.isArray(t)&&typeof t[0]!="number",wj=t=>Array.isArray(t)&&typeof t[0]=="number",wQ={linear:qr,easeIn:xQ,easeInOut:bj,easeOut:vQ,circIn:M_,circInOut:vj,circOut:xj,backIn:R_,backInOut:gj,backOut:mj,anticipate:yj},EQ=t=>typeof t=="string",jM=t=>{if(wj(t)){k_(t.length===4);const[e,n,s,r]=t;return pm(e,n,s,r)}else if(EQ(t))return wQ[t];return t},ry=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function SQ(t,e){let n=new Set,s=new Set,r=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function u(f){o.has(f)&&(d.schedule(f),t()),f(l)}const d={schedule:(f,p=!1,y=!1)=>{const w=y&&r?n:s;return p&&o.add(f),w.has(f)||w.add(f),f},cancel:f=>{s.delete(f),o.delete(f)},process:f=>{if(l=f,r){i=!0;return}r=!0,[n,s]=[s,n],n.forEach(u),n.clear(),r=!1,i&&(i=!1,d.process(f))}};return d}const TQ=40;function Ej(t,e){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=ry.reduce((P,O)=>(P[O]=SQ(i),P),{}),{setup:l,read:u,resolveKeyframes:d,preUpdate:f,update:p,preRender:y,render:x,postRender:w}=o,T=()=>{const P=oa.useManualTiming?r.timestamp:performance.now();n=!1,oa.useManualTiming||(r.delta=s?1e3/60:Math.max(Math.min(P-r.timestamp,TQ),1)),r.timestamp=P,r.isProcessing=!0,l.process(r),u.process(r),d.process(r),f.process(r),p.process(r),y.process(r),x.process(r),w.process(r),r.isProcessing=!1,n&&e&&(s=!1,t(T))},S=()=>{n=!0,s=!0,r.isProcessing||t(T)};return{schedule:ry.reduce((P,O)=>{const L=o[O];return P[O]=(F,I=!1,R=!1)=>(n||S(),L.schedule(F,I,R)),P},{}),cancel:P=>{for(let O=0;O<ry.length;O++)o[ry[O]].cancel(P)},state:r,steps:o}}const{schedule:It,cancel:Ml,state:ts,steps:hw}=Ej(typeof requestAnimationFrame<"u"?requestAnimationFrame:qr,!0);let Uy;function _Q(){Uy=void 0}const Ps={now:()=>(Uy===void 0&&Ps.set(ts.isProcessing||oa.useManualTiming?ts.timestamp:performance.now()),Uy),set:t=>{Uy=t,queueMicrotask(_Q)}},Sj=t=>e=>typeof e=="string"&&e.startsWith(t),Tj=Sj("--"),AQ=Sj("var(--"),I_=t=>AQ(t)?CQ.test(t.split("/*")[0].trim()):!1,CQ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function LM(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const uh={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ip={...uh,transform:t=>oo(0,1,t)},iy={...uh,default:1},ep=t=>Math.round(t*1e5)/1e5,D_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function kQ(t){return t==null}const NQ=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,P_=(t,e)=>n=>!!(typeof n=="string"&&NQ.test(n)&&n.startsWith(t)||e&&!kQ(n)&&Object.prototype.hasOwnProperty.call(n,e)),_j=(t,e,n)=>s=>{if(typeof s!="string")return s;const[r,i,o,l]=s.match(D_);return{[t]:parseFloat(r),[e]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},RQ=t=>oo(0,255,t),fw={...uh,transform:t=>Math.round(RQ(t))},Nc={test:P_("rgb","red"),parse:_j("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+fw.transform(t)+", "+fw.transform(e)+", "+fw.transform(n)+", "+ep(Ip.transform(s))+")"};function MQ(t){let e="",n="",s="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,s+=s,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const XE={test:P_("#"),parse:MQ,transform:Nc.transform},mm=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ya=mm("deg"),no=mm("%"),Ne=mm("px"),IQ=mm("vh"),DQ=mm("vw"),VM={...no,parse:t=>no.parse(t)/100,transform:t=>no.transform(t*100)},vd={test:P_("hsl","hue"),parse:_j("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+no.transform(ep(e))+", "+no.transform(ep(n))+", "+ep(Ip.transform(s))+")"},En={test:t=>Nc.test(t)||XE.test(t)||vd.test(t),parse:t=>Nc.test(t)?Nc.parse(t):vd.test(t)?vd.parse(t):XE.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Nc.transform(t):vd.transform(t),getAnimatableNone:t=>{const e=En.parse(t);return e.alpha=0,En.transform(e)}},PQ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function OQ(t){return isNaN(t)&&typeof t=="string"&&(t.match(D_)?.length||0)+(t.match(PQ)?.length||0)>0}const Aj="number",Cj="color",jQ="var",LQ="var(",zM="${}",VQ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Dp(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},r=[];let i=0;const l=e.replace(VQ,u=>(En.test(u)?(s.color.push(i),r.push(Cj),n.push(En.parse(u))):u.startsWith(LQ)?(s.var.push(i),r.push(jQ),n.push(u)):(s.number.push(i),r.push(Aj),n.push(parseFloat(u))),++i,zM)).split(zM);return{values:n,split:l,indexes:s,types:r}}function kj(t){return Dp(t).values}function Nj(t){const{split:e,types:n}=Dp(t),s=e.length;return r=>{let i="";for(let o=0;o<s;o++)if(i+=e[o],r[o]!==void 0){const l=n[o];l===Aj?i+=ep(r[o]):l===Cj?i+=En.transform(r[o]):i+=r[o]}return i}}const zQ=t=>typeof t=="number"?0:En.test(t)?En.getAnimatableNone(t):t;function BQ(t){const e=kj(t);return Nj(t)(e.map(zQ))}const pi={test:OQ,parse:kj,createTransformer:Nj,getAnimatableNone:BQ};function pw(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function UQ({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let r=0,i=0,o=0;if(!e)r=i=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,u=2*n-l;r=pw(u,l,t+1/3),i=pw(u,l,t),o=pw(u,l,t-1/3)}return{red:Math.round(r*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:s}}function N0(t,e){return n=>n>0?e:t}const qt=(t,e,n)=>t+(e-t)*n,mw=(t,e,n)=>{const s=t*t,r=n*(e*e-s)+s;return r<0?0:Math.sqrt(r)},FQ=[XE,Nc,vd],HQ=t=>FQ.find(e=>e.test(t));function BM(t){const e=HQ(t);if(!e)return!1;let n=e.parse(t);return e===vd&&(n=UQ(n)),n}const UM=(t,e)=>{const n=BM(t),s=BM(e);if(!n||!s)return N0(t,e);const r={...n};return i=>(r.red=mw(n.red,s.red,i),r.green=mw(n.green,s.green,i),r.blue=mw(n.blue,s.blue,i),r.alpha=qt(n.alpha,s.alpha,i),Nc.transform(r))},QE=new Set(["none","hidden"]);function $Q(t,e){return QE.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function qQ(t,e){return n=>qt(t,e,n)}function O_(t){return typeof t=="number"?qQ:typeof t=="string"?I_(t)?N0:En.test(t)?UM:GQ:Array.isArray(t)?Rj:typeof t=="object"?En.test(t)?UM:WQ:N0}function Rj(t,e){const n=[...t],s=n.length,r=t.map((i,o)=>O_(i)(i,e[o]));return i=>{for(let o=0;o<s;o++)n[o]=r[o](i);return n}}function WQ(t,e){const n={...t,...e},s={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(s[r]=O_(t[r])(t[r],e[r]));return r=>{for(const i in s)n[i]=s[i](r);return n}}function KQ(t,e){const n=[],s={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const i=e.types[r],o=t.indexes[i][s[i]],l=t.values[o]??0;n[r]=l,s[i]++}return n}const GQ=(t,e)=>{const n=pi.createTransformer(e),s=Dp(t),r=Dp(e);return s.indexes.var.length===r.indexes.var.length&&s.indexes.color.length===r.indexes.color.length&&s.indexes.number.length>=r.indexes.number.length?QE.has(t)&&!r.values.length||QE.has(e)&&!s.values.length?$Q(t,e):fm(Rj(KQ(s,r),r.values),n):N0(t,e)};function Mj(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?qt(t,e,n):O_(t)(t,e)}const YQ=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>It.update(e,n),stop:()=>Ml(e),now:()=>ts.isProcessing?ts.timestamp:Ps.now()}},Ij=(t,e,n=10)=>{let s="";const r=Math.max(Math.round(e/n),2);for(let i=0;i<r;i++)s+=Math.round(t(i/(r-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},R0=2e4;function j_(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<R0;)e+=n,s=t.next(e);return e>=R0?1/0:e}function XQ(t,e=100,n){const s=n({...t,keyframes:[0,e]}),r=Math.min(j_(s),R0);return{type:"keyframes",ease:i=>s.next(r*i).value/e,duration:$r(r)}}const QQ=5;function Dj(t,e,n){const s=Math.max(e-QQ,0);return dj(n-t(s),e-s)}const Jt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},gw=.001;function JQ({duration:t=Jt.duration,bounce:e=Jt.bounce,velocity:n=Jt.velocity,mass:s=Jt.mass}){let r,i,o=1-e;o=oo(Jt.minDamping,Jt.maxDamping,o),t=oo(Jt.minDuration,Jt.maxDuration,$r(t)),o<1?(r=d=>{const f=d*o,p=f*t,y=f-n,x=JE(d,o),w=Math.exp(-p);return gw-y/x*w},i=d=>{const p=d*o*t,y=p*n+n,x=Math.pow(o,2)*Math.pow(d,2)*t,w=Math.exp(-p),T=JE(Math.pow(d,2),o);return(-r(d)+gw>0?-1:1)*((y-x)*w)/T}):(r=d=>{const f=Math.exp(-d*t),p=(d-n)*t+1;return-gw+f*p},i=d=>{const f=Math.exp(-d*t),p=(n-d)*(t*t);return f*p});const l=5/t,u=eJ(r,i,l);if(t=fi(t),isNaN(u))return{stiffness:Jt.stiffness,damping:Jt.damping,duration:t};{const d=Math.pow(u,2)*s;return{stiffness:d,damping:o*2*Math.sqrt(s*d),duration:t}}}const ZQ=12;function eJ(t,e,n){let s=n;for(let r=1;r<ZQ;r++)s=s-t(s)/e(s);return s}function JE(t,e){return t*Math.sqrt(1-e*e)}const tJ=["duration","bounce"],nJ=["stiffness","damping","mass"];function FM(t,e){return e.some(n=>t[n]!==void 0)}function sJ(t){let e={velocity:Jt.velocity,stiffness:Jt.stiffness,damping:Jt.damping,mass:Jt.mass,isResolvedFromDuration:!1,...t};if(!FM(t,nJ)&&FM(t,tJ))if(e.velocity=0,t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),r=s*s,i=2*oo(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:Jt.mass,stiffness:r,damping:i}}else{const n=JQ({...t,velocity:0});e={...e,...n,mass:Jt.mass},e.isResolvedFromDuration=!0}return e}function M0(t=Jt.visualDuration,e=Jt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:r}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:u,damping:d,mass:f,duration:p,velocity:y,isResolvedFromDuration:x}=sJ({...n,velocity:-$r(n.velocity||0)}),w=y||0,T=d/(2*Math.sqrt(u*f)),S=o-i,A=$r(Math.sqrt(u/f)),N=Math.abs(S)<5;s||(s=N?Jt.restSpeed.granular:Jt.restSpeed.default),r||(r=N?Jt.restDelta.granular:Jt.restDelta.default);let P;if(T<1){const L=JE(A,T);P=F=>{const I=Math.exp(-T*A*F);return o-I*((w+T*A*S)/L*Math.sin(L*F)+S*Math.cos(L*F))}}else if(T===1)P=L=>o-Math.exp(-A*L)*(S+(w+A*S)*L);else{const L=A*Math.sqrt(T*T-1);P=F=>{const I=Math.exp(-T*A*F),R=Math.min(L*F,300);return o-I*((w+T*A*S)*Math.sinh(R)+L*S*Math.cosh(R))/L}}const O={calculatedDuration:x&&p||null,next:L=>{const F=P(L);if(x)l.done=L>=p;else{let I=L===0?w:0;T<1&&(I=L===0?fi(w):Dj(P,L,F));const R=Math.abs(I)<=s,D=Math.abs(o-F)<=r;l.done=R&&D}return l.value=l.done?o:F,l},toString:()=>{const L=Math.min(j_(O),R0),F=Ij(I=>O.next(L*I).value,L,30);return L+"ms "+F},toTransition:()=>{}};return O}M0.applyToOptions=t=>{const e=XQ(t,100,M0);return t.ease=e.ease,t.duration=fi(e.duration),t.type="keyframes",t};function ZE({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:u,restDelta:d=.5,restSpeed:f}){const p=t[0],y={done:!1,value:p},x=R=>l!==void 0&&R<l||u!==void 0&&R>u,w=R=>l===void 0?u:u===void 0||Math.abs(l-R)<Math.abs(u-R)?l:u;let T=n*e;const S=p+T,A=o===void 0?S:o(S);A!==S&&(T=A-p);const N=R=>-T*Math.exp(-R/s),P=R=>A+N(R),O=R=>{const D=N(R),z=P(R);y.done=Math.abs(D)<=d,y.value=y.done?A:z};let L,F;const I=R=>{x(y.value)&&(L=R,F=M0({keyframes:[y.value,w(y.value)],velocity:Dj(P,R,y.value),damping:r,stiffness:i,restDelta:d,restSpeed:f}))};return I(0),{calculatedDuration:null,next:R=>{let D=!1;return!F&&L===void 0&&(D=!0,O(R),I(R)),L!==void 0&&R>=L?F.next(R-L):(!D&&O(R),y)}}}function rJ(t,e,n){const s=[],r=n||oa.mix||Mj,i=t.length-1;for(let o=0;o<i;o++){let l=r(t[o],t[o+1]);if(e){const u=Array.isArray(e)?e[o]||qr:e;l=fm(u,l)}s.push(l)}return s}function iJ(t,e,{clamp:n=!0,ease:s,mixer:r}={}){const i=t.length;if(k_(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=rJ(e,s,r),u=l.length,d=f=>{if(o&&f<t[0])return e[0];let p=0;if(u>1)for(;p<t.length-2&&!(f<t[p+1]);p++);const y=Mp(t[p],t[p+1],f);return l[p](y)};return n?f=>d(oo(t[0],t[i-1],f)):d}function oJ(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const r=Mp(0,e,s);t.push(qt(n,1,r))}}function aJ(t){const e=[0];return oJ(e,t.length-1),e}function lJ(t,e){return t.map(n=>n*e)}function cJ(t,e){return t.map(()=>e||bj).splice(0,t.length-1)}function tp({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const r=bQ(s)?s.map(jM):jM(s),i={done:!1,value:e[0]},o=lJ(n&&n.length===e.length?n:aJ(e),t),l=iJ(o,e,{ease:Array.isArray(r)?r:cJ(e,r)});return{calculatedDuration:t,next:u=>(i.value=l(u),i.done=u>=t,i)}}const uJ=t=>t!==null;function L_(t,{repeat:e,repeatType:n="loop"},s,r=1){const i=t.filter(uJ),l=r<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!l||s===void 0?i[l]:s}const dJ={decay:ZE,inertia:ZE,tween:tp,keyframes:tp,spring:M0};function Pj(t){typeof t.type=="string"&&(t.type=dJ[t.type])}class V_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const hJ=t=>t/100;class z_ extends V_{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Ps.now()&&this.tick(Ps.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Pj(e);const{type:n=tp,repeat:s=0,repeatDelay:r=0,repeatType:i,velocity:o=0}=e;let{keyframes:l}=e;const u=n||tp;u!==tp&&typeof l[0]!="number"&&(this.mixKeyframes=fm(hJ,Mj(l[0],l[1])),l=[0,100]);const d=u({...e,keyframes:l});i==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=j_(d));const{calculatedDuration:f}=d;this.calculatedDuration=f,this.resolvedDuration=f+r,this.totalDuration=this.resolvedDuration*(s+1)-r,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:r,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:u}=this;if(this.startTime===null)return s.next(0);const{delay:d=0,keyframes:f,repeat:p,repeatType:y,repeatDelay:x,type:w,onUpdate:T,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const A=this.currentTime-d*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?A<0:A>r;this.currentTime=Math.max(A,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let P=this.currentTime,O=s;if(p){const R=Math.min(this.currentTime,r)/l;let D=Math.floor(R),z=R%1;!z&&R>=1&&(z=1),z===1&&D--,D=Math.min(D,p+1),D%2&&(y==="reverse"?(z=1-z,x&&(z-=x/l)):y==="mirror"&&(O=o)),P=oo(0,1,z)*l}const L=N?{done:!1,value:f[0]}:O.next(P);i&&(L.value=i(L.value));let{done:F}=L;!N&&u!==null&&(F=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&F);return I&&w!==ZE&&(L.value=L_(f,this.options,S,this.speed)),T&&T(L.value),I&&this.finish(),L}then(e,n){return this.finished.then(e,n)}get duration(){return $r(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+$r(e)}get time(){return $r(this.currentTime)}set time(e){e=fi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ps.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=$r(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=YQ,startTime:n}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ps.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function fJ(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Rc=t=>t*180/Math.PI,eS=t=>{const e=Rc(Math.atan2(t[1],t[0]));return tS(e)},pJ={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:eS,rotateZ:eS,skewX:t=>Rc(Math.atan(t[1])),skewY:t=>Rc(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},tS=t=>(t=t%360,t<0&&(t+=360),t),HM=eS,$M=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),qM=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),mJ={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:$M,scaleY:qM,scale:t=>($M(t)+qM(t))/2,rotateX:t=>tS(Rc(Math.atan2(t[6],t[5]))),rotateY:t=>tS(Rc(Math.atan2(-t[2],t[0]))),rotateZ:HM,rotate:HM,skewX:t=>Rc(Math.atan(t[4])),skewY:t=>Rc(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function nS(t){return t.includes("scale")?1:0}function sS(t,e){if(!t||t==="none")return nS(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,r;if(n)s=mJ,r=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=pJ,r=l}if(!r)return nS(e);const i=s[e],o=r[1].split(",").map(yJ);return typeof i=="function"?i(o):o[i]}const gJ=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return sS(n,e)};function yJ(t){return parseFloat(t.trim())}const dh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],hh=new Set(dh),WM=t=>t===uh||t===Ne,xJ=new Set(["x","y","z"]),vJ=dh.filter(t=>!xJ.has(t));function bJ(t){const e=[];return vJ.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const ul={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>sS(e,"x"),y:(t,{transform:e})=>sS(e,"y")};ul.translateX=ul.x;ul.translateY=ul.y;const Lc=new Set;let rS=!1,iS=!1,oS=!1;function Oj(){if(iS){const t=Array.from(Lc).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const r=bJ(s);r.length&&(n.set(s,r),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const r=n.get(s);r&&r.forEach(([i,o])=>{s.getValue(i)?.set(o)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}iS=!1,rS=!1,Lc.forEach(t=>t.complete(oS)),Lc.clear()}function jj(){Lc.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(iS=!0)})}function wJ(){oS=!0,jj(),Oj(),oS=!1}class B_{constructor(e,n,s,r,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=r,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Lc.add(this),rS||(rS=!0,It.read(jj),It.resolveKeyframes(Oj))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:r}=this;if(e[0]===null){const i=r?.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(s&&n){const l=s.readValue(n,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),r&&i===void 0&&r.set(e[0])}fJ(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Lc.delete(this)}cancel(){this.state==="scheduled"&&(Lc.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const EJ=t=>t.startsWith("--");function SJ(t,e,n){EJ(e)?t.style.setProperty(e,n):t.style[e]=n}const TJ={};function Lj(t,e){const n=uj(t);return()=>TJ[e]??n()}const _J=Lj(()=>window.ScrollTimeline!==void 0,"scrollTimeline"),Vj=Lj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),zf=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,KM={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:zf([0,.65,.55,1]),circOut:zf([.55,0,1,.45]),backIn:zf([.31,.01,.66,-.59]),backOut:zf([.33,1.53,.69,.99])};function zj(t,e){if(t)return typeof t=="function"?Vj()?Ij(t,e):"ease-out":wj(t)?zf(t):Array.isArray(t)?t.map(n=>zj(n,e)||KM.easeOut):KM[t]}function AJ(t,e,n,{delay:s=0,duration:r=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:u}={},d=void 0){const f={[e]:n};u&&(f.offset=u);const p=zj(l,r);Array.isArray(p)&&(f.easing=p);const y={delay:s,duration:r,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(y.pseudoElement=d),t.animate(f,y)}function Bj(t){return typeof t=="function"&&"applyToOptions"in t}function CJ({type:t,...e}){return Bj(t)&&Vj()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Uj extends V_{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:s,keyframes:r,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:u}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,k_(typeof e.type!="string");const d=CJ(e);this.animation=AJ(n,s,r,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const f=L_(r,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(f):SJ(n,s,f),this.animation.cancel()}u?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return $r(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+$r(e)}get time(){return $r(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=fi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&_J()?(this.animation.timeline=e,qr):n(this)}}const Fj={anticipate:yj,backInOut:gj,circInOut:vj};function kJ(t){return t in Fj}function NJ(t){typeof t.ease=="string"&&kJ(t.ease)&&(t.ease=Fj[t.ease])}const yw=10;class RJ extends Uj{constructor(e){NJ(e),Pj(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:r,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const l=new z_({...o,autoplay:!1}),u=Math.max(yw,Ps.now()-this.startTime),d=oo(0,yw,u-yw);n.setWithVelocity(l.sample(Math.max(0,u-d)).value,l.sample(u).value,d),l.stop()}}const GM=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(pi.test(t)||t==="0")&&!t.startsWith("url("));function MJ(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function IJ(t,e,n,s){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=GM(r,e),l=GM(i,e);return!o||!l?!1:MJ(t)||(n==="spring"||Bj(n))&&s}function aS(t){t.duration=0,t.type="keyframes"}const DJ=new Set(["opacity","clipPath","filter","transform"]),PJ=uj(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function OJ(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:r,damping:i,type:o}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:d}=e.owner.getProps();return PJ()&&n&&DJ.has(n)&&(n!=="transform"||!d)&&!u&&!s&&r!=="mirror"&&i!==0&&o!=="inertia"}const jJ=40;class LJ extends V_{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:u,motionValue:d,element:f,...p}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ps.now();const y={autoplay:e,delay:n,type:s,repeat:r,repeatDelay:i,repeatType:o,name:u,motionValue:d,element:f,...p},x=f?.KeyframeResolver||B_;this.keyframeResolver=new x(l,(w,T,S)=>this.onKeyframesResolved(w,T,y,!S),u,d,f),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,r){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:u,isHandoff:d,onUpdate:f}=s;this.resolvedAt=Ps.now(),IJ(e,i,o,l)||((oa.instantAnimations||!u)&&f?.(L_(e,s,n)),e[0]=e[e.length-1],aS(s),s.repeat=0);const y={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>jJ?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},x=!d&&OJ(y),w=y.motionValue?.owner?.current,T=x?new RJ({...y,element:w}):new z_(y);T.finished.then(()=>{this.notifyFinished()}).catch(qr),this.pendingTimeline&&(this.stopTimeline=T.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=T}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),wJ()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function Hj(t,e,n,s=0,r=1){const i=Array.from(t).sort((d,f)=>d.sortNodePosition(f)).indexOf(e),o=t.size,l=(o-1)*s;return typeof n=="function"?n(i,o):r===1?i*s:l-i*s}const VJ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function zJ(t){const e=VJ.exec(t);if(!e)return[,];const[,n,s,r]=e;return[`--${n??s}`,r]}function $j(t,e,n=1){const[s,r]=zJ(t);if(!s)return;const i=window.getComputedStyle(e).getPropertyValue(s);if(i){const o=i.trim();return aj(o)?parseFloat(o):o}return I_(r)?$j(r,e,n+1):r}const BJ={type:"spring",stiffness:500,damping:25,restSpeed:10},UJ=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),FJ={type:"keyframes",duration:.8},HJ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$J=(t,{keyframes:e})=>e.length>2?FJ:hh.has(t)?t.startsWith("scale")?UJ(e[1]):BJ:HJ,qJ=t=>t!==null;function WJ(t,{repeat:e,repeatType:n="loop"},s){const r=t.filter(qJ),i=e&&n!=="loop"&&e%2===1?0:r.length-1;return r[i]}function qj(t,e){if(t?.inherit&&e){const{inherit:n,...s}=t;return{...e,...s}}return t}function U_(t,e){const n=t?.[e]??t?.default??t;return n!==t?qj(n,t):n}function KJ({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:i,repeatType:o,repeatDelay:l,from:u,elapsed:d,...f}){return!!Object.keys(f).length}const F_=(t,e,n,s={},r,i)=>o=>{const l=U_(s,t)||{},u=l.delay||s.delay||0;let{elapsed:d=0}=s;d=d-fi(u);const f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:y=>{e.set(y),l.onUpdate&&l.onUpdate(y)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:r};KJ(l)||Object.assign(f,$J(t,f)),f.duration&&(f.duration=fi(f.duration)),f.repeatDelay&&(f.repeatDelay=fi(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let p=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(aS(f),f.delay===0&&(p=!0)),(oa.instantAnimations||oa.skipAnimations||r?.shouldSkipAnimations)&&(p=!0,aS(f),f.delay=0),f.allowFlatten=!l.type&&!l.ease,p&&!i&&e.get()!==void 0){const y=WJ(f.keyframes,l);if(y!==void 0){It.update(()=>{f.onUpdate(y),f.onComplete()});return}}return l.isSync?new z_(f):new LJ(f)};function YM(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function H_(t,e,n,s){if(typeof e=="function"){const[r,i]=YM(s);e=e(n!==void 0?n:t.custom,r,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,i]=YM(s);e=e(n!==void 0?n:t.custom,r,i)}return e}function Md(t,e,n){const s=t.getProps();return H_(s,e,n!==void 0?n:s.custom,t)}const Wj=new Set(["width","height","top","left","right","bottom",...dh]),XM=30,GJ=t=>!isNaN(parseFloat(t));class YJ{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const r=Ps.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ps.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=GJ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new N_);const s=this.events[e].add(n);return e==="change"?()=>{s(),It.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ps.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>XM)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,XM);return dj(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function $d(t,e){return new YJ(t,e)}const lS=t=>Array.isArray(t);function XJ(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,$d(n))}function QJ(t){return lS(t)?t[t.length-1]||0:t}function JJ(t,e){const n=Md(t,e);let{transitionEnd:s={},transition:r={},...i}=n||{};i={...i,...s};for(const o in i){const l=QJ(i[o]);XJ(t,o,l)}}const Es=t=>!!(t&&t.getVelocity);function ZJ(t){return!!(Es(t)&&t.add)}function cS(t,e){const n=t.getValue("willChange");if(ZJ(n))return n.add(e);if(!n&&oa.WillChange){const s=new oa.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function $_(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const eZ="framerAppearId",Kj="data-"+$_(eZ);function Gj(t){return t.props[Kj]}function tZ({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function Yj(t,e,{delay:n=0,transitionOverride:s,type:r}={}){let{transition:i,transitionEnd:o,...l}=e;const u=t.getDefaultTransition();i=i?qj(i,u):u;const d=i?.reduceMotion;s&&(i=s);const f=[],p=r&&t.animationState&&t.animationState.getState()[r];for(const y in l){const x=t.getValue(y,t.latestValues[y]??null),w=l[y];if(w===void 0||p&&tZ(p,y))continue;const T={delay:n,...U_(i||{},y)},S=x.get();if(S!==void 0&&!x.isAnimating&&!Array.isArray(w)&&w===S&&!T.velocity)continue;let A=!1;if(window.MotionHandoffAnimation){const O=Gj(t);if(O){const L=window.MotionHandoffAnimation(O,y,It);L!==null&&(T.startTime=L,A=!0)}}cS(t,y);const N=d??t.shouldReduceMotion;x.start(F_(y,x,w,N&&Wj.has(y)?{type:!1}:T,t,A));const P=x.animation;P&&f.push(P)}if(o){const y=()=>It.update(()=>{o&&JJ(t,o)});f.length?Promise.all(f).then(y):y()}return f}function uS(t,e,n={}){const s=Md(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const i=s?()=>Promise.all(Yj(t,s,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:p}=r;return nZ(t,e,u,d,f,p,n)}:()=>Promise.resolve(),{when:l}=r;if(l){const[u,d]=l==="beforeChildren"?[i,o]:[o,i];return u().then(()=>d())}else return Promise.all([i(),o(n.delay)])}function nZ(t,e,n=0,s=0,r=0,i=1,o){const l=[];for(const u of t.variantChildren)u.notify("AnimationStart",e),l.push(uS(u,e,{...o,delay:n+(typeof s=="function"?0:s)+Hj(t.variantChildren,u,s,r,i)}).then(()=>u.notify("AnimationComplete",e)));return Promise.all(l)}function sZ(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const r=e.map(i=>uS(t,i,n));s=Promise.all(r)}else if(typeof e=="string")s=uS(t,e,n);else{const r=typeof e=="function"?Md(t,e,n.custom):e;s=Promise.all(Yj(t,r,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const rZ={test:t=>t==="auto",parse:t=>t},Xj=t=>e=>e.test(t),Qj=[uh,Ne,no,Ya,DQ,IQ,rZ],QM=t=>Qj.find(Xj(t));function iZ(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||cj(t):!0}const oZ=new Set(["brightness","contrast","saturate","opacity"]);function aZ(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(D_)||[];if(!s)return t;const r=n.replace(s,"");let i=oZ.has(e)?1:0;return s!==n&&(i*=100),e+"("+i+r+")"}const lZ=/\b([a-z-]*)\(.*?\)/gu,dS={...pi,getAnimatableNone:t=>{const e=t.match(lZ);return e?e.map(aZ).join(" "):t}},hS={...pi,getAnimatableNone:t=>{const e=pi.parse(t);return pi.createTransformer(t)(e.map(s=>typeof s=="number"?0:typeof s=="object"?{...s,alpha:1}:s))}},JM={...uh,transform:Math.round},cZ={rotate:Ya,rotateX:Ya,rotateY:Ya,rotateZ:Ya,scale:iy,scaleX:iy,scaleY:iy,scaleZ:iy,skew:Ya,skewX:Ya,skewY:Ya,distance:Ne,translateX:Ne,translateY:Ne,translateZ:Ne,x:Ne,y:Ne,z:Ne,perspective:Ne,transformPerspective:Ne,opacity:Ip,originX:VM,originY:VM,originZ:Ne},q_={borderWidth:Ne,borderTopWidth:Ne,borderRightWidth:Ne,borderBottomWidth:Ne,borderLeftWidth:Ne,borderRadius:Ne,borderTopLeftRadius:Ne,borderTopRightRadius:Ne,borderBottomRightRadius:Ne,borderBottomLeftRadius:Ne,width:Ne,maxWidth:Ne,height:Ne,maxHeight:Ne,top:Ne,right:Ne,bottom:Ne,left:Ne,inset:Ne,insetBlock:Ne,insetBlockStart:Ne,insetBlockEnd:Ne,insetInline:Ne,insetInlineStart:Ne,insetInlineEnd:Ne,padding:Ne,paddingTop:Ne,paddingRight:Ne,paddingBottom:Ne,paddingLeft:Ne,paddingBlock:Ne,paddingBlockStart:Ne,paddingBlockEnd:Ne,paddingInline:Ne,paddingInlineStart:Ne,paddingInlineEnd:Ne,margin:Ne,marginTop:Ne,marginRight:Ne,marginBottom:Ne,marginLeft:Ne,marginBlock:Ne,marginBlockStart:Ne,marginBlockEnd:Ne,marginInline:Ne,marginInlineStart:Ne,marginInlineEnd:Ne,fontSize:Ne,backgroundPositionX:Ne,backgroundPositionY:Ne,...cZ,zIndex:JM,fillOpacity:Ip,strokeOpacity:Ip,numOctaves:JM},uZ={...q_,color:En,backgroundColor:En,outlineColor:En,fill:En,stroke:En,borderColor:En,borderTopColor:En,borderRightColor:En,borderBottomColor:En,borderLeftColor:En,filter:dS,WebkitFilter:dS,mask:hS,WebkitMask:hS},Jj=t=>uZ[t],dZ=new Set([dS,hS]);function Zj(t,e){let n=Jj(t);return dZ.has(n)||(n=pi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const hZ=new Set(["auto","none","0"]);function fZ(t,e,n){let s=0,r;for(;s<t.length&&!r;){const i=t[s];typeof i=="string"&&!hZ.has(i)&&Dp(i).values.length&&(r=t[s]),s++}if(r&&n)for(const i of e)t[i]=Zj(n,r)}class pZ extends B_{constructor(e,n,s,r,i){super(e,n,s,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),I_(p))){const y=$j(p,n.current);y!==void 0&&(e[f]=y),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!Wj.has(s)||e.length!==2)return;const[r,i]=e,o=QM(r),l=QM(i),u=LM(r),d=LM(i);if(u!==d&&ul[s]){this.needsMeasurement=!0;return}if(o!==l)if(WM(o)&&WM(l))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else ul[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let r=0;r<e.length;r++)(e[r]===null||iZ(e[r]))&&s.push(r);s.length&&fZ(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ul[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(s,r).jump(r,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const r=e.getValue(n);r&&r.jump(this.measuredOrigin,!1);const i=s.length-1,o=s[i];s[i]=ul[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const mZ=new Set(["opacity","clipPath","filter","transform"]);function eL(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const r=n?.[t]??s.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t).filter(s=>s!=null)}const tL=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function fS(t){return lj(t)&&"offsetHeight"in t}const{schedule:W_}=Ej(queueMicrotask,!1),ri={x:!1,y:!1};function nL(){return ri.x||ri.y}function gZ(t){return t==="x"||t==="y"?ri[t]?null:(ri[t]=!0,()=>{ri[t]=!1}):ri.x||ri.y?null:(ri.x=ri.y=!0,()=>{ri.x=ri.y=!1})}function sL(t,e){const n=eL(t),s=new AbortController,r={passive:!0,...e,signal:s.signal};return[n,r,()=>s.abort()]}function yZ(t){return!(t.pointerType==="touch"||nL())}function xZ(t,e,n={}){const[s,r,i]=sL(t,n);return s.forEach(o=>{let l=!1,u=!1,d;const f=()=>{o.removeEventListener("pointerleave",w)},p=S=>{d&&(d(S),d=void 0),f()},y=S=>{l=!1,window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",y),u&&(u=!1,p(S))},x=()=>{l=!0,window.addEventListener("pointerup",y,r),window.addEventListener("pointercancel",y,r)},w=S=>{if(S.pointerType!=="touch"){if(l){u=!0;return}p(S)}},T=S=>{if(!yZ(S))return;u=!1;const A=e(o,S);typeof A=="function"&&(d=A,o.addEventListener("pointerleave",w,r))};o.addEventListener("pointerenter",T,r),o.addEventListener("pointerdown",x,r)}),i}const rL=(t,e)=>e?t===e?!0:rL(t,e.parentElement):!1,K_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,vZ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function bZ(t){return vZ.has(t.tagName)||t.isContentEditable===!0}const wZ=new Set(["INPUT","SELECT","TEXTAREA"]);function EZ(t){return wZ.has(t.tagName)||t.isContentEditable===!0}const Fy=new WeakSet;function ZM(t){return e=>{e.key==="Enter"&&t(e)}}function xw(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const SZ=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=ZM(()=>{if(Fy.has(n))return;xw(n,"down");const r=ZM(()=>{xw(n,"up")}),i=()=>xw(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function eI(t){return K_(t)&&!nL()}const tI=new WeakSet;function TZ(t,e,n={}){const[s,r,i]=sL(t,n),o=l=>{const u=l.currentTarget;if(!eI(l)||tI.has(l))return;Fy.add(u),n.stopPropagation&&tI.add(l);const d=e(u,l),f=(x,w)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",y),Fy.has(u)&&Fy.delete(u),eI(x)&&typeof d=="function"&&d(x,{success:w})},p=x=>{f(x,u===window||u===document||n.useGlobalTarget||rL(u,x.target))},y=x=>{f(x,!1)};window.addEventListener("pointerup",p,r),window.addEventListener("pointercancel",y,r)};return s.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,r),fS(l)&&(l.addEventListener("focus",d=>SZ(d,r)),!bZ(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function G_(t){return lj(t)&&"ownerSVGElement"in t}const Hy=new WeakMap;let $y;const iL=(t,e,n)=>(s,r)=>r&&r[0]?r[0][t+"Size"]:G_(s)&&"getBBox"in s?s.getBBox()[e]:s[n],_Z=iL("inline","width","offsetWidth"),AZ=iL("block","height","offsetHeight");function CZ({target:t,borderBoxSize:e}){Hy.get(t)?.forEach(n=>{n(t,{get width(){return _Z(t,e)},get height(){return AZ(t,e)}})})}function kZ(t){t.forEach(CZ)}function NZ(){typeof ResizeObserver>"u"||($y=new ResizeObserver(kZ))}function RZ(t,e){$y||NZ();const n=eL(t);return n.forEach(s=>{let r=Hy.get(s);r||(r=new Set,Hy.set(s,r)),r.add(e),$y?.observe(s)}),()=>{n.forEach(s=>{const r=Hy.get(s);r?.delete(e),r?.size||$y?.unobserve(s)})}}const qy=new Set;let bd;function MZ(){bd=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};qy.forEach(e=>e(t))},window.addEventListener("resize",bd)}function IZ(t){return qy.add(t),bd||MZ(),()=>{qy.delete(t),!qy.size&&typeof bd=="function"&&(window.removeEventListener("resize",bd),bd=void 0)}}function nI(t,e){return typeof t=="function"?IZ(t):RZ(t,e)}function DZ(t){return G_(t)&&t.tagName==="svg"}const PZ=[...Qj,En,pi],OZ=t=>PZ.find(Xj(t)),sI=()=>({translate:0,scale:1,origin:0,originPoint:0}),wd=()=>({x:sI(),y:sI()}),rI=()=>({min:0,max:0}),In=()=>({x:rI(),y:rI()}),jZ=new WeakMap;function pv(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Pp(t){return typeof t=="string"||Array.isArray(t)}const Y_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],X_=["initial",...Y_];function mv(t){return pv(t.animate)||X_.some(e=>Pp(t[e]))}function oL(t){return!!(mv(t)||t.variants)}function LZ(t,e,n){for(const s in e){const r=e[s],i=n[s];if(Es(r))t.addValue(s,r);else if(Es(i))t.addValue(s,$d(r,{owner:t}));else if(i!==r)if(t.hasValue(s)){const o=t.getValue(s);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=t.getStaticValue(s);t.addValue(s,$d(o!==void 0?o:r,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const pS={current:null},aL={current:!1},VZ=typeof window<"u";function zZ(){if(aL.current=!0,!!VZ)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>pS.current=t.matches;t.addEventListener("change",e),e()}else pS.current=!1}const iI=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let I0={};function lL(t){I0=t}function BZ(){return I0}class UZ{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:r,skipAnimations:i,blockInitialAnimation:o,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=B_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Ps.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,It.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.skipAnimationsConfig=i,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=mv(n),this.isVariantNode=oL(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in y){const w=y[x];d[x]!==void 0&&Es(w)&&w.set(d[x])}}mount(e){if(this.hasBeenMounted)for(const n in this.initialValues)this.values.get(n)?.jump(this.initialValues[n]),this.latestValues[n]=this.initialValues[n];this.current=e,jZ.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(aL.current||zZ(),this.shouldReduceMotion=pS.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),Ml(this.notifyUpdate),Ml(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),n.accelerate&&mZ.has(e)&&this.current instanceof HTMLElement){const{factory:o,keyframes:l,times:u,ease:d,duration:f}=n.accelerate,p=new Uj({element:this.current,name:e,keyframes:l,times:u,ease:d,duration:fi(f)}),y=o(p);this.valueSubscriptions.set(e,()=>{y(),p.cancel()});return}const s=hh.has(e);s&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&It.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;typeof window<"u"&&window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in I0){const n=I0[e];if(!n)continue;const{isEnabled:s,Feature:r}=n;if(!this.features[e]&&r&&s(this.props)&&(this.features[e]=new r(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):In()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<iI.length;s++){const r=iI[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const i="on"+r,o=e[i];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=LZ(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=$d(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(aj(s)||cj(s))?s=parseFloat(s):!OZ(s)&&pi.test(n)&&(s=Zj(e,n)),this.setBaseTarget(e,Es(s)?s.get():s)),Es(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const i=H_(this.props,n,this.presenceContext?.custom);i&&(s=i[e])}if(n&&s!==void 0)return s;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!Es(r)?r:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new N_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){W_.render(this.render)}}class cL extends UZ{constructor(){super(...arguments),this.KeyframeResolver=pZ}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const s=e.style;return s?s[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Es(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Fl{constructor(e){this.isMounted=!1,this.node=e}update(){}}function uL({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function FZ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function HZ(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function vw(t){return t===void 0||t===1}function mS({scale:t,scaleX:e,scaleY:n}){return!vw(t)||!vw(e)||!vw(n)}function Ac(t){return mS(t)||dL(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function dL(t){return oI(t.x)||oI(t.y)}function oI(t){return t&&t!=="0%"}function D0(t,e,n){const s=t-n,r=e*s;return n+r}function aI(t,e,n,s,r){return r!==void 0&&(t=D0(t,r,s)),D0(t,n,s)+e}function gS(t,e=0,n=1,s,r){t.min=aI(t.min,e,n,s,r),t.max=aI(t.max,e,n,s,r)}function hL(t,{x:e,y:n}){gS(t.x,e.translate,e.scale,e.originPoint),gS(t.y,n.translate,n.scale,n.originPoint)}const lI=.999999999999,cI=1.0000000000001;function $Z(t,e,n,s=!1){const r=n.length;if(!r)return;e.x=e.y=1;let i,o;for(let l=0;l<r;l++){i=n[l],o=i.projectionDelta;const{visualElement:u}=i.options;u&&u.props.style&&u.props.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Sd(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,hL(t,o)),s&&Ac(i.latestValues)&&Sd(t,i.latestValues))}e.x<cI&&e.x>lI&&(e.x=1),e.y<cI&&e.y>lI&&(e.y=1)}function Ed(t,e){t.min=t.min+e,t.max=t.max+e}function uI(t,e,n,s,r=.5){const i=qt(t.min,t.max,r);gS(t,e,n,i,s)}function Sd(t,e){uI(t.x,e.x,e.scaleX,e.scale,e.originX),uI(t.y,e.y,e.scaleY,e.scale,e.originY)}function fL(t,e){return uL(HZ(t.getBoundingClientRect(),e))}function qZ(t,e,n){const s=fL(t,n),{scroll:r}=e;return r&&(Ed(s.x,r.offset.x),Ed(s.y,r.offset.y)),s}const WZ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},KZ=dh.length;function GZ(t,e,n){let s="",r=!0;for(let i=0;i<KZ;i++){const o=dh[i],l=t[o];if(l===void 0)continue;let u=!0;if(typeof l=="number")u=l===(o.startsWith("scale")?1:0);else{const d=parseFloat(l);u=o.startsWith("scale")?d===1:d===0}if(!u||n){const d=tL(l,q_[o]);if(!u){r=!1;const f=WZ[o]||o;s+=`${f}(${d}) `}n&&(e[o]=d)}}return s=s.trim(),n?s=n(e,r?"":s):r&&(s="none"),s}function Q_(t,e,n){const{style:s,vars:r,transformOrigin:i}=t;let o=!1,l=!1;for(const u in e){const d=e[u];if(hh.has(u)){o=!0;continue}else if(Tj(u)){r[u]=d;continue}else{const f=tL(d,q_[u]);u.startsWith("origin")?(l=!0,i[u]=f):s[u]=f}}if(e.transform||(o||n?s.transform=GZ(e,t.transform,n):s.transform&&(s.transform="none")),l){const{originX:u="50%",originY:d="50%",originZ:f=0}=i;s.transformOrigin=`${u} ${d} ${f}`}}function pL(t,{style:e,vars:n},s,r){const i=t.style;let o;for(o in e)i[o]=e[o];r?.applyProjectionStyles(i,s);for(o in n)i.setProperty(o,n[o])}function dI(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Af={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ne.test(t))t=parseFloat(t);else return t;const n=dI(t,e.target.x),s=dI(t,e.target.y);return`${n}% ${s}%`}},YZ={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,r=pi.parse(t);if(r.length>5)return s;const i=pi.createTransformer(t),o=typeof r[0]!="number"?1:0,l=n.x.scale*e.x,u=n.y.scale*e.y;r[0+o]/=l,r[1+o]/=u;const d=qt(l,u,.5);return typeof r[2+o]=="number"&&(r[2+o]/=d),typeof r[3+o]=="number"&&(r[3+o]/=d),i(r)}},yS={borderRadius:{...Af,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Af,borderTopRightRadius:Af,borderBottomLeftRadius:Af,borderBottomRightRadius:Af,boxShadow:YZ};function mL(t,{layout:e,layoutId:n}){return hh.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!yS[t]||t==="opacity")}function J_(t,e,n){const s=t.style,r=e?.style,i={};if(!s)return i;for(const o in s)(Es(s[o])||r&&Es(r[o])||mL(o,t)||n?.getValue(o)?.liveStyle!==void 0)&&(i[o]=s[o]);return i}function XZ(t){return window.getComputedStyle(t)}class QZ extends cL{constructor(){super(...arguments),this.type="html",this.renderInstance=pL}readValueFromInstance(e,n){if(hh.has(n))return this.projection?.isProjecting?nS(n):gJ(e,n);{const s=XZ(e),r=(Tj(n)?s.getPropertyValue(n):s[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return fL(e,n)}build(e,n,s){Q_(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return J_(e,n,s)}}const JZ={offset:"stroke-dashoffset",array:"stroke-dasharray"},ZZ={offset:"strokeDashoffset",array:"strokeDasharray"};function eee(t,e,n=1,s=0,r=!0){t.pathLength=1;const i=r?JZ:ZZ;t[i.offset]=`${-s}`,t[i.array]=`${e} ${n}`}const tee=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function gL(t,{attrX:e,attrY:n,attrScale:s,pathLength:r,pathSpacing:i=1,pathOffset:o=0,...l},u,d,f){if(Q_(t,l,d),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:y}=t;p.transform&&(y.transform=p.transform,delete p.transform),(y.transform||p.transformOrigin)&&(y.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),y.transform&&(y.transformBox=f?.transformBox??"fill-box",delete p.transformBox);for(const x of tee)p[x]!==void 0&&(y[x]=p[x],delete p[x]);e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),s!==void 0&&(p.scale=s),r!==void 0&&eee(p,r,i,o,!1)}const yL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),xL=t=>typeof t=="string"&&t.toLowerCase()==="svg";function nee(t,e,n,s){pL(t,e,void 0,s);for(const r in e.attrs)t.setAttribute(yL.has(r)?r:$_(r),e.attrs[r])}function vL(t,e,n){const s=J_(t,e,n);for(const r in t)if(Es(t[r])||Es(e[r])){const i=dh.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[i]=t[r]}return s}class see extends cL{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=In}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(hh.has(n)){const s=Jj(n);return s&&s.default||0}return n=yL.has(n)?n:$_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return vL(e,n,s)}build(e,n,s){gL(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,r){nee(e,n,s,r)}mount(e){this.isSVGTag=xL(e.tagName),super.mount(e)}}const ree=X_.length;function bL(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?bL(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<ree;n++){const s=X_[n],r=t.props[s];(Pp(r)||r===!1)&&(e[s]=r)}return e}function wL(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const iee=[...Y_].reverse(),oee=Y_.length;function aee(t){return e=>Promise.all(e.map(({animation:n,options:s})=>sZ(t,n,s)))}function lee(t){let e=aee(t),n=hI(),s=!0;const r=u=>(d,f)=>{const p=Md(t,f,u==="exit"?t.presenceContext?.custom:void 0);if(p){const{transition:y,transitionEnd:x,...w}=p;d={...d,...w,...x}}return d};function i(u){e=u(t)}function o(u){const{props:d}=t,f=bL(t.parent)||{},p=[],y=new Set;let x={},w=1/0;for(let S=0;S<oee;S++){const A=iee[S],N=n[A],P=d[A]!==void 0?d[A]:f[A],O=Pp(P),L=A===u?N.isActive:null;L===!1&&(w=S);let F=P===f[A]&&P!==d[A]&&O;if(F&&s&&t.manuallyAnimateOnMount&&(F=!1),N.protectedKeys={...x},!N.isActive&&L===null||!P&&!N.prevProp||pv(P)||typeof P=="boolean")continue;if(A==="exit"&&N.isActive&&L!==!0){N.prevResolvedValues&&(x={...x,...N.prevResolvedValues});continue}const I=cee(N.prevProp,P);let R=I||A===u&&N.isActive&&!F&&O||S>w&&O,D=!1;const z=Array.isArray(P)?P:[P];let B=z.reduce(r(A),{});L===!1&&(B={});const{prevResolvedValues:H={}}=N,U={...H,...B},he=X=>{R=!0,y.has(X)&&(D=!0,y.delete(X)),N.needsAnimating[X]=!0;const Y=t.getValue(X);Y&&(Y.liveStyle=!1)};for(const X in U){const Y=B[X],xe=H[X];if(x.hasOwnProperty(X))continue;let Me=!1;lS(Y)&&lS(xe)?Me=!wL(Y,xe):Me=Y!==xe,Me?Y!=null?he(X):y.add(X):Y!==void 0&&y.has(X)?he(X):N.protectedKeys[X]=!0}N.prevProp=P,N.prevResolvedValues=B,N.isActive&&(x={...x,...B}),s&&t.blockInitialAnimation&&(R=!1);const ce=F&&I;R&&(!ce||D)&&p.push(...z.map(X=>{const Y={type:A};if(typeof X=="string"&&s&&!ce&&t.manuallyAnimateOnMount&&t.parent){const{parent:xe}=t,Me=Md(xe,X);if(xe.enteringChildren&&Me){const{delayChildren:q}=Me.transition||{};Y.delay=Hj(xe.enteringChildren,t,q)}}return{animation:X,options:Y}}))}if(y.size){const S={};if(typeof d.initial!="boolean"){const A=Md(t,Array.isArray(d.initial)?d.initial[0]:d.initial);A&&A.transition&&(S.transition=A.transition)}y.forEach(A=>{const N=t.getBaseTarget(A),P=t.getValue(A);P&&(P.liveStyle=!0),S[A]=N??null}),p.push({animation:S})}let T=!!p.length;return s&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(T=!1),s=!1,T?e(p):Promise.resolve()}function l(u,d){if(n[u].isActive===d)return Promise.resolve();t.variantChildren?.forEach(p=>p.animationState?.setActive(u,d)),n[u].isActive=d;const f=o(u);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=hI()}}}function cee(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!wL(e,t):!1}function Ec(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function hI(){return{animate:Ec(!0),whileInView:Ec(),whileHover:Ec(),whileTap:Ec(),whileDrag:Ec(),whileFocus:Ec(),exit:Ec()}}function fI(t,e){t.min=e.min,t.max=e.max}function si(t,e){fI(t.x,e.x),fI(t.y,e.y)}function pI(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const EL=1e-4,uee=1-EL,dee=1+EL,SL=.01,hee=0-SL,fee=0+SL;function Os(t){return t.max-t.min}function pee(t,e,n){return Math.abs(t-e)<=n}function mI(t,e,n,s=.5){t.origin=s,t.originPoint=qt(e.min,e.max,t.origin),t.scale=Os(n)/Os(e),t.translate=qt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=uee&&t.scale<=dee||isNaN(t.scale))&&(t.scale=1),(t.translate>=hee&&t.translate<=fee||isNaN(t.translate))&&(t.translate=0)}function np(t,e,n,s){mI(t.x,e.x,n.x,s?s.originX:void 0),mI(t.y,e.y,n.y,s?s.originY:void 0)}function gI(t,e,n){t.min=n.min+e.min,t.max=t.min+Os(e)}function mee(t,e,n){gI(t.x,e.x,n.x),gI(t.y,e.y,n.y)}function yI(t,e,n){t.min=e.min-n.min,t.max=t.min+Os(e)}function P0(t,e,n){yI(t.x,e.x,n.x),yI(t.y,e.y,n.y)}function xI(t,e,n,s,r){return t-=e,t=D0(t,1/n,s),r!==void 0&&(t=D0(t,1/r,s)),t}function gee(t,e=0,n=1,s=.5,r,i=t,o=t){if(no.test(e)&&(e=parseFloat(e),e=qt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=qt(i.min,i.max,s);t===i&&(l-=e),t.min=xI(t.min,e,n,l,r),t.max=xI(t.max,e,n,l,r)}function vI(t,e,[n,s,r],i,o){gee(t,e[n],e[s],e[r],e.scale,i,o)}const yee=["x","scaleX","originX"],xee=["y","scaleY","originY"];function bI(t,e,n,s){vI(t.x,e,yee,n?n.x:void 0,s?s.x:void 0),vI(t.y,e,xee,n?n.y:void 0,s?s.y:void 0)}function wI(t){return t.translate===0&&t.scale===1}function TL(t){return wI(t.x)&&wI(t.y)}function EI(t,e){return t.min===e.min&&t.max===e.max}function vee(t,e){return EI(t.x,e.x)&&EI(t.y,e.y)}function SI(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function _L(t,e){return SI(t.x,e.x)&&SI(t.y,e.y)}function TI(t){return Os(t.x)/Os(t.y)}function _I(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Fi(t){return[t("x"),t("y")]}function bee(t,e,n){let s="";const r=t.x.translate/e.x,i=t.y.translate/e.y,o=n?.z||0;if((r||i||o)&&(s=`translate3d(${r}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:f,rotateX:p,rotateY:y,skewX:x,skewY:w}=n;d&&(s=`perspective(${d}px) ${s}`),f&&(s+=`rotate(${f}deg) `),p&&(s+=`rotateX(${p}deg) `),y&&(s+=`rotateY(${y}deg) `),x&&(s+=`skewX(${x}deg) `),w&&(s+=`skewY(${w}deg) `)}const l=t.x.scale*e.x,u=t.y.scale*e.y;return(l!==1||u!==1)&&(s+=`scale(${l}, ${u})`),s||"none"}const AL=["TopLeft","TopRight","BottomLeft","BottomRight"],wee=AL.length,AI=t=>typeof t=="string"?parseFloat(t):t,CI=t=>typeof t=="number"||Ne.test(t);function Eee(t,e,n,s,r,i){r?(t.opacity=qt(0,n.opacity??1,See(s)),t.opacityExit=qt(e.opacity??1,0,Tee(s))):i&&(t.opacity=qt(e.opacity??1,n.opacity??1,s));for(let o=0;o<wee;o++){const l=`border${AL[o]}Radius`;let u=kI(e,l),d=kI(n,l);if(u===void 0&&d===void 0)continue;u||(u=0),d||(d=0),u===0||d===0||CI(u)===CI(d)?(t[l]=Math.max(qt(AI(u),AI(d),s),0),(no.test(d)||no.test(u))&&(t[l]+="%")):t[l]=d}(e.rotate||n.rotate)&&(t.rotate=qt(e.rotate||0,n.rotate||0,s))}function kI(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const See=CL(0,.5,xj),Tee=CL(.5,.95,qr);function CL(t,e,n){return s=>s<t?0:s>e?1:n(Mp(t,e,s))}function _ee(t,e,n){const s=Es(t)?t:$d(t);return s.start(F_("",s,e,n)),s.animation}function Op(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}const Aee=(t,e)=>t.depth-e.depth;class Cee{constructor(){this.children=[],this.isDirty=!1}add(e){C_(this.children,e),this.isDirty=!0}remove(e){k0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Aee),this.isDirty=!1,this.children.forEach(e)}}function kee(t,e){const n=Ps.now(),s=({timestamp:r})=>{const i=r-n;i>=e&&(Ml(s),t(i-e))};return It.setup(s,!0),()=>Ml(s)}function Wy(t){return Es(t)?t.get():t}class Nee{constructor(){this.members=[]}add(e){C_(this.members,e);for(let n=this.members.length-1;n>=0;n--){const s=this.members[n];if(s===e||s===this.lead||s===this.prevLead)continue;const r=s.instance;r&&r.isConnected===!1&&s.isPresent!==!1&&!s.snapshot&&k0(this.members,s)}e.scheduleRender()}remove(e){if(k0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const i=this.members[r],o=i.instance;if(i.isPresent!==!1&&(!o||o.isConnected!==!1)){s=i;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender();const r=s.options.layoutDependency,i=e.options.layoutDependency;if(!(r!==void 0&&i!==void 0&&r===i)){const u=s.instance;u&&u.isConnected===!1&&!s.snapshot||(e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:l}=e.options;l===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Ky={hasAnimatedSinceResize:!0,hasEverUpdated:!1},bw=["","X","Y","Z"],Ree=1e3;let Mee=0;function ww(t,e,n,s){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),s&&(s[t]=0))}function kL(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Gj(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",It,!(r||i))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&kL(s)}function NL({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(o={},l=e?.()){this.id=Mee++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Pee),this.nodes.forEach(Vee),this.nodes.forEach(zee),this.nodes.forEach(Oee)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new Cee)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new N_),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const u=this.eventHandlers.get(o);u&&u.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=G_(o)&&!DZ(o),this.instance=o;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||l)&&(this.isLayoutDirty=!0),t){let f,p=0;const y=()=>this.root.updateBlockedByResize=!1;It.read(()=>{p=window.innerWidth}),t(o,()=>{const x=window.innerWidth;x!==p&&(p=x,this.root.updateBlockedByResize=!0,f&&f(),f=kee(y,250),Ky.hasAnimatedSinceResize&&(Ky.hasAnimatedSinceResize=!1,this.nodes.forEach(MI)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:y,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||$ee,{onLayoutAnimationStart:T,onLayoutAnimationComplete:S}=d.getProps(),A=!this.targetLayout||!_L(this.targetLayout,x),N=!p&&y;if(this.options.layoutRoot||this.resumeFrom||N||p&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const P={...U_(w,"layout"),onPlay:T,onComplete:S};(d.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P),this.setAnimationOrigin(f,N)}else p||MI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ml(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Bee),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&kL(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const p=this.path[f];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(NI);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(RI);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Lee),this.nodes.forEach(Iee),this.nodes.forEach(Dee)):this.nodes.forEach(RI),this.clearAllSnapshots();const l=Ps.now();ts.delta=oo(0,1e3/60,l-ts.timestamp),ts.timestamp=l,ts.isProcessing=!0,hw.update.process(ts),hw.preRender.process(ts),hw.render.process(ts),ts.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,W_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(jee),this.sharedNodes.forEach(Uee)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,It.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){It.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Os(this.snapshot.measuredBox.x)&&!Os(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=In(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const u=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!TL(this.projectionDelta),u=this.getTransformTemplate(),d=u?u(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||Ac(this.latestValues)||f)&&(r(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return o&&(u=this.removeTransform(u)),qee(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return In();const l=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Wee))){const{scroll:d}=this.root;d&&(Ed(l.x,d.offset.x),Ed(l.y,d.offset.y))}return l}removeElementScroll(o){const l=In();if(si(l,o),this.scroll?.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:p}=d;d!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&si(l,o),Ed(l.x,f.offset.x),Ed(l.y,f.offset.y))}return l}applyTransform(o,l=!1){const u=In();si(u,o);for(let d=0;d<this.path.length;d++){const f=this.path[d];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Sd(u,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Ac(f.latestValues)&&Sd(u,f.latestValues)}return Ac(this.latestValues)&&Sd(u,this.latestValues),u}removeTransform(o){const l=In();si(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];if(!d.instance||!Ac(d.latestValues))continue;mS(d.latestValues)&&d.updateSnapshot();const f=In(),p=d.measurePageBox();si(f,p),bI(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return Ac(this.latestValues)&&bI(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ts.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:p}=this.options;if(!this.layout||!(f||p))return;this.resolvedRelativeTargetAt=ts.timestamp;const y=this.getClosestProjectingParent();y&&this.linkedParentVersion!==y.layoutVersion&&!y.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(y&&y.layout?this.createRelativeTarget(y,this.layout.layoutBox,y.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=In(),this.targetWithTransforms=In()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),mee(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):si(this.target,this.layout.layoutBox),hL(this.target,this.targetDelta)):si(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?this.createRelativeTarget(y,this.target,y.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||mS(this.parent.latestValues)||dL(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,l,u){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=In(),this.relativeTargetOrigin=In(),P0(this.relativeTargetOrigin,l,u),si(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const o=this.getLead(),l=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===ts.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;si(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,y=this.treeScale.y;$Z(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=In());const{target:x}=o;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(pI(this.prevProjectionDelta.x,this.projectionDelta.x),pI(this.prevProjectionDelta.y,this.projectionDelta.y)),np(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==y||!_I(this.projectionDelta.x,this.prevProjectionDelta.x)||!_I(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=wd(),this.projectionDelta=wd(),this.projectionDeltaWithTransform=wd()}setAnimationOrigin(o,l=!1){const u=this.snapshot,d=u?u.latestValues:{},f={...this.latestValues},p=wd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const y=In(),x=u?u.source:void 0,w=this.layout?this.layout.source:void 0,T=x!==w,S=this.getStack(),A=!S||S.members.length<=1,N=!!(T&&!A&&this.options.crossfade===!0&&!this.path.some(Hee));this.animationProgress=0;let P;this.mixTargetDelta=O=>{const L=O/1e3;II(p.x,o.x,L),II(p.y,o.y,L),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(P0(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Fee(this.relativeTarget,this.relativeTargetOrigin,y,L),P&&vee(this.relativeTarget,P)&&(this.isProjectionDirty=!1),P||(P=In()),si(P,this.relativeTarget)),T&&(this.animationValues=f,Eee(f,d,this.latestValues,L,N,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=L},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ml(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=It.update(()=>{Ky.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=$d(0)),this.motionValue.jump(0,!1),this.currentAnimation=_ee(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ree),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:u,layout:d,latestValues:f}=o;if(!(!l||!u||!d)){if(this!==o&&this.layout&&d&&RL(this.options.animationType,this.layout.layoutBox,d.layoutBox)){u=this.target||In();const p=Os(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+p;const y=Os(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+y}si(l,u),Sd(l,f),np(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Nee),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:u}={}){const d=this.getStack();d&&d.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(l=!0),!l)return;const d={};u.z&&ww("z",o,d,this.animationValues);for(let f=0;f<bw.length;f++)ww(`rotate${bw[f]}`,o,d,this.animationValues),ww(`skew${bw[f]}`,o,d,this.animationValues);o.render();for(const f in d)o.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Wy(l?.pointerEvents)||"",o.transform=u?u(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Wy(l?.pointerEvents)||""),this.hasProjected&&!Ac(this.latestValues)&&(o.transform=u?u({},""):"none",this.hasProjected=!1);return}o.visibility="";const f=d.animationValues||d.latestValues;this.applyTransformsToTarget();let p=bee(this.projectionDeltaWithTransform,this.treeScale,f);u&&(p=u(f,p)),o.transform=p;const{x:y,y:x}=this.projectionDelta;o.transformOrigin=`${y.origin*100}% ${x.origin*100}% 0`,d.animationValues?o.opacity=d===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:o.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const w in yS){if(f[w]===void 0)continue;const{correct:T,applyTo:S,isCSSVariable:A}=yS[w],N=p==="none"?f[w]:T(f[w],d);if(S){const P=S.length;for(let O=0;O<P;O++)o[S[O]]=N}else A?this.options.visualElement.renderState.vars[w]=N:o[w]=N}this.options.layoutId&&(o.pointerEvents=d===this?Wy(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(NI),this.root.sharedNodes.clear()}}}function Iee(t){t.updateLayout()}function Dee(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:r}=t.options,i=e.source!==t.layout.source;r==="size"?Fi(f=>{const p=i?e.measuredBox[f]:e.layoutBox[f],y=Os(p);p.min=n[f].min,p.max=p.min+y}):RL(r,e.layoutBox,n)&&Fi(f=>{const p=i?e.measuredBox[f]:e.layoutBox[f],y=Os(n[f]);p.max=p.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+y)});const o=wd();np(o,n,e.layoutBox);const l=wd();i?np(l,t.applyTransform(s,!0),e.measuredBox):np(l,n,e.layoutBox);const u=!TL(o);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:y}=f;if(p&&y){const x=In();P0(x,e.layoutBox,p.layoutBox);const w=In();P0(w,n,y.layoutBox),_L(x,w)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=x,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Pee(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Oee(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function jee(t){t.clearSnapshot()}function NI(t){t.clearMeasurements()}function RI(t){t.isLayoutDirty=!1}function Lee(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function MI(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Vee(t){t.resolveTargetDelta()}function zee(t){t.calcProjection()}function Bee(t){t.resetSkewAndRotation()}function Uee(t){t.removeLeadSnapshot()}function II(t,e,n){t.translate=qt(e.translate,0,n),t.scale=qt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function DI(t,e,n,s){t.min=qt(e.min,n.min,s),t.max=qt(e.max,n.max,s)}function Fee(t,e,n,s){DI(t.x,e.x,n.x,s),DI(t.y,e.y,n.y,s)}function Hee(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const $ee={duration:.45,ease:[.4,0,.1,1]},PI=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),OI=PI("applewebkit/")&&!PI("chrome/")?Math.round:qr;function jI(t){t.min=OI(t.min),t.max=OI(t.max)}function qee(t){jI(t.x),jI(t.y)}function RL(t,e,n){return t==="position"||t==="preserve-aspect"&&!pee(TI(e),TI(n),.2)}function Wee(t){return t!==t.root&&t.scroll?.wasRoot}const Kee=NL({attachResizeListener:(t,e)=>Op(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Ew={current:void 0},ML=NL({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ew.current){const t=new Kee({});t.mount(window),t.setOptions({layoutScroll:!0}),Ew.current=t}return Ew.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Z_=_.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function LI(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Gee(...t){return e=>{let n=!1;const s=t.map(r=>{const i=LI(r,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let r=0;r<s.length;r++){const i=s[r];typeof i=="function"?i():LI(t[r],null)}}}}function Yee(...t){return _.useCallback(Gee(...t),t)}class Xee extends _.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const s=n.offsetParent,r=fS(s)&&s.offsetWidth||0,i=fS(s)&&s.offsetHeight||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=r-o.width-o.left,o.bottom=i-o.height-o.top}return null}componentDidUpdate(){}render(){return this.props.children}}function Qee({children:t,isPresent:e,anchorX:n,anchorY:s,root:r,pop:i}){const o=_.useId(),l=_.useRef(null),u=_.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:d}=_.useContext(Z_),f=t.props?.ref??t?.ref,p=Yee(l,f);return _.useInsertionEffect(()=>{const{width:y,height:x,top:w,left:T,right:S,bottom:A}=u.current;if(e||i===!1||!l.current||!y||!x)return;const N=n==="left"?`left: ${T}`:`right: ${S}`,P=s==="bottom"?`bottom: ${A}`:`top: ${w}`;l.current.dataset.motionPopId=o;const O=document.createElement("style");d&&(O.nonce=d);const L=r??document.head;return L.appendChild(O),O.sheet&&O.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${y}px !important;
            height: ${x}px !important;
            ${N}px !important;
            ${P}px !important;
          }
        `),()=>{L.contains(O)&&L.removeChild(O)}},[e]),m.jsx(Xee,{isPresent:e,childRef:l,sizeRef:u,pop:i,children:i===!1?t:_.cloneElement(t,{ref:p})})}const Jee=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:r,presenceAffectsLayout:i,mode:o,anchorX:l,anchorY:u,root:d})=>{const f=A_(Zee),p=_.useId();let y=!0,x=_.useMemo(()=>(y=!1,{id:p,initial:e,isPresent:n,custom:r,onExitComplete:w=>{f.set(w,!0);for(const T of f.values())if(!T)return;s&&s()},register:w=>(f.set(w,!1),()=>f.delete(w))}),[n,f,s]);return i&&y&&(x={...x}),_.useMemo(()=>{f.forEach((w,T)=>f.set(T,!1))},[n]),_.useEffect(()=>{!n&&!f.size&&s&&s()},[n]),t=m.jsx(Qee,{pop:o==="popLayout",isPresent:n,anchorX:l,anchorY:u,root:d,children:t}),m.jsx(fv.Provider,{value:x,children:t})};function Zee(){return new Map}function IL(t=!0){const e=_.useContext(fv);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:r}=e,i=_.useId();_.useEffect(()=>{if(t)return r(i)},[t]);const o=_.useCallback(()=>t&&s&&s(i),[i,s,t]);return!n&&s?[!1,o]:[!0]}const oy=t=>t.key||"";function VI(t){const e=[];return _.Children.forEach(t,n=>{_.isValidElement(n)&&e.push(n)}),e}const On=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:r=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",anchorY:u="top",root:d})=>{const[f,p]=IL(o),y=_.useMemo(()=>VI(t),[t]),x=o&&!f?[]:y.map(oy),w=_.useRef(!0),T=_.useRef(y),S=A_(()=>new Map),A=_.useRef(new Set),[N,P]=_.useState(y),[O,L]=_.useState(y);oj(()=>{w.current=!1,T.current=y;for(let R=0;R<O.length;R++){const D=oy(O[R]);x.includes(D)?(S.delete(D),A.current.delete(D)):S.get(D)!==!0&&S.set(D,!1)}},[O,x.length,x.join("-")]);const F=[];if(y!==N){let R=[...y];for(let D=0;D<O.length;D++){const z=O[D],B=oy(z);x.includes(B)||(R.splice(D,0,z),F.push(z))}return i==="wait"&&F.length&&(R=F),L(VI(R)),P(y),null}const{forceRender:I}=_.useContext(__);return m.jsx(m.Fragment,{children:O.map(R=>{const D=oy(R),z=o&&!f?!1:y===O||x.includes(D),B=()=>{if(A.current.has(D))return;if(A.current.add(D),S.has(D))S.set(D,!0);else return;let H=!0;S.forEach(U=>{U||(H=!1)}),H&&(I?.(),L(T.current),o&&p?.(),s&&s())};return m.jsx(Jee,{isPresent:z,initial:!w.current||n?void 0:!1,custom:e,presenceAffectsLayout:r,mode:i,root:d,onExitComplete:z?void 0:B,anchorX:l,anchorY:u,children:R},D)})})},DL=_.createContext({strict:!1}),zI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let BI=!1;function ete(){if(BI)return;const t={};for(const e in zI)t[e]={isEnabled:n=>zI[e].some(s=>!!n[s])};lL(t),BI=!0}function PL(){return ete(),BZ()}function tte(t){const e=PL();for(const n in t)e[n]={...e[n],...t[n]};lL(e)}const nte=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function O0(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||nte.has(t)}let OL=t=>!O0(t);function ste(t){typeof t=="function"&&(OL=e=>e.startsWith("on")?!O0(e):t(e))}try{ste(require("@emotion/is-prop-valid").default)}catch{}function rte(t,e,n){const s={};for(const r in t)r==="values"&&typeof t.values=="object"||(OL(r)||n===!0&&O0(r)||!e&&!O0(r)||t.draggable&&r.startsWith("onDrag"))&&(s[r]=t[r]);return s}const gv=_.createContext({});function ite(t,e){if(mv(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Pp(n)?n:void 0,animate:Pp(s)?s:void 0}}return t.inherit!==!1?e:{}}function ote(t){const{initial:e,animate:n}=ite(t,_.useContext(gv));return _.useMemo(()=>({initial:e,animate:n}),[UI(e),UI(n)])}function UI(t){return Array.isArray(t)?t.join(" "):t}const e2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function jL(t,e,n){for(const s in e)!Es(e[s])&&!mL(s,n)&&(t[s]=e[s])}function ate({transformTemplate:t},e){return _.useMemo(()=>{const n=e2();return Q_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function lte(t,e){const n=t.style||{},s={};return jL(s,n,t),Object.assign(s,ate(t,e)),s}function cte(t,e){const n={},s=lte(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const LL=()=>({...e2(),attrs:{}});function ute(t,e,n,s){const r=_.useMemo(()=>{const i=LL();return gL(i,e,xL(s),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};jL(i,t.style,t),r.style={...i,...r.style}}return r}const dte=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function t2(t){return typeof t!="string"||t.includes("-")?!1:!!(dte.indexOf(t)>-1||/[A-Z]/u.test(t))}function hte(t,e,n,{latestValues:s},r,i=!1,o){const u=(o??t2(t)?ute:cte)(e,s,r,t),d=rte(e,typeof t=="string",i),f=t!==_.Fragment?{...d,...u,ref:n}:{},{children:p}=e,y=_.useMemo(()=>Es(p)?p.get():p,[p]);return _.createElement(t,{...f,children:y})}function fte({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,r){return{latestValues:pte(n,s,r,t),renderState:e()}}function pte(t,e,n,s){const r={},i=s(t,{});for(const y in i)r[y]=Wy(i[y]);let{initial:o,animate:l}=t;const u=mv(t),d=oL(t);e&&d&&!u&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let f=n?n.initial===!1:!1;f=f||o===!1;const p=f?l:o;if(p&&typeof p!="boolean"&&!pv(p)){const y=Array.isArray(p)?p:[p];for(let x=0;x<y.length;x++){const w=H_(t,y[x]);if(w){const{transitionEnd:T,transition:S,...A}=w;for(const N in A){let P=A[N];if(Array.isArray(P)){const O=f?P.length-1:0;P=P[O]}P!==null&&(r[N]=P)}for(const N in T)r[N]=T[N]}}}return r}const VL=t=>(e,n)=>{const s=_.useContext(gv),r=_.useContext(fv),i=()=>fte(t,e,s,r);return n?i():A_(i)},mte=VL({scrapeMotionValuesFromProps:J_,createRenderState:e2}),gte=VL({scrapeMotionValuesFromProps:vL,createRenderState:LL}),yte=Symbol.for("motionComponentSymbol");function xte(t,e,n){const s=_.useRef(n);_.useInsertionEffect(()=>{s.current=n});const r=_.useRef(null);return _.useCallback(i=>{i&&t.onMount?.(i),e&&(i?e.mount(i):e.unmount());const o=s.current;if(typeof o=="function")if(i){const l=o(i);typeof l=="function"&&(r.current=l)}else r.current?(r.current(),r.current=null):o(i);else o&&(o.current=i)},[e])}const zL=_.createContext({});function pd(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function vte(t,e,n,s,r,i){const{visualElement:o}=_.useContext(gv),l=_.useContext(DL),u=_.useContext(fv),d=_.useContext(Z_),f=d.reducedMotion,p=d.skipAnimations,y=_.useRef(null),x=_.useRef(!1);s=s||l.renderer,!y.current&&s&&(y.current=s(t,{visualState:e,parent:o,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:f,skipAnimations:p,isSVG:i}),x.current&&y.current&&(y.current.manuallyAnimateOnMount=!0));const w=y.current,T=_.useContext(zL);w&&!w.projection&&r&&(w.type==="html"||w.type==="svg")&&bte(y.current,n,r,T);const S=_.useRef(!1);_.useInsertionEffect(()=>{w&&S.current&&w.update(n,u)});const A=n[Kj],N=_.useRef(!!A&&!window.MotionHandoffIsComplete?.(A)&&window.MotionHasOptimisedAnimation?.(A));return oj(()=>{x.current=!0,w&&(S.current=!0,window.MotionIsMounted=!0,w.updateFeatures(),w.scheduleRenderMicrotask(),N.current&&w.animationState&&w.animationState.animateChanges())}),_.useEffect(()=>{w&&(!N.current&&w.animationState&&w.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(A)}),N.current=!1),w.enteringChildren=void 0)}),w}function bte(t,e,n,s){const{layoutId:r,layout:i,drag:o,dragConstraints:l,layoutScroll:u,layoutRoot:d,layoutCrossfade:f}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:BL(t.parent)),t.projection.setOptions({layoutId:r,layout:i,alwaysMeasureLayout:!!o||l&&pd(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:s,crossfade:f,layoutScroll:u,layoutRoot:d})}function BL(t){if(t)return t.options.allowProjection!==!1?t.projection:BL(t.parent)}function Sw(t,{forwardMotionProps:e=!1,type:n}={},s,r){s&&tte(s);const i=n?n==="svg":t2(t),o=i?gte:mte;function l(d,f){let p;const y={..._.useContext(Z_),...d,layoutId:wte(d)},{isStatic:x}=y,w=ote(d),T=o(d,x);if(!x&&ij){Ete();const S=Ste(y);p=S.MeasureLayout,w.visualElement=vte(t,T,y,r,S.ProjectionNode,i)}return m.jsxs(gv.Provider,{value:w,children:[p&&w.visualElement?m.jsx(p,{visualElement:w.visualElement,...y}):null,hte(t,d,xte(T,w.visualElement,f),T,x,e,i)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=_.forwardRef(l);return u[yte]=t,u}function wte({layoutId:t}){const e=_.useContext(__).id;return e&&t!==void 0?e+"-"+t:t}function Ete(t,e){_.useContext(DL).strict}function Ste(t){const e=PL(),{drag:n,layout:s}=e;if(!n&&!s)return{};const r={...n,...s};return{MeasureLayout:n?.isEnabled(t)||s?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function Tte(t,e){if(typeof Proxy>"u")return Sw;const n=new Map,s=(i,o)=>Sw(i,o,t,e),r=(i,o)=>s(i,o);return new Proxy(r,{get:(i,o)=>o==="create"?s:(n.has(o)||n.set(o,Sw(o,void 0,t,e)),n.get(o))})}const _te=(t,e)=>e.isSVG??t2(t)?new see(e):new QZ(e,{allowProjection:t!==_.Fragment});class Ate extends Fl{constructor(e){super(e),e.animationState||(e.animationState=lee(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();pv(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Cte=0;class kte extends Fl{constructor(){super(...arguments),this.id=Cte++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Nte={animation:{Feature:Ate},exit:{Feature:kte}};function gm(t){return{point:{x:t.pageX,y:t.pageY}}}const Rte=t=>e=>K_(e)&&t(e,gm(e));function sp(t,e,n,s){return Op(t,e,Rte(n),s)}const UL=({current:t})=>t?t.ownerDocument.defaultView:null,FI=(t,e)=>Math.abs(t-e);function Mte(t,e){const n=FI(t.x,e.x),s=FI(t.y,e.y);return Math.sqrt(n**2+s**2)}const HI=new Set(["auto","scroll"]);class FL{constructor(e,n,{transformPagePoint:s,contextWindow:r=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3,element:l}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=x=>{this.handleScroll(x.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=_w(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,T=Mte(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!T)return;const{point:S}=x,{timestamp:A}=ts;this.history.push({...S,timestamp:A});const{onStart:N,onMove:P}=this.handlers;w||(N&&N(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,x)},this.handlePointerMove=(x,w)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=Tw(w,this.transformPagePoint),It.update(this.updatePoint,!0)},this.handlePointerUp=(x,w)=>{this.end();const{onEnd:T,onSessionEnd:S,resumeAnimation:A}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=_w(x.type==="pointercancel"?this.lastMoveEventInfo:Tw(w,this.transformPagePoint),this.history);this.startEvent&&T&&T(x,N),S&&S(x,N)},!K_(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=o,this.contextWindow=r||window;const u=gm(e),d=Tw(u,this.transformPagePoint),{point:f}=d,{timestamp:p}=ts;this.history=[{...f,timestamp:p}];const{onSessionStart:y}=n;y&&y(e,_w(d,this.history)),this.removeListeners=fm(sp(this.contextWindow,"pointermove",this.handlePointerMove),sp(this.contextWindow,"pointerup",this.handlePointerUp),sp(this.contextWindow,"pointercancel",this.handlePointerUp)),l&&this.startScrollTracking(l)}startScrollTracking(e){let n=e.parentElement;for(;n;){const s=getComputedStyle(n);(HI.has(s.overflowX)||HI.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0}),window.addEventListener("scroll",this.onWindowScroll),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const s=e===window,r=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},i={x:r.x-n.x,y:r.y-n.y};i.x===0&&i.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=i.x,this.lastMoveEventInfo.point.y+=i.y):this.history.length>0&&(this.history[0].x-=i.x,this.history[0].y-=i.y),this.scrollPositions.set(e,r),It.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Ml(this.updatePoint)}}function Tw(t,e){return e?{point:e(t.point)}:t}function $I(t,e){return{x:t.x-e.x,y:t.y-e.y}}function _w({point:t},e){return{point:t,delta:$I(t,HL(e)),offset:$I(t,Ite(e)),velocity:Dte(e,.1)}}function Ite(t){return t[0]}function HL(t){return t[t.length-1]}function Dte(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const r=HL(t);for(;n>=0&&(s=t[n],!(r.timestamp-s.timestamp>fi(e)));)n--;if(!s)return{x:0,y:0};s===t[0]&&t.length>2&&r.timestamp-s.timestamp>fi(e)*2&&(s=t[1]);const i=$r(r.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const o={x:(r.x-s.x)/i,y:(r.y-s.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Pte(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?qt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?qt(n,t,s.max):Math.min(t,n)),t}function qI(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Ote(t,{top:e,left:n,bottom:s,right:r}){return{x:qI(t.x,n,r),y:qI(t.y,e,s)}}function WI(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function jte(t,e){return{x:WI(t.x,e.x),y:WI(t.y,e.y)}}function Lte(t,e){let n=.5;const s=Os(t),r=Os(e);return r>s?n=Mp(e.min,e.max-s,t.min):s>r&&(n=Mp(t.min,t.max-r,e.min)),oo(0,1,n)}function Vte(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const xS=.35;function zte(t=xS){return t===!1?t=0:t===!0&&(t=xS),{x:KI(t,"left","right"),y:KI(t,"top","bottom")}}function KI(t,e,n){return{min:GI(t,e),max:GI(t,n)}}function GI(t,e){return typeof t=="number"?t:t[e]||0}const Bte=new WeakMap;class Ute{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=In(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=p=>{n&&this.snapToCursor(gm(p).point),this.stopAnimation()},o=(p,y)=>{const{drag:x,dragPropagation:w,onDragStart:T}=this.getProps();if(x&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=gZ(x),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Fi(A=>{let N=this.getAxisMotionValue(A).get()||0;if(no.test(N)){const{projection:P}=this.visualElement;if(P&&P.layout){const O=P.layout.layoutBox[A];O&&(N=Os(O)*(parseFloat(N)/100))}}this.originPoint[A]=N}),T&&It.update(()=>T(p,y),!1,!0),cS(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},l=(p,y)=>{this.latestPointerEvent=p,this.latestPanInfo=y;const{dragPropagation:x,dragDirectionLock:w,onDirectionLock:T,onDrag:S}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:A}=y;if(w&&this.currentDirection===null){this.currentDirection=Hte(A),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",y.point,A),this.updateAxis("y",y.point,A),this.visualElement.render(),S&&It.update(()=>S(p,y),!1,!0)},u=(p,y)=>{this.latestPointerEvent=p,this.latestPanInfo=y,this.stop(p,y),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>{const{dragSnapToOrigin:p}=this.getProps();(p||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:f}=this.getProps();this.panSession=new FL(e,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:s,contextWindow:UL(this.visualElement),element:this.visualElement.current})}stop(e,n){const s=e||this.latestPointerEvent,r=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!r||!s)return;const{velocity:o}=r;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&It.postRender(()=>l(s,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,s){const{drag:r}=this.getProps();if(!s||!ay(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(o=Pte(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&pd(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=Ote(s.layoutBox,e):this.constraints=!1,this.elastic=zte(n),r!==this.constraints&&!pd(e)&&s&&this.constraints&&!this.hasMutatedConstraints&&Fi(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=Vte(s.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!pd(e))return!1;const s=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=qZ(s,r.root,this.visualElement.getTransformPagePoint());let o=jte(r.layout.layoutBox,i);if(n){const l=n(FZ(o));this.hasMutatedConstraints=!!l,l&&(o=uL(l))}return o}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},d=Fi(f=>{if(!ay(f,n,this.currentDirection))return;let p=u&&u[f]||{};o&&(p={min:0,max:0});const y=r?200:1e6,x=r?40:1e7,w={type:"inertia",velocity:s?e[f]:0,bounceStiffness:y,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...i,...p};return this.startAxisValueAnimation(f,w)});return Promise.all(d).then(l)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return cS(this.visualElement,e),s.start(F_(e,s,0,n,this.visualElement,!1))}stopAnimation(){Fi(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Fi(n=>{const{drag:s}=this.getProps();if(!ay(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:l}=r.layout.layoutBox[n],u=i.get()||0;i.set(e[n]-qt(o,l,.5)+u)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!pd(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Fi(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const u=l.get();r[o]=Lte({min:u,max:u},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.constraints=!1,this.resolveConstraints(),Fi(o=>{if(!ay(o,e,null))return;const l=this.getAxisMotionValue(o),{min:u,max:d}=this.constraints[o];l.set(qt(u,d,r[o]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;Bte.set(this.visualElement,this);const e=this.visualElement.current,n=sp(e,"pointerdown",d=>{const{drag:f,dragListener:p=!0}=this.getProps(),y=d.target,x=y!==e&&EZ(y);f&&p&&!x&&this.start(d)});let s;const r=()=>{const{dragConstraints:d}=this.getProps();pd(d)&&d.current&&(this.constraints=this.resolveRefConstraints(),s||(s=Fte(e,d.current,()=>this.scalePositionWithinConstraints())))},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),It.read(r);const l=Op(window,"resize",()=>this.scalePositionWithinConstraints()),u=i.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(Fi(p=>{const y=this.getAxisMotionValue(p);y&&(this.originPoint[p]+=d[p].translate,y.set(y.get()+d[p].translate))}),this.visualElement.render())}));return()=>{l(),n(),o(),u&&u(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:o=xS,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function YI(t){let e=!0;return()=>{if(e){e=!1;return}t()}}function Fte(t,e,n){const s=nI(t,YI(n)),r=nI(e,YI(n));return()=>{s(),r()}}function ay(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Hte(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class $te extends Fl{constructor(e){super(e),this.removeGroupControls=qr,this.removeListeners=qr,this.controls=new Ute(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||qr}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Aw=t=>(e,n)=>{t&&It.update(()=>t(e,n),!1,!0)};class qte extends Fl{constructor(){super(...arguments),this.removePointerDownListener=qr}onPointerDown(e){this.session=new FL(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:UL(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:Aw(e),onStart:Aw(n),onMove:Aw(s),onEnd:(i,o)=>{delete this.session,r&&It.postRender(()=>r(i,o))}}}mount(){this.removePointerDownListener=sp(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Cw=!1;class Wte extends _.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:i}=e;i&&(n.group&&n.group.add(i),s&&s.register&&r&&s.register(i),Cw&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Ky.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:r,isPresent:i}=this.props,{projection:o}=s;return o&&(o.isPresent=i,e.layoutDependency!==n&&o.setOptions({...o.options,layoutDependency:n}),Cw=!0,r||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||It.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),W_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=e;Cw=!0,r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function $L(t){const[e,n]=IL(),s=_.useContext(__);return m.jsx(Wte,{...t,layoutGroup:s,switchLayoutGroup:_.useContext(zL),isPresent:e,safeToRemove:n})}const Kte={pan:{Feature:qte},drag:{Feature:$te,ProjectionNode:ML,MeasureLayout:$L}};function XI(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,i=s[r];i&&It.postRender(()=>i(e,gm(e)))}class Gte extends Fl{mount(){const{current:e}=this.node;e&&(this.unmount=xZ(e,(n,s)=>(XI(this.node,s,"Start"),r=>XI(this.node,r,"End"))))}unmount(){}}class Yte extends Fl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=fm(Op(this.node.current,"focus",()=>this.onFocus()),Op(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function QI(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),i=s[r];i&&It.postRender(()=>i(e,gm(e)))}class Xte extends Fl{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:n,propagate:s}=this.node.props;this.unmount=TZ(e,(r,i)=>(QI(this.node,i,"Start"),(o,{success:l})=>QI(this.node,o,l?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:s?.tap===!1})}unmount(){}}const vS=new WeakMap,kw=new WeakMap,Qte=t=>{const e=vS.get(t.target);e&&e(t)},Jte=t=>{t.forEach(Qte)};function Zte({root:t,...e}){const n=t||document;kw.has(n)||kw.set(n,{});const s=kw.get(n),r=JSON.stringify(e);return s[r]||(s[r]=new IntersectionObserver(Jte,{root:t,...e})),s[r]}function ene(t,e,n){const s=Zte(e);return vS.set(t,n),s.observe(t),()=>{vS.delete(t),s.unobserve(t)}}const tne={some:0,all:1};class nne extends Fl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:tne[r]},l=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:p}=this.node.getProps(),y=d?f:p;y&&y(u)};return ene(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(sne(e,n))&&this.startObserver()}unmount(){}}function sne({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const rne={inView:{Feature:nne},tap:{Feature:Xte},focus:{Feature:Yte},hover:{Feature:Gte}},ine={layout:{ProjectionNode:ML,MeasureLayout:$L}},one={...Nte,...rne,...Kte,...ine},ve=Tte(one,_te);const ane=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lne=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),JI=t=>{const e=lne(t);return e.charAt(0).toUpperCase()+e.slice(1)},qL=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),cne=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var une={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const dne=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:r="",children:i,iconNode:o,...l},u)=>_.createElement("svg",{ref:u,...une,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:qL("lucide",r),...!i&&!cne(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,f])=>_.createElement(d,f)),...Array.isArray(i)?i:[i]]));const ge=(t,e)=>{const n=_.forwardRef(({className:s,...r},i)=>_.createElement(dne,{ref:i,iconNode:e,className:qL(`lucide-${ane(JI(t))}`,`lucide-${t}`,s),...r}));return n.displayName=JI(t),n};const hne=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],ZI=ge("activity",hne);const fne=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],WL=ge("arrow-right",fne);const pne=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],eD=ge("award",pne);const mne=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],gne=ge("bell",mne);const yne=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],xne=ge("bold",yne);const vne=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],bne=ge("building-2",vne);const wne=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],vi=ge("calendar",wne);const Ene=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Sne=ge("camera",Ene);const Tne=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],yv=ge("check",Tne);const _ne=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],xv=ge("chevron-down",_ne);const Ane=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],KL=ge("chevron-left",Ane);const Cne=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],kne=ge("chevron-right",Cne);const Nne=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],GL=ge("chevron-up",Nne);const Rne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],j0=ge("circle-alert",Rne);const Mne=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ine=ge("circle-check-big",Mne);const Dne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ao=ge("circle-check",Dne);const Pne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],Cf=ge("circle-dot",Pne);const One=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],jne=ge("clipboard-list",One);const Lne=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Zc=ge("clock",Lne);const Vne=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],zne=ge("code",Vne);const Bne=[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]],Une=ge("command",Bne);const Fne=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Hne=ge("copy",Fne);const $ne=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],n2=ge("credit-card",$ne);const qne=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 16h.01",key:"18s6g9"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M12 12h.01",key:"1mp3jc"}]],Wne=ge("dice-5",qne);const Kne=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Gne=ge("dollar-sign",Kne);const Yne=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],YL=ge("download",Yne);const Xne=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Qne=ge("eye-off",Xne);const Jne=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],XL=ge("eye",Jne);const Zne=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],QL=ge("file-text",Zne);const ese=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],tse=ge("flag",ese);const nse=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],sse=ge("gamepad-2",nse);const rse=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],ise=ge("git-branch",rse);const ose=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],vv=ge("globe",ose);const ase=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],lse=ge("grip-vertical",ase);const cse=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],JL=ge("hash",cse);const use=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]],dse=ge("heading-1",use);const hse=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],fse=ge("heading-2",hse);const pse=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]],mse=ge("heading-3",pse);const gse=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],ZL=ge("image",gse);const yse=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],tD=ge("info",yse);const xse=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],vse=ge("italic",xse);const bse=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],wse=ge("link",bse);const Ese=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],Sse=ge("list-ordered",Ese);const Tse=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],e6=ge("list",Tse);const _se=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],mi=ge("loader-circle",_se);const Ase=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Cse=ge("lock",Ase);const kse=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],t6=ge("log-in",kse);const Nse=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],n6=ge("log-out",Nse);const Rse=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],s2=ge("mail",Rse);const Mse=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],fh=ge("map-pin",Mse);const Ise=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],Dse=ge("maximize-2",Ise);const Pse=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],Gy=ge("medal",Pse);const Ose=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],jse=ge("menu",Ose);const Lse=[["path",{d:"M18 8V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h8",key:"10dyio"}],["path",{d:"M10 19v-3.96 3.15",key:"1irgej"}],["path",{d:"M7 19h5",key:"qswx4l"}],["rect",{width:"6",height:"10",x:"16",y:"12",rx:"2",key:"1egngj"}]],Vse=ge("monitor-smartphone",Lse);const zse=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Bse=ge("monitor",zse);const Use=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],s6=ge("moon",Use);const Fse=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],r6=ge("palette",Fse);const Hse=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],r2=ge("panels-top-left",Hse);const $se=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],i2=ge("pen-line",$se);const qse=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],o2=ge("phone",qse);const Wse=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Kse=ge("play",Wse);const Gse=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],L0=ge("plus",Gse);const Yse=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],Xse=ge("quote",Yse);const Qse=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M17 12h.01",key:"1m0b6t"}],["path",{d:"M7 12h.01",key:"eqddd0"}]],Jse=ge("rectangle-ellipsis",Qse);const Zse=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],ere=ge("redo",Zse);const tre=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],nre=ge("refresh-cw",tre);const sre=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],i6=ge("rotate-ccw",sre);const rre=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],rp=ge("search",rre);const ire=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],V0=ge("settings",ire);const ore=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],o6=ge("shuffle",ore);const are=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],a6=ge("sparkles",are);const lre=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],nD=ge("square-check-big",lre);const cre=[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]],ure=ge("strikethrough",cre);const dre=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],z0=ge("sun",dre);const hre=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],a2=ge("swords",hre);const fre=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],pre=ge("target",fre);const mre=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],l2=ge("trash-2",mre);const gre=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],bS=ge("trending-up",gre);const yre=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],wS=ge("triangle-alert",yre);const xre=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Cn=ge("trophy",xre);const vre=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],ES=ge("type",vre);const bre=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],wre=ge("undo",bre);const Ere=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],c2=ge("upload",Ere);const Sre=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ym=ge("user",Sre);const Tre=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ss=ge("users",Tre);const _re=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],l6=ge("wand-sparkles",_re);const Are=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],hu=ge("x",Are);const Cre=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],u2=ge("zap",Cre);const kre=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Nre=ge("zoom-in",kre);const Rre=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Mre=ge("zoom-out",Rre),c6=_.createContext(void 0);function Ire(){const t=_.useContext(c6);if(!t)throw new Error("useTheme must be used within ThemeProvider");return t}function Dre({children:t,defaultTheme:e="dark"}){const[n,s]=_.useState(()=>typeof window<"u"&&localStorage.getItem("champio-theme")||e),[r,i]=_.useState("dark");_.useEffect(()=>{const u=document.documentElement,d=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",f=n==="system"?d:n;i(f),u.classList.remove("light","dark"),u.classList.add(f),localStorage.setItem("champio-theme",n)},[n]),_.useEffect(()=>{const u=window.matchMedia("(prefers-color-scheme: dark)"),d=()=>{if(n==="system"){const f=u.matches?"dark":"light";i(f),document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(f)}};return u.addEventListener("change",d),()=>u.removeEventListener("change",d)},[n]);const o=u=>{s(u)},l=()=>{s(u=>u==="light"?"dark":u==="dark"?"system":"light")};return m.jsx(c6.Provider,{"code-path":"src/components/ThemeProvider.tsx:97:5",value:{theme:n,resolvedTheme:r,setTheme:o,toggleTheme:l},children:t})}const sD=[{value:"light",label:"",icon:z0},{value:"dark",label:"",icon:s6},{value:"system",label:"",icon:Bse}];function Pre(){const{theme:t,setTheme:e}=Ire(),[n,s]=_.useState(!1),r=sD.find(o=>o.value===t),i=r?.icon||z0;return m.jsxs("div",{"code-path":"src/components/ThemeProvider.tsx:121:5",className:"relative",children:[m.jsxs(ve.button,{"code-path":"src/components/ThemeProvider.tsx:122:7",onClick:()=>s(!n),className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-slate-800 border border-slate-700 text-slate-300 hover:text-white hover:border-slate-600 transition-all",whileHover:{scale:1.02},whileTap:{scale:.98},children:[m.jsx(i,{"code-path":"src/components/ThemeProvider.tsx:128:9",className:"w-4 h-4"}),m.jsx("span",{"code-path":"src/components/ThemeProvider.tsx:129:9",className:"text-sm hidden sm:inline",children:r?.label})]}),m.jsx(On,{"code-path":"src/components/ThemeProvider.tsx:132:7",children:n&&m.jsxs(m.Fragment,{children:[m.jsx(ve.div,{"code-path":"src/components/ThemeProvider.tsx:135:13",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-40",onClick:()=>s(!1)}),m.jsx(ve.div,{"code-path":"src/components/ThemeProvider.tsx:142:13",initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"absolute right-0 top-full mt-2 w-40 bg-slate-800 border border-slate-700 rounded-lg shadow-xl z-50 overflow-hidden",children:sD.map(o=>{const l=o.icon;return m.jsxs("button",{"code-path":"src/components/ThemeProvider.tsx:151:19",onClick:()=>{e(o.value),s(!1)},className:`
                      w-full px-4 py-3 flex items-center justify-between text-sm transition-colors
                      ${t===o.value?"bg-orange-500/10 text-orange-400":"text-slate-300 hover:bg-slate-700"}
                    `,children:[m.jsxs("div",{"code-path":"src/components/ThemeProvider.tsx:164:21",className:"flex items-center gap-2",children:[m.jsx(l,{"code-path":"src/components/ThemeProvider.tsx:165:23",className:"w-4 h-4"}),o.label]}),t===o.value&&m.jsx(yv,{"code-path":"src/components/ThemeProvider.tsx:169:23",className:"w-4 h-4"})]},o.value)})})]})})]})}function rD(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function xm(...t){return e=>{let n=!1;const s=t.map(r=>{const i=rD(r,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let r=0;r<s.length;r++){const i=s[r];typeof i=="function"?i():rD(t[r],null)}}}}function cs(...t){return _.useCallback(xm(...t),t)}var Ore=Symbol.for("react.lazy"),B0=mT[" use ".trim().toString()];function jre(t){return typeof t=="object"&&t!==null&&"then"in t}function u6(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===Ore&&"_payload"in t&&jre(t._payload)}function d6(t){const e=Lre(t),n=_.forwardRef((s,r)=>{let{children:i,...o}=s;u6(i)&&typeof B0=="function"&&(i=B0(i._payload));const l=_.Children.toArray(i),u=l.find(zre);if(u){const d=u.props.children,f=l.map(p=>p===u?_.Children.count(d)>1?_.Children.only(null):_.isValidElement(d)?d.props.children:null:p);return m.jsx(e,{...o,ref:r,children:_.isValidElement(d)?_.cloneElement(d,void 0,f):null})}return m.jsx(e,{...o,ref:r,children:i})});return n.displayName=`${t}.Slot`,n}var h6=d6("Slot");function Lre(t){const e=_.forwardRef((n,s)=>{let{children:r,...i}=n;if(u6(r)&&typeof B0=="function"&&(r=B0(r._payload)),_.isValidElement(r)){const o=Ure(r),l=Bre(i,r.props);return r.type!==_.Fragment&&(l.ref=s?xm(s,o):o),_.cloneElement(r,l)}return _.Children.count(r)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Vre=Symbol("radix.slottable");function zre(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Vre}function Bre(t,e){const n={...e};for(const s in e){const r=t[s],i=e[s];/^on[A-Z]/.test(s)?r&&i?n[s]=(...l)=>{const u=i(...l);return r(...l),u}:r&&(n[s]=r):s==="style"?n[s]={...r,...i}:s==="className"&&(n[s]=[r,i].filter(Boolean).join(" "))}return{...t,...n}}function Ure(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function f6(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=f6(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function p6(){for(var t,e,n=0,s="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=f6(t))&&(s&&(s+=" "),s+=e);return s}const iD=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,oD=p6,m6=(t,e)=>n=>{var s;if(e?.variants==null)return oD(t,n?.class,n?.className);const{variants:r,defaultVariants:i}=e,o=Object.keys(r).map(d=>{const f=n?.[d],p=i?.[d];if(f===null)return null;const y=iD(f)||iD(p);return r[d][y]}),l=n&&Object.entries(n).reduce((d,f)=>{let[p,y]=f;return y===void 0||(d[p]=y),d},{}),u=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((d,f)=>{let{class:p,className:y,...x}=f;return Object.entries(x).every(w=>{let[T,S]=w;return Array.isArray(S)?S.includes({...i,...l}[T]):{...i,...l}[T]===S})?[...d,p,y]:d},[]);return oD(t,o,u,n?.class,n?.className)},Fre=(t,e)=>{const n=new Array(t.length+e.length);for(let s=0;s<t.length;s++)n[s]=t[s];for(let s=0;s<e.length;s++)n[t.length+s]=e[s];return n},Hre=(t,e)=>({classGroupId:t,validator:e}),g6=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),U0="-",aD=[],$re="arbitrary..",qre=t=>{const e=Kre(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return Wre(o);const l=o.split(U0),u=l[0]===""&&l.length>1?1:0;return y6(l,u,e)},getConflictingClassGroupIds:(o,l)=>{if(l){const u=s[o],d=n[o];return u?d?Fre(d,u):u:d||aD}return n[o]||aD}}},y6=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const r=t[e],i=n.nextPart.get(r);if(i){const d=y6(t,e+1,i);if(d)return d}const o=n.validators;if(o===null)return;const l=e===0?t.join(U0):t.slice(e).join(U0),u=o.length;for(let d=0;d<u;d++){const f=o[d];if(f.validator(l))return f.classGroupId}},Wre=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),s=e.slice(0,n);return s?$re+s:void 0})(),Kre=t=>{const{theme:e,classGroups:n}=t;return Gre(n,e)},Gre=(t,e)=>{const n=g6();for(const s in t){const r=t[s];d2(r,n,s,e)}return n},d2=(t,e,n,s)=>{const r=t.length;for(let i=0;i<r;i++){const o=t[i];Yre(o,e,n,s)}},Yre=(t,e,n,s)=>{if(typeof t=="string"){Xre(t,e,n);return}if(typeof t=="function"){Qre(t,e,n,s);return}Jre(t,e,n,s)},Xre=(t,e,n)=>{const s=t===""?e:x6(e,t);s.classGroupId=n},Qre=(t,e,n,s)=>{if(Zre(t)){d2(t(s),e,n,s);return}e.validators===null&&(e.validators=[]),e.validators.push(Hre(n,t))},Jre=(t,e,n,s)=>{const r=Object.entries(t),i=r.length;for(let o=0;o<i;o++){const[l,u]=r[o];d2(u,x6(e,l),n,s)}},x6=(t,e)=>{let n=t;const s=e.split(U0),r=s.length;for(let i=0;i<r;i++){const o=s[i];let l=n.nextPart.get(o);l||(l=g6(),n.nextPart.set(o,l)),n=l}return n},Zre=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,eie=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),s=Object.create(null);const r=(i,o)=>{n[i]=o,e++,e>t&&(e=0,s=n,n=Object.create(null))};return{get(i){let o=n[i];if(o!==void 0)return o;if((o=s[i])!==void 0)return r(i,o),o},set(i,o){i in n?n[i]=o:r(i,o)}}},SS="!",lD=":",tie=[],cD=(t,e,n,s,r)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:s,isExternal:r}),nie=t=>{const{prefix:e,experimentalParseClassName:n}=t;let s=r=>{const i=[];let o=0,l=0,u=0,d;const f=r.length;for(let T=0;T<f;T++){const S=r[T];if(o===0&&l===0){if(S===lD){i.push(r.slice(u,T)),u=T+1;continue}if(S==="/"){d=T;continue}}S==="["?o++:S==="]"?o--:S==="("?l++:S===")"&&l--}const p=i.length===0?r:r.slice(u);let y=p,x=!1;p.endsWith(SS)?(y=p.slice(0,-1),x=!0):p.startsWith(SS)&&(y=p.slice(1),x=!0);const w=d&&d>u?d-u:void 0;return cD(i,x,y,w)};if(e){const r=e+lD,i=s;s=o=>o.startsWith(r)?i(o.slice(r.length)):cD(tie,!1,o,void 0,!0)}if(n){const r=s;s=i=>n({className:i,parseClassName:r})}return s},sie=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,s)=>{e.set(n,1e6+s)}),n=>{const s=[];let r=[];for(let i=0;i<n.length;i++){const o=n[i],l=o[0]==="[",u=e.has(o);l||u?(r.length>0&&(r.sort(),s.push(...r),r=[]),s.push(o)):r.push(o)}return r.length>0&&(r.sort(),s.push(...r)),s}},rie=t=>({cache:eie(t.cacheSize),parseClassName:nie(t),sortModifiers:sie(t),...qre(t)}),iie=/\s+/,oie=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:r,sortModifiers:i}=e,o=[],l=t.trim().split(iie);let u="";for(let d=l.length-1;d>=0;d-=1){const f=l[d],{isExternal:p,modifiers:y,hasImportantModifier:x,baseClassName:w,maybePostfixModifierPosition:T}=n(f);if(p){u=f+(u.length>0?" "+u:u);continue}let S=!!T,A=s(S?w.substring(0,T):w);if(!A){if(!S){u=f+(u.length>0?" "+u:u);continue}if(A=s(w),!A){u=f+(u.length>0?" "+u:u);continue}S=!1}const N=y.length===0?"":y.length===1?y[0]:i(y).join(":"),P=x?N+SS:N,O=P+A;if(o.indexOf(O)>-1)continue;o.push(O);const L=r(A,S);for(let F=0;F<L.length;++F){const I=L[F];o.push(P+I)}u=f+(u.length>0?" "+u:u)}return u},aie=(...t)=>{let e=0,n,s,r="";for(;e<t.length;)(n=t[e++])&&(s=v6(n))&&(r&&(r+=" "),r+=s);return r},v6=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=v6(t[s]))&&(n&&(n+=" "),n+=e);return n},lie=(t,...e)=>{let n,s,r,i;const o=u=>{const d=e.reduce((f,p)=>p(f),t());return n=rie(d),s=n.cache.get,r=n.cache.set,i=l,l(u)},l=u=>{const d=s(u);if(d)return d;const f=oie(u,n);return r(u,f),f};return i=o,(...u)=>i(aie(...u))},cie=[],Mn=t=>{const e=n=>n[t]||cie;return e.isThemeGetter=!0,e},b6=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,w6=/^\((?:(\w[\w-]*):)?(.+)\)$/i,uie=/^\d+\/\d+$/,die=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,hie=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fie=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,pie=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,mie=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,rd=t=>uie.test(t),Ze=t=>!!t&&!Number.isNaN(Number(t)),Wa=t=>!!t&&Number.isInteger(Number(t)),Nw=t=>t.endsWith("%")&&Ze(t.slice(0,-1)),zo=t=>die.test(t),gie=()=>!0,yie=t=>hie.test(t)&&!fie.test(t),E6=()=>!1,xie=t=>pie.test(t),vie=t=>mie.test(t),bie=t=>!Ce(t)&&!ke(t),wie=t=>ph(t,_6,E6),Ce=t=>b6.test(t),Sc=t=>ph(t,A6,yie),Rw=t=>ph(t,Aie,Ze),uD=t=>ph(t,S6,E6),Eie=t=>ph(t,T6,vie),ly=t=>ph(t,C6,xie),ke=t=>w6.test(t),kf=t=>mh(t,A6),Sie=t=>mh(t,Cie),dD=t=>mh(t,S6),Tie=t=>mh(t,_6),_ie=t=>mh(t,T6),cy=t=>mh(t,C6,!0),ph=(t,e,n)=>{const s=b6.exec(t);return s?s[1]?e(s[1]):n(s[2]):!1},mh=(t,e,n=!1)=>{const s=w6.exec(t);return s?s[1]?e(s[1]):n:!1},S6=t=>t==="position"||t==="percentage",T6=t=>t==="image"||t==="url",_6=t=>t==="length"||t==="size"||t==="bg-size",A6=t=>t==="length",Aie=t=>t==="number",Cie=t=>t==="family-name",C6=t=>t==="shadow",kie=()=>{const t=Mn("color"),e=Mn("font"),n=Mn("text"),s=Mn("font-weight"),r=Mn("tracking"),i=Mn("leading"),o=Mn("breakpoint"),l=Mn("container"),u=Mn("spacing"),d=Mn("radius"),f=Mn("shadow"),p=Mn("inset-shadow"),y=Mn("text-shadow"),x=Mn("drop-shadow"),w=Mn("blur"),T=Mn("perspective"),S=Mn("aspect"),A=Mn("ease"),N=Mn("animate"),P=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],L=()=>[...O(),ke,Ce],F=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto","contain","none"],R=()=>[ke,Ce,u],D=()=>[rd,"full","auto",...R()],z=()=>[Wa,"none","subgrid",ke,Ce],B=()=>["auto",{span:["full",Wa,ke,Ce]},Wa,ke,Ce],H=()=>[Wa,"auto",ke,Ce],U=()=>["auto","min","max","fr",ke,Ce],he=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ce=()=>["start","end","center","stretch","center-safe","end-safe"],K=()=>["auto",...R()],X=()=>[rd,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...R()],Y=()=>[t,ke,Ce],xe=()=>[...O(),dD,uD,{position:[ke,Ce]}],Me=()=>["no-repeat",{repeat:["","x","y","space","round"]}],q=()=>["auto","cover","contain",Tie,wie,{size:[ke,Ce]}],se=()=>[Nw,kf,Sc],ue=()=>["","none","full",d,ke,Ce],pe=()=>["",Ze,kf,Sc],Ae=()=>["solid","dashed","dotted","double"],Te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],de=()=>[Ze,Nw,dD,uD],Le=()=>["","none",w,ke,Ce],Pe=()=>["none",Ze,ke,Ce],Se=()=>["none",Ze,ke,Ce],Ye=()=>[Ze,ke,Ce],We=()=>[rd,"full",...R()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[zo],breakpoint:[zo],color:[gie],container:[zo],"drop-shadow":[zo],ease:["in","out","in-out"],font:[bie],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[zo],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[zo],shadow:[zo],spacing:["px",Ze],text:[zo],"text-shadow":[zo],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",rd,Ce,ke,S]}],container:["container"],columns:[{columns:[Ze,Ce,ke,l]}],"break-after":[{"break-after":P()}],"break-before":[{"break-before":P()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:L()}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:D()}],"inset-x":[{"inset-x":D()}],"inset-y":[{"inset-y":D()}],start:[{start:D()}],end:[{end:D()}],top:[{top:D()}],right:[{right:D()}],bottom:[{bottom:D()}],left:[{left:D()}],visibility:["visible","invisible","collapse"],z:[{z:[Wa,"auto",ke,Ce]}],basis:[{basis:[rd,"full","auto",l,...R()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ze,rd,"auto","initial","none",Ce]}],grow:[{grow:["",Ze,ke,Ce]}],shrink:[{shrink:["",Ze,ke,Ce]}],order:[{order:[Wa,"first","last","none",ke,Ce]}],"grid-cols":[{"grid-cols":z()}],"col-start-end":[{col:B()}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":z()}],"row-start-end":[{row:B()}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":U()}],"auto-rows":[{"auto-rows":U()}],gap:[{gap:R()}],"gap-x":[{"gap-x":R()}],"gap-y":[{"gap-y":R()}],"justify-content":[{justify:[...he(),"normal"]}],"justify-items":[{"justify-items":[...ce(),"normal"]}],"justify-self":[{"justify-self":["auto",...ce()]}],"align-content":[{content:["normal",...he()]}],"align-items":[{items:[...ce(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ce(),{baseline:["","last"]}]}],"place-content":[{"place-content":he()}],"place-items":[{"place-items":[...ce(),"baseline"]}],"place-self":[{"place-self":["auto",...ce()]}],p:[{p:R()}],px:[{px:R()}],py:[{py:R()}],ps:[{ps:R()}],pe:[{pe:R()}],pt:[{pt:R()}],pr:[{pr:R()}],pb:[{pb:R()}],pl:[{pl:R()}],m:[{m:K()}],mx:[{mx:K()}],my:[{my:K()}],ms:[{ms:K()}],me:[{me:K()}],mt:[{mt:K()}],mr:[{mr:K()}],mb:[{mb:K()}],ml:[{ml:K()}],"space-x":[{"space-x":R()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":R()}],"space-y-reverse":["space-y-reverse"],size:[{size:X()}],w:[{w:[l,"screen",...X()]}],"min-w":[{"min-w":[l,"screen","none",...X()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...X()]}],h:[{h:["screen","lh",...X()]}],"min-h":[{"min-h":["screen","lh","none",...X()]}],"max-h":[{"max-h":["screen","lh",...X()]}],"font-size":[{text:["base",n,kf,Sc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,ke,Rw]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Nw,Ce]}],"font-family":[{font:[Sie,Ce,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,ke,Ce]}],"line-clamp":[{"line-clamp":[Ze,"none",ke,Rw]}],leading:[{leading:[i,...R()]}],"list-image":[{"list-image":["none",ke,Ce]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ke,Ce]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Y()}],"text-color":[{text:Y()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ae(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ze,"from-font","auto",ke,Sc]}],"text-decoration-color":[{decoration:Y()}],"underline-offset":[{"underline-offset":[Ze,"auto",ke,Ce]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ke,Ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ke,Ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:xe()}],"bg-repeat":[{bg:Me()}],"bg-size":[{bg:q()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Wa,ke,Ce],radial:["",ke,Ce],conic:[Wa,ke,Ce]},_ie,Eie]}],"bg-color":[{bg:Y()}],"gradient-from-pos":[{from:se()}],"gradient-via-pos":[{via:se()}],"gradient-to-pos":[{to:se()}],"gradient-from":[{from:Y()}],"gradient-via":[{via:Y()}],"gradient-to":[{to:Y()}],rounded:[{rounded:ue()}],"rounded-s":[{"rounded-s":ue()}],"rounded-e":[{"rounded-e":ue()}],"rounded-t":[{"rounded-t":ue()}],"rounded-r":[{"rounded-r":ue()}],"rounded-b":[{"rounded-b":ue()}],"rounded-l":[{"rounded-l":ue()}],"rounded-ss":[{"rounded-ss":ue()}],"rounded-se":[{"rounded-se":ue()}],"rounded-ee":[{"rounded-ee":ue()}],"rounded-es":[{"rounded-es":ue()}],"rounded-tl":[{"rounded-tl":ue()}],"rounded-tr":[{"rounded-tr":ue()}],"rounded-br":[{"rounded-br":ue()}],"rounded-bl":[{"rounded-bl":ue()}],"border-w":[{border:pe()}],"border-w-x":[{"border-x":pe()}],"border-w-y":[{"border-y":pe()}],"border-w-s":[{"border-s":pe()}],"border-w-e":[{"border-e":pe()}],"border-w-t":[{"border-t":pe()}],"border-w-r":[{"border-r":pe()}],"border-w-b":[{"border-b":pe()}],"border-w-l":[{"border-l":pe()}],"divide-x":[{"divide-x":pe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":pe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ae(),"hidden","none"]}],"divide-style":[{divide:[...Ae(),"hidden","none"]}],"border-color":[{border:Y()}],"border-color-x":[{"border-x":Y()}],"border-color-y":[{"border-y":Y()}],"border-color-s":[{"border-s":Y()}],"border-color-e":[{"border-e":Y()}],"border-color-t":[{"border-t":Y()}],"border-color-r":[{"border-r":Y()}],"border-color-b":[{"border-b":Y()}],"border-color-l":[{"border-l":Y()}],"divide-color":[{divide:Y()}],"outline-style":[{outline:[...Ae(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ze,ke,Ce]}],"outline-w":[{outline:["",Ze,kf,Sc]}],"outline-color":[{outline:Y()}],shadow:[{shadow:["","none",f,cy,ly]}],"shadow-color":[{shadow:Y()}],"inset-shadow":[{"inset-shadow":["none",p,cy,ly]}],"inset-shadow-color":[{"inset-shadow":Y()}],"ring-w":[{ring:pe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Y()}],"ring-offset-w":[{"ring-offset":[Ze,Sc]}],"ring-offset-color":[{"ring-offset":Y()}],"inset-ring-w":[{"inset-ring":pe()}],"inset-ring-color":[{"inset-ring":Y()}],"text-shadow":[{"text-shadow":["none",y,cy,ly]}],"text-shadow-color":[{"text-shadow":Y()}],opacity:[{opacity:[Ze,ke,Ce]}],"mix-blend":[{"mix-blend":[...Te(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Te()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ze]}],"mask-image-linear-from-pos":[{"mask-linear-from":de()}],"mask-image-linear-to-pos":[{"mask-linear-to":de()}],"mask-image-linear-from-color":[{"mask-linear-from":Y()}],"mask-image-linear-to-color":[{"mask-linear-to":Y()}],"mask-image-t-from-pos":[{"mask-t-from":de()}],"mask-image-t-to-pos":[{"mask-t-to":de()}],"mask-image-t-from-color":[{"mask-t-from":Y()}],"mask-image-t-to-color":[{"mask-t-to":Y()}],"mask-image-r-from-pos":[{"mask-r-from":de()}],"mask-image-r-to-pos":[{"mask-r-to":de()}],"mask-image-r-from-color":[{"mask-r-from":Y()}],"mask-image-r-to-color":[{"mask-r-to":Y()}],"mask-image-b-from-pos":[{"mask-b-from":de()}],"mask-image-b-to-pos":[{"mask-b-to":de()}],"mask-image-b-from-color":[{"mask-b-from":Y()}],"mask-image-b-to-color":[{"mask-b-to":Y()}],"mask-image-l-from-pos":[{"mask-l-from":de()}],"mask-image-l-to-pos":[{"mask-l-to":de()}],"mask-image-l-from-color":[{"mask-l-from":Y()}],"mask-image-l-to-color":[{"mask-l-to":Y()}],"mask-image-x-from-pos":[{"mask-x-from":de()}],"mask-image-x-to-pos":[{"mask-x-to":de()}],"mask-image-x-from-color":[{"mask-x-from":Y()}],"mask-image-x-to-color":[{"mask-x-to":Y()}],"mask-image-y-from-pos":[{"mask-y-from":de()}],"mask-image-y-to-pos":[{"mask-y-to":de()}],"mask-image-y-from-color":[{"mask-y-from":Y()}],"mask-image-y-to-color":[{"mask-y-to":Y()}],"mask-image-radial":[{"mask-radial":[ke,Ce]}],"mask-image-radial-from-pos":[{"mask-radial-from":de()}],"mask-image-radial-to-pos":[{"mask-radial-to":de()}],"mask-image-radial-from-color":[{"mask-radial-from":Y()}],"mask-image-radial-to-color":[{"mask-radial-to":Y()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":O()}],"mask-image-conic-pos":[{"mask-conic":[Ze]}],"mask-image-conic-from-pos":[{"mask-conic-from":de()}],"mask-image-conic-to-pos":[{"mask-conic-to":de()}],"mask-image-conic-from-color":[{"mask-conic-from":Y()}],"mask-image-conic-to-color":[{"mask-conic-to":Y()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:xe()}],"mask-repeat":[{mask:Me()}],"mask-size":[{mask:q()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ke,Ce]}],filter:[{filter:["","none",ke,Ce]}],blur:[{blur:Le()}],brightness:[{brightness:[Ze,ke,Ce]}],contrast:[{contrast:[Ze,ke,Ce]}],"drop-shadow":[{"drop-shadow":["","none",x,cy,ly]}],"drop-shadow-color":[{"drop-shadow":Y()}],grayscale:[{grayscale:["",Ze,ke,Ce]}],"hue-rotate":[{"hue-rotate":[Ze,ke,Ce]}],invert:[{invert:["",Ze,ke,Ce]}],saturate:[{saturate:[Ze,ke,Ce]}],sepia:[{sepia:["",Ze,ke,Ce]}],"backdrop-filter":[{"backdrop-filter":["","none",ke,Ce]}],"backdrop-blur":[{"backdrop-blur":Le()}],"backdrop-brightness":[{"backdrop-brightness":[Ze,ke,Ce]}],"backdrop-contrast":[{"backdrop-contrast":[Ze,ke,Ce]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ze,ke,Ce]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ze,ke,Ce]}],"backdrop-invert":[{"backdrop-invert":["",Ze,ke,Ce]}],"backdrop-opacity":[{"backdrop-opacity":[Ze,ke,Ce]}],"backdrop-saturate":[{"backdrop-saturate":[Ze,ke,Ce]}],"backdrop-sepia":[{"backdrop-sepia":["",Ze,ke,Ce]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":R()}],"border-spacing-x":[{"border-spacing-x":R()}],"border-spacing-y":[{"border-spacing-y":R()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ke,Ce]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ze,"initial",ke,Ce]}],ease:[{ease:["linear","initial",A,ke,Ce]}],delay:[{delay:[Ze,ke,Ce]}],animate:[{animate:["none",N,ke,Ce]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[T,ke,Ce]}],"perspective-origin":[{"perspective-origin":L()}],rotate:[{rotate:Pe()}],"rotate-x":[{"rotate-x":Pe()}],"rotate-y":[{"rotate-y":Pe()}],"rotate-z":[{"rotate-z":Pe()}],scale:[{scale:Se()}],"scale-x":[{"scale-x":Se()}],"scale-y":[{"scale-y":Se()}],"scale-z":[{"scale-z":Se()}],"scale-3d":["scale-3d"],skew:[{skew:Ye()}],"skew-x":[{"skew-x":Ye()}],"skew-y":[{"skew-y":Ye()}],transform:[{transform:[ke,Ce,"","none","gpu","cpu"]}],"transform-origin":[{origin:L()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:We()}],"translate-x":[{"translate-x":We()}],"translate-y":[{"translate-y":We()}],"translate-z":[{"translate-z":We()}],"translate-none":["translate-none"],accent:[{accent:Y()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Y()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ke,Ce]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ke,Ce]}],fill:[{fill:["none",...Y()]}],"stroke-w":[{stroke:[Ze,kf,Sc,Rw]}],stroke:[{stroke:["none",...Y()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Nie=lie(kie);function bi(...t){return Nie(p6(t))}const Rie=m6("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function De({className:t,variant:e="default",size:n="default",asChild:s=!1,...r}){const i=s?h6:"button";return m.jsx(i,{"code-path":"src/components/ui/button.tsx:52:5","data-slot":"button","data-variant":e,"data-size":n,className:bi(Rie({variant:e,size:n,className:t})),...r})}function Mie({isOpen:t,onClose:e,onSelect:n}){const[s,r]=_.useState(""),[i,o]=_.useState(0),l=_.useRef(null),{events:u,teams:d,announcements:f}=hQ(),p=fQ(),y=_.useMemo(()=>{if(!s.trim())return[];const S=s.toLowerCase(),A=u.filter(O=>O.title.toLowerCase().includes(S)||O.organizer.toLowerCase().includes(S)||O.location.toLowerCase().includes(S)).map(O=>({type:"event",item:O})),N=d.filter(O=>O.name.toLowerCase().includes(S)||O.contact.toLowerCase().includes(S)).map(O=>({type:"team",item:O})),P=f.filter(O=>O.title.toLowerCase().includes(S)).map(O=>({type:"announcement",item:O}));return[...A,...N,...P].slice(0,8)},[s,u,d,f]);_.useEffect(()=>{t&&(setTimeout(()=>l.current?.focus(),100),r(""),o(0))},[t]),_.useEffect(()=>{const S=A=>{if(t)switch(A.key){case"Escape":e();break;case"ArrowDown":A.preventDefault(),o(N=>Math.min(N+1,y.length-1));break;case"ArrowUp":A.preventDefault(),o(N=>Math.max(N-1,0));break;case"Enter":A.preventDefault(),y[i]&&x(y[i]);break}};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[t,i,y,e]);const x=_.useCallback(S=>{p({type:"SET_SEARCH_QUERY",payload:""}),n(S.type,S.item.id),e()},[p,e,n]),w=S=>{switch(S){case"event":return m.jsx(Cn,{"code-path":"src/components/SearchModal.tsx:99:28",className:"w-5 h-5 text-orange-500"});case"team":return m.jsx(Ss,{"code-path":"src/components/SearchModal.tsx:100:27",className:"w-5 h-5 text-blue-500"});case"announcement":return m.jsx(QL,{"code-path":"src/components/SearchModal.tsx:101:35",className:"w-5 h-5 text-emerald-500"});default:return m.jsx(rp,{"code-path":"src/components/SearchModal.tsx:102:23",className:"w-5 h-5 text-slate-500"})}},T=S=>{switch(S){case"event":return"";case"team":return"";case"announcement":return"";default:return S}};return m.jsx(On,{"code-path":"src/components/SearchModal.tsx:116:5",children:t&&m.jsxs(m.Fragment,{children:[m.jsx(ve.div,{"code-path":"src/components/SearchModal.tsx:120:11",className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e}),m.jsx(ve.div,{"code-path":"src/components/SearchModal.tsx:129:11",className:"fixed inset-x-4 top-[10%] md:inset-x-auto md:left-1/2 md:-translate-x-1/2 md:w-full md:max-w-2xl z-50",initial:{opacity:0,y:-20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},transition:{duration:.2},children:m.jsxs("div",{"code-path":"src/components/SearchModal.tsx:136:13",className:"bg-slate-900 border border-slate-700 rounded-2xl shadow-2xl overflow-hidden",children:[m.jsxs("div",{"code-path":"src/components/SearchModal.tsx:138:15",className:"flex items-center gap-3 px-4 py-4 border-b border-slate-800",children:[m.jsx(rp,{"code-path":"src/components/SearchModal.tsx:139:17",className:"w-6 h-6 text-slate-500"}),m.jsx("input",{"code-path":"src/components/SearchModal.tsx:140:17",ref:l,type:"text",value:s,onChange:S=>{r(S.target.value),o(0)},placeholder:"...",className:"flex-1 bg-transparent text-white text-lg placeholder:text-slate-500 focus:outline-none"}),s&&m.jsx("button",{"code-path":"src/components/SearchModal.tsx:152:19",onClick:()=>{r(""),l.current?.focus()},className:"p-1 hover:bg-slate-800 rounded-full transition-colors",children:m.jsx(hu,{"code-path":"src/components/SearchModal.tsx:159:21",className:"w-5 h-5 text-slate-500"})}),m.jsx("kbd",{"code-path":"src/components/SearchModal.tsx:162:17",className:"hidden md:inline-flex items-center gap-1 px-2 py-1 bg-slate-800 rounded text-xs text-slate-500",children:"ESC"})]}),m.jsx("div",{"code-path":"src/components/SearchModal.tsx:168:15",className:"max-h-[60vh] overflow-y-auto",children:y.length>0?m.jsxs("div",{"code-path":"src/components/SearchModal.tsx:170:19",className:"py-2",children:[m.jsxs("div",{"code-path":"src/components/SearchModal.tsx:171:21",className:"px-4 py-2 text-xs text-slate-500 uppercase tracking-wider",children:[" (",y.length,")"]}),y.map((S,A)=>m.jsxs(ve.button,{"code-path":"src/components/SearchModal.tsx:175:23",className:`w-full flex items-center gap-4 px-4 py-3 text-left transition-colors ${A===i?"bg-orange-500/10 border-l-2 border-orange-500":"hover:bg-slate-800/50 border-l-2 border-transparent"}`,onClick:()=>x(S),onMouseEnter:()=>o(A),initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:A*.03},children:[m.jsx("div",{"code-path":"src/components/SearchModal.tsx:188:25",className:"w-10 h-10 rounded-lg bg-slate-800 flex items-center justify-center shrink-0",children:w(S.type)}),m.jsxs("div",{"code-path":"src/components/SearchModal.tsx:191:25",className:"flex-1 min-w-0",children:[m.jsx("p",{"code-path":"src/components/SearchModal.tsx:192:27",className:"font-medium text-white truncate",children:"title"in S.item?S.item.title:""}),m.jsxs("p",{"code-path":"src/components/SearchModal.tsx:195:27",className:"text-sm text-slate-500",children:[S.type==="event"&&"organizer"in S.item&&S.item.organizer,S.type==="team"&&"contact"in S.item&&`${S.item.contact}  ${S.item.phone}`,S.type==="announcement"&&"date"in S.item&&S.item.date]})]}),m.jsxs("div",{"code-path":"src/components/SearchModal.tsx:201:25",className:"flex items-center gap-2 shrink-0",children:[m.jsx("span",{"code-path":"src/components/SearchModal.tsx:202:27",className:"text-xs text-slate-500 px-2 py-1 bg-slate-800 rounded",children:T(S.type)}),A===i&&m.jsx(WL,{"code-path":"src/components/SearchModal.tsx:206:29",className:"w-4 h-4 text-orange-500"})]})]},`${S.type}-${S.item.id}`))]}):s.trim()?m.jsxs("div",{"code-path":"src/components/SearchModal.tsx:213:19",className:"py-12 text-center",children:[m.jsx(rp,{"code-path":"src/components/SearchModal.tsx:214:21",className:"w-12 h-12 text-slate-600 mx-auto mb-4"}),m.jsxs("p",{"code-path":"src/components/SearchModal.tsx:215:21",className:"text-slate-400",children:["",s,""]}),m.jsx("p",{"code-path":"src/components/SearchModal.tsx:216:21",className:"text-sm text-slate-500 mt-1",children:""})]}):m.jsxs("div",{"code-path":"src/components/SearchModal.tsx:219:19",className:"py-8 px-4",children:[m.jsx("p",{"code-path":"src/components/SearchModal.tsx:220:21",className:"text-sm text-slate-500 mb-4",children:""}),m.jsx("div",{"code-path":"src/components/SearchModal.tsx:221:21",className:"flex flex-wrap gap-2",children:["","","",""].map(S=>m.jsx("button",{"code-path":"src/components/SearchModal.tsx:223:25",onClick:()=>r(S),className:"px-3 py-1.5 bg-slate-800 hover:bg-slate-700 text-slate-300 text-sm rounded-full transition-colors",children:S},S))})]})}),m.jsxs("div",{"code-path":"src/components/SearchModal.tsx:237:15",className:"px-4 py-3 bg-slate-950 border-t border-slate-800 flex items-center justify-between text-xs text-slate-500",children:[m.jsxs("div",{"code-path":"src/components/SearchModal.tsx:238:17",className:"flex items-center gap-4",children:[m.jsxs("span",{"code-path":"src/components/SearchModal.tsx:239:19",className:"flex items-center gap-1",children:[m.jsx("kbd",{"code-path":"src/components/SearchModal.tsx:240:21",className:"px-1.5 py-0.5 bg-slate-800 rounded",children:""}),m.jsx("kbd",{"code-path":"src/components/SearchModal.tsx:241:21",className:"px-1.5 py-0.5 bg-slate-800 rounded",children:""}),""]}),m.jsxs("span",{"code-path":"src/components/SearchModal.tsx:244:19",className:"flex items-center gap-1",children:[m.jsx("kbd",{"code-path":"src/components/SearchModal.tsx:245:21",className:"px-1.5 py-0.5 bg-slate-800 rounded",children:""}),""]})]}),m.jsx("span",{"code-path":"src/components/SearchModal.tsx:249:17",children:"Champio Search"})]})]})})]})})}const k6=[{value:"basketball",label:" "},{value:"volleyball",label:" "},{value:"soccer",label:" "},{value:"softball",label:" "},{value:"badminton",label:" "},{value:"tabletennis",label:" "},{value:"beachvolleyball",label:" "},{value:"other",label:" "}],Iie=_.memo(function({onClick:e}){return m.jsxs(ve.div,{"code-path":"src/components/Navbar.tsx:50:5",className:"flex items-center gap-2 cursor-pointer group shrink-0",onClick:e,whileHover:{scale:1.02},whileTap:{scale:.98},children:[m.jsx("img",{"code-path":"src/components/Navbar.tsx:56:7",src:"/champio-logo.png",alt:"Champio",className:"h-8 w-8 object-contain group-hover:scale-110 transition-transform"}),m.jsx("span",{"code-path":"src/components/Navbar.tsx:57:7",className:"font-display text-2xl tracking-widest text-white group-hover:text-orange-400 transition-colors mt-1",children:"CHAMPIO"})]})}),Die=_.memo(function({activeSport:e,onChange:n}){return m.jsx("div",{"code-path":"src/components/Navbar.tsx:66:5",className:"hidden items-center gap-1 md:flex overflow-x-auto mx-4 no-scrollbar",children:k6.map(s=>m.jsxs("button",{"code-path":"src/components/Navbar.tsx:68:9",className:`relative px-3 py-2 text-sm font-medium transition-colors whitespace-nowrap ${e===s.value?"text-white":"text-slate-400 hover:text-white"}`,onClick:()=>n(s.value),children:[s.label,e===s.value&&m.jsx(ve.div,{"code-path":"src/components/Navbar.tsx:75:13",layoutId:"activeSport",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-orange-500",transition:{type:"spring",stiffness:500,damping:30}})]},s.value))})}),Pie=_.memo(function({onClick:e}){return m.jsxs(ve.button,{"code-path":"src/components/Navbar.tsx:85:5",onClick:e,className:"flex items-center gap-2 px-3 py-1.5 text-sm text-slate-400 bg-slate-800/50 hover:bg-slate-800 rounded-lg border border-slate-700/50 transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:[m.jsx(rp,{"code-path":"src/components/Navbar.tsx:90:7",className:"w-4 h-4"}),m.jsx("span",{"code-path":"src/components/Navbar.tsx:91:7",className:"hidden lg:inline",children:"..."}),m.jsxs("kbd",{"code-path":"src/components/Navbar.tsx:92:7",className:"hidden xl:inline-flex items-center gap-0.5 px-1.5 py-0.5 bg-slate-700 rounded text-xs",children:[m.jsx(Une,{"code-path":"src/components/Navbar.tsx:92:110",className:"w-3 h-3"}),"K"]})]})});function Oie({onNavigate:t}){const{currentUser:e,logout:n}=mo(),[s,r]=_.useState(!1),i=_.useRef(null);if(_.useEffect(()=>{const l=u=>{i.current&&!i.current.contains(u.target)&&r(!1)};return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[]),!e)return m.jsxs(De,{"code-path":"src/components/Navbar.tsx:114:7",variant:"outline",className:"hidden md:flex h-9 border-orange-500/50 text-orange-400 hover:bg-orange-500 hover:text-white transition-colors",onClick:()=>t("login"),children:[m.jsx(t6,{"code-path":"src/components/Navbar.tsx:115:9",className:"mr-2 h-4 w-4"}),"  / "]});const o=e.email?e.email[0].toUpperCase():"U";return m.jsxs("div",{"code-path":"src/components/Navbar.tsx:123:5",className:"relative hidden md:block",ref:i,children:[m.jsxs("button",{"code-path":"src/components/Navbar.tsx:124:7",className:"flex items-center gap-2 px-3 py-1.5 rounded-lg border border-slate-700 hover:bg-slate-800 transition-colors bg-slate-900",onClick:()=>r(!s),children:[m.jsx("div",{"code-path":"src/components/Navbar.tsx:128:9",className:"w-6 h-6 rounded-full bg-gradient-to-br from-orange-500 to-red-500 flex items-center justify-center text-white text-xs font-bold shadow-inner",children:o}),m.jsx("span",{"code-path":"src/components/Navbar.tsx:131:9",className:"text-sm font-medium text-slate-200 truncate max-w-[100px]",children:e.email?.split("@")[0]}),m.jsx(xv,{"code-path":"src/components/Navbar.tsx:132:9",className:`w-4 h-4 text-slate-400 transition-transform ${s?"rotate-180":""}`})]}),m.jsx(On,{"code-path":"src/components/Navbar.tsx:135:7",children:s&&m.jsxs(ve.div,{"code-path":"src/components/Navbar.tsx:137:11",initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{duration:.15},className:"absolute right-0 top-full mt-2 w-56 bg-slate-800 border border-slate-700 rounded-xl shadow-2xl py-2 z-50 overflow-hidden",children:[m.jsxs("div",{"code-path":"src/components/Navbar.tsx:141:13",className:"px-4 py-2 mb-2 border-b border-slate-700/50",children:[m.jsx("p",{"code-path":"src/components/Navbar.tsx:142:15",className:"text-xs text-slate-400",children:""}),m.jsx("p",{"code-path":"src/components/Navbar.tsx:143:15",className:"text-sm text-white font-medium truncate",children:e.email})]}),m.jsxs("button",{"code-path":"src/components/Navbar.tsx:146:13",className:"w-full text-left px-4 py-2.5 text-sm text-slate-200 hover:bg-slate-700 hover:text-white flex items-center gap-3 transition-colors",onClick:()=>{t("dashboard"),r(!1)},children:[m.jsx(r2,{"code-path":"src/components/Navbar.tsx:147:15",className:"w-4 h-4 text-orange-400"}),"  ()"]}),m.jsxs("button",{"code-path":"src/components/Navbar.tsx:149:13",className:"w-full text-left px-4 py-2.5 text-sm text-slate-200 hover:bg-slate-700 hover:text-white flex items-center gap-3 transition-colors",onClick:()=>{t("member"),r(!1)},children:[m.jsx(ym,{"code-path":"src/components/Navbar.tsx:150:15",className:"w-4 h-4 text-blue-400"}),"  (/)"]}),m.jsxs("button",{"code-path":"src/components/Navbar.tsx:152:13",className:"w-full text-left px-4 py-2.5 text-sm text-slate-200 hover:bg-slate-700 hover:text-white flex items-center gap-3 transition-colors",onClick:()=>{t("wizard"),r(!1)},children:[m.jsx(vv,{"code-path":"src/components/Navbar.tsx:153:15",className:"w-4 h-4 text-emerald-400"})," "]}),m.jsx("div",{"code-path":"src/components/Navbar.tsx:156:13",className:"h-px bg-slate-700 my-2 mx-4"}),m.jsxs("button",{"code-path":"src/components/Navbar.tsx:158:13",className:"w-full text-left px-4 py-2 text-sm text-red-400 hover:bg-red-500/10 hover:text-red-300 flex items-center gap-3 transition-colors",onClick:async()=>{await n(),t("home"),r(!1)},children:[m.jsx(n6,{"code-path":"src/components/Navbar.tsx:162:15",className:"w-4 h-4"})," "]})]})})]})}const jie=_.memo(function({setRoute:e,activeSport:n,setActiveSport:s,isSearchOpen:r,setIsSearchOpen:i,onSearchSelect:o}){const[l,u]=_.useState(!1),{currentUser:d,logout:f}=mo(),p=_.useCallback(y=>{e(y),u(!1)},[e]);return m.jsxs(m.Fragment,{children:[m.jsxs("nav",{"code-path":"src/components/Navbar.tsx:188:7",className:"sticky top-0 z-40 border-b border-slate-800 bg-slate-900/95 backdrop-blur-md text-slate-100 shadow-sm",children:[m.jsxs("div",{"code-path":"src/components/Navbar.tsx:189:9",className:"max-w-7xl mx-auto px-4 sm:px-6 flex h-16 items-center justify-between gap-4",children:[m.jsx(Iie,{"code-path":"src/components/Navbar.tsx:191:11",onClick:()=>p("home")}),m.jsx(Die,{"code-path":"src/components/Navbar.tsx:192:11",activeSport:n,onChange:s}),m.jsxs("div",{"code-path":"src/components/Navbar.tsx:194:11",className:"flex flex-1 justify-end items-center gap-3",children:[m.jsx("div",{"code-path":"src/components/Navbar.tsx:195:13",className:"hidden lg:block",children:m.jsx(Pie,{"code-path":"src/components/Navbar.tsx:195:46",onClick:()=>i(!0)})}),m.jsx(Pre,{"code-path":"src/components/Navbar.tsx:196:13"}),m.jsx(Oie,{"code-path":"src/components/Navbar.tsx:199:13",onNavigate:p}),m.jsxs("div",{"code-path":"src/components/Navbar.tsx:202:13",className:"lg:hidden flex items-center gap-2",children:[m.jsx(De,{"code-path":"src/components/Navbar.tsx:203:15",variant:"ghost",size:"icon",className:"h-9 w-9 text-slate-400",onClick:()=>i(!0),children:m.jsx(rp,{"code-path":"src/components/Navbar.tsx:204:17",className:"h-5 w-5"})}),m.jsx(De,{"code-path":"src/components/Navbar.tsx:206:15",variant:"ghost",size:"icon",className:"h-9 w-9",onClick:()=>u(!l),children:l?m.jsx(hu,{"code-path":"src/components/Navbar.tsx:207:31",className:"h-6 w-6"}):m.jsx(jse,{"code-path":"src/components/Navbar.tsx:207:59",className:"h-6 w-6"})})]})]})]}),m.jsx(On,{"code-path":"src/components/Navbar.tsx:214:9",children:l&&m.jsxs(ve.div,{"code-path":"src/components/Navbar.tsx:216:13",className:"border-t border-slate-800 bg-slate-900 px-6 py-4 lg:hidden flex flex-col gap-2 shadow-2xl absolute w-full left-0 top-16",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[m.jsx("div",{"code-path":"src/components/Navbar.tsx:220:15",className:"flex gap-2 mb-2 overflow-x-auto pb-2 no-scrollbar",children:k6.map(y=>m.jsx(De,{"code-path":"src/components/Navbar.tsx:222:19",variant:n===y.value?"secondary":"ghost",className:`flex-none ${n===y.value?"bg-slate-800 text-white":"text-slate-400"}`,onClick:()=>{s(y.value),u(!1)},children:y.label},y.value))}),m.jsx("div",{"code-path":"src/components/Navbar.tsx:232:15",className:"h-px bg-slate-800 my-2"}),d?m.jsxs("div",{"code-path":"src/components/Navbar.tsx:235:17",className:"space-y-2",children:[m.jsxs("div",{"code-path":"src/components/Navbar.tsx:236:19",className:"px-4 py-2 bg-slate-800/50 rounded-lg mb-4 text-sm text-slate-300 flex items-center gap-3",children:[m.jsx("div",{"code-path":"src/components/Navbar.tsx:237:21",className:"w-8 h-8 rounded-full bg-orange-500 flex items-center justify-center text-white font-bold",children:d.email?d.email[0].toUpperCase():"U"}),m.jsx("span",{"code-path":"src/components/Navbar.tsx:240:21",className:"truncate",children:d.email})]}),m.jsxs(De,{"code-path":"src/components/Navbar.tsx:242:19",className:"w-full justify-start bg-slate-800 text-white hover:bg-slate-700",onClick:()=>p("dashboard"),children:[m.jsx(r2,{"code-path":"src/components/Navbar.tsx:243:21",className:"mr-2 h-4 w-4 text-orange-400"}),"  ()"]}),m.jsxs(De,{"code-path":"src/components/Navbar.tsx:245:19",className:"w-full justify-start bg-slate-800 text-white hover:bg-slate-700",onClick:()=>p("member"),children:[m.jsx(ym,{"code-path":"src/components/Navbar.tsx:246:21",className:"mr-2 h-4 w-4 text-blue-400"}),"  ()"]}),m.jsxs(De,{"code-path":"src/components/Navbar.tsx:248:19",className:"w-full justify-start bg-slate-800 text-white hover:bg-slate-700",onClick:()=>p("wizard"),children:[m.jsx(vv,{"code-path":"src/components/Navbar.tsx:249:21",className:"mr-2 h-4 w-4 text-emerald-400"})," "]}),m.jsxs(De,{"code-path":"src/components/Navbar.tsx:251:19",variant:"outline",className:"w-full justify-start border-slate-700 text-red-400 hover:bg-red-950/30 mt-4",onClick:async()=>{await f(),p("home")},children:[m.jsx(n6,{"code-path":"src/components/Navbar.tsx:252:21",className:"mr-2 h-4 w-4"})," "]})]}):m.jsxs(De,{"code-path":"src/components/Navbar.tsx:256:17",className:"w-full bg-orange-500 hover:bg-orange-600 text-white h-12 text-lg font-bold shadow-lg",onClick:()=>p("login"),children:[m.jsx(t6,{"code-path":"src/components/Navbar.tsx:257:19",className:"mr-2 h-5 w-5"}),"  / "]})]})})]}),m.jsx(Mie,{"code-path":"src/components/Navbar.tsx:266:7",isOpen:r,onClose:()=>i(!1),onSelect:o})]})}),N6=_.createContext(void 0),Lie={default:{icon:tD,bgColor:"bg-slate-800",borderColor:"border-slate-700",iconColor:"text-slate-400"},success:{icon:Ine,bgColor:"bg-slate-800",borderColor:"border-emerald-500/50",iconColor:"text-emerald-500"},error:{icon:j0,bgColor:"bg-slate-800",borderColor:"border-red-500/50",iconColor:"text-red-500"},warning:{icon:wS,bgColor:"bg-slate-800",borderColor:"border-amber-500/50",iconColor:"text-amber-500"},info:{icon:tD,bgColor:"bg-slate-800",borderColor:"border-blue-500/50",iconColor:"text-blue-500"}};function Vie({children:t}){const[e,n]=_.useState([]),s=_.useCallback(o=>{n(l=>l.filter(u=>u.id!==o))},[]),r=_.useCallback(o=>{const l=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,u=o.duration||4e3;n(d=>[...d,{...o,id:l}]),setTimeout(()=>{s(l)},u)},[s]),i=_.useCallback(()=>{n([])},[]);return m.jsxs(N6.Provider,{"code-path":"src/hooks/useToast.tsx:89:5",value:{toasts:e,addToast:r,removeToast:s,clearAll:i},children:[t,m.jsx(zie,{"code-path":"src/hooks/useToast.tsx:91:7",toasts:e,onRemove:s})]})}function zie({toasts:t,onRemove:e}){return m.jsx("div",{"code-path":"src/hooks/useToast.tsx:103:5",className:"fixed bottom-6 right-6 z-[100] flex flex-col gap-3 pointer-events-none",children:m.jsx(On,{"code-path":"src/hooks/useToast.tsx:104:7",mode:"popLayout",children:t.map(n=>m.jsx(Bie,{"code-path":"src/hooks/useToast.tsx:106:11",toast:n,onRemove:e},n.id))})})}function Bie({toast:t,onRemove:e}){const n=Lie[t.variant||"default"],s=n.icon;return m.jsxs(ve.div,{"code-path":"src/hooks/useToast.tsx:123:5",layout:!0,initial:{opacity:0,x:50,scale:.9},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:50,scale:.9},transition:{duration:.2,ease:[.25,.46,.45,.94]},className:`
        pointer-events-auto flex items-start gap-3 px-4 py-3 rounded-xl shadow-2xl 
        min-w-[320px] max-w-[400px] border ${n.bgColor} ${n.borderColor}
      `,children:[m.jsx(s,{"code-path":"src/hooks/useToast.tsx:134:7",className:`w-5 h-5 mt-0.5 shrink-0 ${n.iconColor}`}),m.jsxs("div",{"code-path":"src/hooks/useToast.tsx:135:7",className:"flex-1 min-w-0",children:[m.jsx("p",{"code-path":"src/hooks/useToast.tsx:136:9",className:"font-medium text-white text-sm",children:t.title}),t.description&&m.jsx("p",{"code-path":"src/hooks/useToast.tsx:138:11",className:"text-slate-400 text-xs mt-1",children:t.description})]}),m.jsx("button",{"code-path":"src/hooks/useToast.tsx:141:7",onClick:()=>e(t.id),className:"text-slate-500 hover:text-white transition-colors shrink-0 p-0.5 hover:bg-slate-700 rounded",children:m.jsx(hu,{"code-path":"src/hooks/useToast.tsx:145:9",className:"w-4 h-4"})})]})}function Gr(){const t=_.useContext(N6);if(!t)throw new Error("useToast must be used within ToastProvider");return t}const Uie={initial:{opacity:0,y:20,scale:.98},animate:{opacity:1,y:0,scale:1,transition:{duration:.35,ease:[.25,.46,.45,.94]}},exit:{opacity:0,y:-20,scale:.98,transition:{duration:.25,ease:[.25,.46,.45,.94]}}},Fie={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:[.25,.46,.45,.94]}}},Hie=_.memo(function({children:e,route:n}){return m.jsx(On,{"code-path":"src/components/PageTransition.tsx:63:5",mode:"wait",children:m.jsx(ve.div,{"code-path":"src/components/PageTransition.tsx:64:7",variants:Uie,initial:"initial",animate:"animate",exit:"exit",className:"min-h-full",children:e},n)})}),hD=_.memo(function({children:e,className:n="",staggerDelay:s=.08}){return m.jsx(ve.div,{"code-path":"src/components/PageTransition.tsx:90:5",initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:s,delayChildren:.1}}},className:n,children:e})}),fD=_.memo(function({children:e,className:n=""}){return m.jsx(ve.div,{"code-path":"src/components/PageTransition.tsx:120:5",variants:Fie,className:n,children:e})}),vs=_.memo(function({children:e,className:n="",delay:s=0,duration:r=.5}){return m.jsx(ve.div,{"code-path":"src/components/PageTransition.tsx:143:5",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:r,delay:s,ease:[.25,.46,.45,.94]},className:n,children:e})});_.memo(function({children:e,className:n="",scale:s=1.02}){return m.jsx(ve.div,{"code-path":"src/components/PageTransition.tsx:170:5",whileHover:{scale:s},whileTap:{scale:.98},transition:{duration:.2},className:n,children:e})});_.memo(function({children:e,className:n="",direction:s="up",delay:r=0}){const i={left:{x:-50,y:0},right:{x:50,y:0},up:{x:0,y:50},down:{x:0,y:-50}};return m.jsx(ve.div,{"code-path":"src/components/PageTransition.tsx:202:5",initial:{opacity:0,...i[s]},animate:{opacity:1,x:0,y:0},transition:{duration:.5,delay:r,ease:[.25,.46,.45,.94]},className:n,children:e})});_.memo(function({className:e="",count:n=1}){return m.jsx(m.Fragment,{children:Array.from({length:n}).map((s,r)=>m.jsx(ve.div,{"code-path":"src/components/PageTransition.tsx:237:9",className:`bg-slate-800 rounded animate-pulse ${e}`,initial:{opacity:.5},animate:{opacity:[.5,.8,.5]},transition:{duration:1.5,repeat:1/0,delay:r*.1}},r))})});function kt({className:t,...e}){return m.jsx("div",{"code-path":"src/components/ui/card.tsx:7:5","data-slot":"card",className:bi("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...e})}const $ie=m6("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Vc({className:t,variant:e,asChild:n=!1,...s}){const r=n?h6:"span";return m.jsx(r,{"code-path":"src/components/ui/badge.tsx:38:5","data-slot":"badge",className:bi($ie({variant:e}),t),...s})}function R6(){return m.jsx("footer",{"code-path":"src/components/Footer.tsx:5:5",className:"border-t border-slate-800 bg-slate-950 text-slate-300 w-full mt-auto",children:m.jsxs("div",{"code-path":"src/components/Footer.tsx:6:7",className:"max-w-6xl mx-auto px-6 py-12",children:[m.jsxs("div",{"code-path":"src/components/Footer.tsx:7:9",className:"grid gap-8 md:grid-cols-4",children:[m.jsxs("div",{"code-path":"src/components/Footer.tsx:8:11",children:[m.jsxs("div",{"code-path":"src/components/Footer.tsx:9:13",className:"mb-4 flex items-center gap-2",children:[m.jsx(Cn,{"code-path":"src/components/Footer.tsx:10:15",className:"h-6 w-6 text-orange-500"}),m.jsx("span",{"code-path":"src/components/Footer.tsx:11:15",className:"font-display text-2xl tracking-widest text-white mt-1",children:"SPORTIFY"})]}),m.jsxs("p",{"code-path":"src/components/Footer.tsx:13:13",className:"text-sm text-slate-500 leading-relaxed",children:["",m.jsx("br",{"code-path":"src/components/Footer.tsx:14:25"}),""]})]}),m.jsxs("div",{"code-path":"src/components/Footer.tsx:17:11",children:[m.jsx("h4",{"code-path":"src/components/Footer.tsx:18:13",className:"mb-4 font-bold text-white",children:""}),m.jsxs("ul",{"code-path":"src/components/Footer.tsx:19:13",className:"space-y-2 text-sm text-slate-500",children:[m.jsx("li",{"code-path":"src/components/Footer.tsx:20:15",className:"hover:text-orange-400 cursor-pointer transition-colors",children:""}),m.jsx("li",{"code-path":"src/components/Footer.tsx:21:15",className:"hover:text-orange-400 cursor-pointer transition-colors",children:""}),m.jsx("li",{"code-path":"src/components/Footer.tsx:22:15",className:"hover:text-orange-400 cursor-pointer transition-colors",children:""}),m.jsx("li",{"code-path":"src/components/Footer.tsx:23:15",className:"hover:text-orange-400 cursor-pointer transition-colors",children:""})]})]}),m.jsxs("div",{"code-path":"src/components/Footer.tsx:26:11",children:[m.jsx("h4",{"code-path":"src/components/Footer.tsx:27:13",className:"mb-4 font-bold text-white",children:""}),m.jsxs("ul",{"code-path":"src/components/Footer.tsx:28:13",className:"space-y-2 text-sm text-slate-500",children:[m.jsx("li",{"code-path":"src/components/Footer.tsx:29:15",children:" "}),m.jsx("li",{"code-path":"src/components/Footer.tsx:30:15",children:" "}),m.jsx("li",{"code-path":"src/components/Footer.tsx:31:15",children:" "}),m.jsx("li",{"code-path":"src/components/Footer.tsx:32:15",children:" "}),m.jsx("li",{"code-path":"src/components/Footer.tsx:33:15",children:" "}),m.jsx("li",{"code-path":"src/components/Footer.tsx:34:15",children:" "})]})]}),m.jsxs("div",{"code-path":"src/components/Footer.tsx:37:11",children:[m.jsx("h4",{"code-path":"src/components/Footer.tsx:38:13",className:"mb-4 font-bold text-white",children:""}),m.jsxs("ul",{"code-path":"src/components/Footer.tsx:39:13",className:"space-y-2 text-sm text-slate-500",children:[m.jsx("li",{"code-path":"src/components/Footer.tsx:40:15",children:"service@sportify.tw"}),m.jsx("li",{"code-path":"src/components/Footer.tsx:41:15",children:"02-1234-5678"}),m.jsx("li",{"code-path":"src/components/Footer.tsx:42:15",children:" 7 "})]})]})]}),m.jsx("div",{"code-path":"src/components/Footer.tsx:46:9",className:"mt-12 border-t border-slate-800 pt-6 text-center text-xs text-slate-600",children:" 2026 Champio. All rights reserved."})]})})}const pD=[{id:1,name:"2026 ",sport:"basketball",startDate:"2026-04-15",endDate:"2026-04-30",location:"",organizer:"",status:"",teamsRegistered:12,maxTeams:16,bannerColor:"#f97316",description:""},{id:2,name:"",sport:"volleyball",startDate:"2026-05-20",endDate:"2026-05-25",location:"",organizer:"",status:"",teamsRegistered:8,maxTeams:8,bannerColor:"#3b82f6",description:""},{id:3,name:" 3v3 ",sport:"basketball",startDate:"2026-06-10",endDate:"2026-06-12",location:"",organizer:"",status:"",teamsRegistered:0,maxTeams:32,bannerColor:"#10b981",description:" 3v3 "}],qie=[{icon:vv,title:"",description:""},{icon:jne,title:"",description:""},{icon:ise,title:"",description:""},{icon:Wne,title:"",description:""},{icon:u2,title:"",description:"/"},{icon:n2,title:"",description:""}],mD={:{text:"",className:"bg-emerald-500 text-white"},:{text:"",className:"bg-orange-500 text-white"},:{text:"",className:"bg-slate-700 text-slate-300"}},Wie=t=>{const e=t?.toLowerCase();return e==="basketball"||e===""?"":e==="volleyball"||e===""?"":e==="soccer"||e===""?"":e==="softball"||e===""?"":e==="badminton"||e===""?"":e==="tabletennis"||e===""?"":e==="beachvolleyball"||e===""?"":""};function Kie({t}){const e=mD[t.status]||mD.,n=t.teamsRegistered||0,s=t.maxTeams||16,r=Math.round(n/s*100)||0,i=nh();return m.jsx(ve.div,{"code-path":"src/pages/LandingPage.tsx:62:5",whileHover:{y:-8,scale:1.02},whileTap:{scale:.98},transition:{duration:.3},className:"h-full",children:m.jsxs(kt,{"code-path":"src/pages/LandingPage.tsx:63:7",className:"group overflow-hidden transition-all hover:shadow-xl hover:shadow-orange-500/10 hover:border-orange-500/50 cursor-pointer bg-slate-800 border-slate-700 h-full flex flex-col",onClick:()=>i("/event"),children:[m.jsx(ve.div,{"code-path":"src/pages/LandingPage.tsx:67:9",className:`${t.bannerImage?"h-32":"h-2"} w-full relative shrink-0`,style:{background:t.bannerImage?`url(${t.bannerImage}) center/cover`:t.bannerColor||"#f97316"},whileHover:{scaleY:t.bannerImage?1.05:1.5},transition:{duration:.2},children:t.bannerImage&&m.jsx("div",{"code-path":"src/pages/LandingPage.tsx:73:29",className:"absolute inset-0 bg-black/20 group-hover:bg-transparent transition-colors"})}),m.jsxs("div",{"code-path":"src/pages/LandingPage.tsx:76:9",className:"p-5 flex flex-col flex-1",children:[m.jsxs("div",{"code-path":"src/pages/LandingPage.tsx:77:11",className:"mb-3 flex items-start justify-between",children:[m.jsx(Vc,{"code-path":"src/pages/LandingPage.tsx:78:13",className:`${e.className} border-0 text-xs px-2 py-0.5`,children:e.text}),m.jsx("span",{"code-path":"src/pages/LandingPage.tsx:79:13",className:"text-sm opacity-80",children:Wie(t.sport)})]}),m.jsx("h3",{"code-path":"src/pages/LandingPage.tsx:81:11",className:"mb-2 font-bold text-white text-lg leading-tight group-hover:text-orange-400 transition-colors line-clamp-2",children:t.name}),m.jsx("p",{"code-path":"src/pages/LandingPage.tsx:82:11",className:"mb-4 text-sm text-slate-400 line-clamp-2",children:t.description}),m.jsxs("div",{"code-path":"src/pages/LandingPage.tsx:84:11",className:"mt-auto",children:[m.jsxs("div",{"code-path":"src/pages/LandingPage.tsx:85:13",className:"space-y-2 text-xs text-slate-400 border-t border-slate-700/50 pt-4",children:[m.jsxs("div",{"code-path":"src/pages/LandingPage.tsx:86:15",className:"flex items-center gap-2",children:[m.jsx(Ss,{"code-path":"src/pages/LandingPage.tsx:86:56",className:"h-4 w-4 shrink-0"}),m.jsx("span",{"code-path":"src/pages/LandingPage.tsx:86:94",className:"truncate",children:t.organizer})]}),m.jsxs("div",{"code-path":"src/pages/LandingPage.tsx:87:15",className:"flex items-center gap-2",children:[m.jsx(vi,{"code-path":"src/pages/LandingPage.tsx:87:56",className:"h-4 w-4 shrink-0"}),m.jsxs("span",{"code-path":"src/pages/LandingPage.tsx:87:97",className:"truncate",children:[t.startDate," ~ ",t.endDate]})]}),m.jsxs("div",{"code-path":"src/pages/LandingPage.tsx:88:15",className:"flex items-center gap-2",children:[m.jsx(fh,{"code-path":"src/pages/LandingPage.tsx:88:56",className:"h-4 w-4 shrink-0"}),m.jsx("span",{"code-path":"src/pages/LandingPage.tsx:88:95",className:"truncate",children:t.location})]})]}),m.jsxs("div",{"code-path":"src/pages/LandingPage.tsx:90:13",className:"mt-5 bg-slate-900/50 p-3 rounded-lg",children:[m.jsxs("div",{"code-path":"src/pages/LandingPage.tsx:91:15",className:"mb-2 flex justify-between text-xs",children:[m.jsxs("span",{"code-path":"src/pages/LandingPage.tsx:92:17",className:"text-slate-400",children:[" ",m.jsxs("span",{"code-path":"src/pages/LandingPage.tsx:92:54",className:"text-white font-medium",children:[n,"/",s]})," "]}),m.jsxs("span",{"code-path":"src/pages/LandingPage.tsx:93:17",className:"font-bold text-orange-500",children:[r,"%"]})]}),m.jsx("div",{"code-path":"src/pages/LandingPage.tsx:95:15",className:"h-2 w-full overflow-hidden rounded-full bg-slate-800",children:m.jsx(ve.div,{"code-path":"src/pages/LandingPage.tsx:96:17",className:"h-full rounded-full bg-gradient-to-r from-orange-600 to-orange-400",initial:{width:0},animate:{width:`${r}%`},transition:{duration:1,delay:.3}})})]})]})]})]})})}function Gie({setRoute:t,activeSport:e}){const n=nh(),{currentUser:s}=mo(),[r,i]=_.useState([]),[o,l]=_.useState(!0);_.useEffect(()=>{(async()=>{try{const f=Fd(Jo(ws,"events"),I5("createdAt","desc")),y=(await Hd(f)).docs.map(x=>({id:x.id,...x.data()}));i(y.length>0?y:pD)}catch(f){console.error(":",f),i(pD)}finally{l(!1)}})()},[]);const u=r.filter(d=>{const f={basketball:"",volleyball:"",soccer:"",softball:"",badminton:"",tabletennis:"",beachvolleyball:"",other:""};return d.sport===e||d.sport===f[e]});return m.jsxs("div",{"code-path":"src/pages/LandingPage.tsx:151:5",className:"flex flex-col pb-12",children:[m.jsxs("section",{"code-path":"src/pages/LandingPage.tsx:153:7",className:"relative flex min-h-[560px] items-center justify-center overflow-hidden border-b border-slate-800",style:{background:"linear-gradient(135deg, #020617 0%, #0f172a 50%, #020617 100%)"},children:[m.jsx(ve.div,{"code-path":"src/pages/LandingPage.tsx:154:9",className:"absolute -left-20 -top-20 h-96 w-96 rounded-full bg-orange-500/10 blur-[100px]",animate:{scale:[1,1.2,1],opacity:[.1,.2,.1]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),m.jsxs("div",{"code-path":"src/pages/LandingPage.tsx:155:9",className:"container relative z-10 py-20 px-6 text-center max-w-5xl mx-auto",children:[m.jsx(vs,{"code-path":"src/pages/LandingPage.tsx:156:11",children:m.jsx("div",{"code-path":"src/pages/LandingPage.tsx:156:19",className:"inline-flex items-center px-4 py-1.5 rounded-full mb-6 bg-orange-500/10 text-orange-400 border border-orange-500/20 text-sm font-medium",children:" "})}),m.jsx(vs,{"code-path":"src/pages/LandingPage.tsx:157:11",delay:.1,children:m.jsxs("h1",{"code-path":"src/pages/LandingPage.tsx:157:31",className:"mb-6 font-extrabold text-5xl tracking-tight md:text-7xl text-white drop-shadow-lg",children:["",m.jsx("br",{"code-path":"src/pages/LandingPage.tsx:157:136"}),m.jsx("span",{"code-path":"src/pages/LandingPage.tsx:157:142",className:"text-transparent bg-clip-text bg-gradient-to-r from-orange-400 to-orange-600",children:""})]})}),m.jsx(vs,{"code-path":"src/pages/LandingPage.tsx:158:11",delay:.2,children:m.jsx("p",{"code-path":"src/pages/LandingPage.tsx:158:31",className:"mx-auto mb-10 max-w-2xl text-lg md:text-xl text-slate-400 leading-relaxed",children:""})}),m.jsx(vs,{"code-path":"src/pages/LandingPage.tsx:159:11",delay:.3,children:m.jsx("div",{"code-path":"src/pages/LandingPage.tsx:160:13",className:"flex flex-wrap items-center justify-center gap-4",children:m.jsxs(De,{"code-path":"src/pages/LandingPage.tsx:161:15",className:"px-8 py-3.5 text-lg bg-orange-500 hover:bg-orange-600 shadow-lg shadow-orange-500/20",onClick:()=>n(s?"/dashboard":"/wizard"),children:[m.jsx(vv,{"code-path":"src/pages/LandingPage.tsx:165:17",className:"mr-2 h-5 w-5"})," ",s?"":""]})})})]})]}),m.jsxs("section",{"code-path":"src/pages/LandingPage.tsx:173:7",className:"py-20 px-6 max-w-6xl mx-auto w-full",children:[m.jsx("div",{"code-path":"src/pages/LandingPage.tsx:174:9",className:"mb-10 flex flex-col md:flex-row md:items-end justify-between gap-4",children:m.jsxs("div",{"code-path":"src/pages/LandingPage.tsx:175:11",children:[m.jsx("h2",{"code-path":"src/pages/LandingPage.tsx:176:13",className:"text-3xl font-bold text-white",children:""}),m.jsx("p",{"code-path":"src/pages/LandingPage.tsx:177:13",className:"mt-2 text-slate-400",children:""})]})}),o?m.jsx("div",{"code-path":"src/pages/LandingPage.tsx:182:11",className:"flex justify-center py-10",children:m.jsx(mi,{"code-path":"src/pages/LandingPage.tsx:182:54",className:"w-8 h-8 animate-spin text-orange-500"})}):u.length===0?m.jsxs("div",{"code-path":"src/pages/LandingPage.tsx:184:11",className:"flex flex-col items-center justify-center py-16 bg-slate-900/50 rounded-2xl border border-dashed border-slate-800",children:[m.jsx(Cn,{"code-path":"src/pages/LandingPage.tsx:185:13",className:"w-12 h-12 text-slate-600 mb-4"}),m.jsx("h3",{"code-path":"src/pages/LandingPage.tsx:186:13",className:"text-xl font-bold text-slate-300 mb-2",children:""}),m.jsx("p",{"code-path":"src/pages/LandingPage.tsx:187:13",className:"text-slate-500",children:""}),m.jsx(De,{"code-path":"src/pages/LandingPage.tsx:188:13",variant:"outline",className:"mt-6 border-slate-700 hover:bg-slate-800",onClick:()=>n("/wizard"),children:""})]}):m.jsx(hD,{"code-path":"src/pages/LandingPage.tsx:193:11",className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",staggerDelay:.15,children:u.map(d=>m.jsx(fD,{"code-path":"src/pages/LandingPage.tsx:195:15",className:"h-full",children:m.jsx(Kie,{"code-path":"src/pages/LandingPage.tsx:196:17",t:d})},d.id))})]}),m.jsx("section",{"code-path":"src/pages/LandingPage.tsx:204:7",className:"border-t border-slate-800/50 bg-slate-900/30 py-20 px-6",children:m.jsxs("div",{"code-path":"src/pages/LandingPage.tsx:205:9",className:"max-w-6xl mx-auto w-full text-center",children:[m.jsx("h2",{"code-path":"src/pages/LandingPage.tsx:206:11",className:"text-3xl font-bold text-white mb-10",children:""}),m.jsx(hD,{"code-path":"src/pages/LandingPage.tsx:207:11",className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",staggerDelay:.1,children:qie.map(d=>m.jsx(fD,{"code-path":"src/pages/LandingPage.tsx:209:15",children:m.jsxs(kt,{"code-path":"src/pages/LandingPage.tsx:210:17",className:"p-8 border-slate-800 bg-slate-900/80 hover:border-slate-700 transition-colors h-full flex flex-col items-center",children:[m.jsx(d.icon,{"code-path":"src/pages/LandingPage.tsx:211:19",className:"h-10 w-10 text-orange-500 mb-4 mx-auto"}),m.jsx("h3",{"code-path":"src/pages/LandingPage.tsx:212:19",className:"mb-2 font-bold text-white text-xl",children:d.title}),m.jsx("p",{"code-path":"src/pages/LandingPage.tsx:213:19",className:"text-slate-400 text-sm",children:d.description})]})},d.title))})]})}),m.jsx(R6,{"code-path":"src/pages/LandingPage.tsx:220:7"})]})}const M6=[{value:"basketball",label:"",icon:sse},{value:"volleyball",label:"",icon:Cf},{value:"soccer",label:"",icon:Cf},{value:"badminton",label:"",icon:tse},{value:"tabletennis",label:"",icon:Cf},{value:"softball",label:"",icon:Cf},{value:"beachvolleyball",label:"",icon:Cf},{value:"other",label:"",icon:JL}],I6=[{id:"dark",name:"",gradient:"linear-gradient(135deg, #0f172a 0%, #1e293b 100%)",primary:"#f97316",accent:"#fb923c"},{id:"orange",name:"",gradient:"linear-gradient(135deg, #7c2d12 0%, #c2410c 100%)",primary:"#fb923c",accent:"#fdba74"},{id:"blue",name:"",gradient:"linear-gradient(135deg, #1e3a5f 0%, #3b82f6 100%)",primary:"#60a5fa",accent:"#93c5fd"},{id:"minimal",name:"",gradient:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",primary:"#475569",accent:"#64748b"}],D6=[{value:"single_elimination",label:"",description:""},{value:"double_elimination",label:"",description:""},{value:"round_robin",label:"",description:""},{value:"hybrid",label:"",description:" + "}];function Yie({data:t,onChange:e}){return m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:55:5",className:"space-y-6",children:[m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:56:7",className:"flex items-center gap-3 mb-6",children:[m.jsx("div",{"code-path":"src/pages/EventWizard.tsx:57:9",className:"w-10 h-10 rounded-lg bg-orange-500/20 flex items-center justify-center",children:m.jsx(Cn,{"code-path":"src/pages/EventWizard.tsx:58:11",className:"w-5 h-5 text-orange-500"})}),m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:60:9",children:[m.jsx("h3",{"code-path":"src/pages/EventWizard.tsx:61:11",className:"text-xl font-bold text-white",children:""}),m.jsx("p",{"code-path":"src/pages/EventWizard.tsx:62:11",className:"text-sm text-slate-400",children:""})]})]}),m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:66:7",className:"space-y-4",children:[m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:68:9",children:[m.jsxs("label",{"code-path":"src/pages/EventWizard.tsx:69:11",className:"block text-sm font-medium text-slate-300 mb-2",children:[" ",m.jsx("span",{"code-path":"src/pages/EventWizard.tsx:70:18",className:"text-red-500",children:"*"})]}),m.jsx("input",{"code-path":"src/pages/EventWizard.tsx:72:11",type:"text",value:t.name,onChange:n=>e({name:n.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:border-orange-500 focus:outline-none focus:ring-2 focus:ring-orange-500/20 transition-all",placeholder:"2026 "})]}),m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:82:9",children:[m.jsx("label",{"code-path":"src/pages/EventWizard.tsx:83:11",className:"block text-sm font-medium text-slate-300 mb-2",children:""}),m.jsx("div",{"code-path":"src/pages/EventWizard.tsx:84:11",className:"grid grid-cols-4 gap-3",children:M6.map(n=>{const s=n.icon;return m.jsxs(ve.button,{"code-path":"src/pages/EventWizard.tsx:88:17",type:"button",onClick:()=>e({sport:n.value}),className:`p-3 rounded-lg border-2 transition-all flex flex-col items-center gap-2 ${t.sport===n.value?"border-orange-500 bg-orange-500/10":"border-slate-700 hover:border-slate-500"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[m.jsx(s,{"code-path":"src/pages/EventWizard.tsx:100:19",className:`w-6 h-6 ${t.sport===n.value?"text-orange-500":"text-slate-400"}`}),m.jsx("span",{"code-path":"src/pages/EventWizard.tsx:101:19",className:`text-xs ${t.sport===n.value?"text-orange-400":"text-slate-400"}`,children:n.label})]},n.value)})})]}),m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:111:9",className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:112:11",children:[m.jsxs("label",{"code-path":"src/pages/EventWizard.tsx:113:13",className:"block text-sm font-medium text-slate-300 mb-2",children:[m.jsx(vi,{"code-path":"src/pages/EventWizard.tsx:114:15",className:"w-4 h-4 inline mr-1"})," "]}),m.jsx("input",{"code-path":"src/pages/EventWizard.tsx:116:13",type:"date",value:t.startDate,onChange:n=>e({startDate:n.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:border-orange-500 focus:outline-none"})]}),m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:123:11",children:[m.jsxs("label",{"code-path":"src/pages/EventWizard.tsx:124:13",className:"block text-sm font-medium text-slate-300 mb-2",children:[m.jsx(vi,{"code-path":"src/pages/EventWizard.tsx:125:15",className:"w-4 h-4 inline mr-1"})," "]}),m.jsx("input",{"code-path":"src/pages/EventWizard.tsx:127:13",type:"date",value:t.endDate,onChange:n=>e({endDate:n.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:border-orange-500 focus:outline-none"})]})]}),m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:137:9",children:[m.jsxs("label",{"code-path":"src/pages/EventWizard.tsx:138:11",className:"block text-sm font-medium text-slate-300 mb-2",children:[m.jsx(fh,{"code-path":"src/pages/EventWizard.tsx:139:13",className:"w-4 h-4 inline mr-1"})," "]}),m.jsx("input",{"code-path":"src/pages/EventWizard.tsx:141:11",type:"text",value:t.location,onChange:n=>e({location:n.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:border-orange-500 focus:outline-none",placeholder:""})]}),m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:151:9",children:[m.jsxs("label",{"code-path":"src/pages/EventWizard.tsx:152:11",className:"block text-sm font-medium text-slate-300 mb-2",children:[m.jsx(ym,{"code-path":"src/pages/EventWizard.tsx:153:13",className:"w-4 h-4 inline mr-1"})," "]}),m.jsx("input",{"code-path":"src/pages/EventWizard.tsx:155:11",type:"text",value:t.organizer,onChange:n=>e({organizer:n.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:border-orange-500 focus:outline-none",placeholder:""})]}),m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:165:9",className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:166:11",children:[m.jsxs("label",{"code-path":"src/pages/EventWizard.tsx:167:13",className:"block text-sm font-medium text-slate-300 mb-2",children:[m.jsx(s2,{"code-path":"src/pages/EventWizard.tsx:168:15",className:"w-4 h-4 inline mr-1"}),"  Email"]}),m.jsx("input",{"code-path":"src/pages/EventWizard.tsx:170:13",type:"email",value:t.contactEmail,onChange:n=>e({contactEmail:n.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:border-orange-500 focus:outline-none",placeholder:"contact@example.com"})]}),m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:178:11",children:[m.jsxs("label",{"code-path":"src/pages/EventWizard.tsx:179:13",className:"block text-sm font-medium text-slate-300 mb-2",children:[m.jsx(o2,{"code-path":"src/pages/EventWizard.tsx:180:15",className:"w-4 h-4 inline mr-1"})," "]}),m.jsx("input",{"code-path":"src/pages/EventWizard.tsx:182:13",type:"tel",value:t.contactPhone,onChange:n=>e({contactPhone:n.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:border-orange-500 focus:outline-none",placeholder:"0912-345-678"})]})]}),m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:193:9",children:[m.jsx("label",{"code-path":"src/pages/EventWizard.tsx:194:11",className:"block text-sm font-medium text-slate-300 mb-2",children:""}),m.jsx("textarea",{"code-path":"src/pages/EventWizard.tsx:195:11",value:t.description,onChange:n=>e({description:n.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:border-orange-500 focus:outline-none resize-none",rows:3,placeholder:"..."})]})]})]})}function Xie({data:t,onChange:e}){const n=_.useRef(null),s=r=>{const i=r.target.files?.[0];if(i){const o=new FileReader;o.onloadend=()=>{e({bannerImage:o.result})},o.readAsDataURL(i)}};return m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:223:5",className:"space-y-6",children:[m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:224:7",className:"flex items-center gap-3 mb-6",children:[m.jsx("div",{"code-path":"src/pages/EventWizard.tsx:225:9",className:"w-10 h-10 rounded-lg bg-orange-500/20 flex items-center justify-center",children:m.jsx(r6,{"code-path":"src/pages/EventWizard.tsx:226:11",className:"w-5 h-5 text-orange-500"})}),m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:228:9",children:[m.jsx("h3",{"code-path":"src/pages/EventWizard.tsx:229:11",className:"text-xl font-bold text-white",children:""}),m.jsx("p",{"code-path":"src/pages/EventWizard.tsx:230:11",className:"text-sm text-slate-400",children:""})]})]}),m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:235:7",className:"mb-6",children:[m.jsxs("label",{"code-path":"src/pages/EventWizard.tsx:236:9",className:"block text-sm font-medium text-slate-300 mb-2",children:[m.jsx(ZL,{"code-path":"src/pages/EventWizard.tsx:237:11",className:"w-4 h-4 inline mr-1"})," Banner "]}),m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:239:9",onClick:()=>n.current?.click(),className:"relative h-40 rounded-xl border-2 border-dashed border-slate-600 hover:border-orange-500 transition-colors cursor-pointer overflow-hidden bg-slate-900 flex items-center justify-center",children:[t.bannerImage?m.jsx("img",{"code-path":"src/pages/EventWizard.tsx:244:13",src:t.bannerImage,alt:"Banner",className:"w-full h-full object-cover"}):m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:246:13",className:"text-center",children:[m.jsx(c2,{"code-path":"src/pages/EventWizard.tsx:247:15",className:"w-10 h-10 text-slate-500 mx-auto mb-2"}),m.jsx("p",{"code-path":"src/pages/EventWizard.tsx:248:15",className:"text-slate-400",children:" Banner "}),m.jsx("p",{"code-path":"src/pages/EventWizard.tsx:249:15",className:"text-xs text-slate-500 mt-1",children:" 1200x400px"})]}),m.jsx("input",{"code-path":"src/pages/EventWizard.tsx:252:11",ref:n,type:"file",accept:"image/*",onChange:s,className:"hidden"})]})]}),m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:263:7",children:[m.jsxs("label",{"code-path":"src/pages/EventWizard.tsx:264:9",className:"block text-sm font-medium text-slate-300 mb-3",children:[m.jsx(r2,{"code-path":"src/pages/EventWizard.tsx:265:11",className:"w-4 h-4 inline mr-1"})," "]}),m.jsx("div",{"code-path":"src/pages/EventWizard.tsx:267:9",className:"grid grid-cols-2 gap-4",children:I6.map(r=>m.jsxs(ve.div,{"code-path":"src/pages/EventWizard.tsx:269:13",className:`
                p-4 rounded-xl border-2 cursor-pointer transition-all
                ${t.theme===r.id?"border-orange-500 bg-slate-900":"border-slate-700 hover:border-slate-500"}
              `,onClick:()=>e({theme:r.id}),whileHover:{scale:1.02},whileTap:{scale:.98},children:[m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:279:15",className:"h-24 rounded-lg mb-3 flex items-center justify-center relative overflow-hidden",style:{background:r.gradient},children:[m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:283:17",className:"text-center",children:[m.jsx(Cn,{"code-path":"src/pages/EventWizard.tsx:284:19",className:"w-6 h-6 mx-auto mb-1",style:{color:r.primary}}),m.jsx("p",{"code-path":"src/pages/EventWizard.tsx:285:19",className:"text-xs font-medium",style:{color:r.id==="minimal"?"#1e293b":"#fff"},children:t.name||""})]}),t.theme===r.id&&m.jsx(ve.div,{"code-path":"src/pages/EventWizard.tsx:290:19",initial:{scale:0},animate:{scale:1},className:"absolute top-2 right-2 w-6 h-6 bg-orange-500 rounded-full flex items-center justify-center",children:m.jsx(ao,{"code-path":"src/pages/EventWizard.tsx:295:21",className:"w-4 h-4 text-white"})})]}),m.jsx("p",{"code-path":"src/pages/EventWizard.tsx:299:15",className:"text-center text-white font-medium text-sm",children:r.name})]},r.id))})]})]})}function Qie({data:t,onChange:e}){return m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:310:5",className:"space-y-6",children:[m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:311:7",className:"flex items-center gap-3 mb-6",children:[m.jsx("div",{"code-path":"src/pages/EventWizard.tsx:312:9",className:"w-10 h-10 rounded-lg bg-orange-500/20 flex items-center justify-center",children:m.jsx(Ss,{"code-path":"src/pages/EventWizard.tsx:313:11",className:"w-5 h-5 text-orange-500"})}),m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:315:9",children:[m.jsx("h3",{"code-path":"src/pages/EventWizard.tsx:316:11",className:"text-xl font-bold text-white",children:""}),m.jsx("p",{"code-path":"src/pages/EventWizard.tsx:317:11",className:"text-sm text-slate-400",children:""})]})]}),m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:321:7",className:"space-y-4",children:[m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:323:9",children:[m.jsxs("label",{"code-path":"src/pages/EventWizard.tsx:324:11",className:"block text-sm font-medium text-slate-300 mb-2",children:[m.jsx(Ss,{"code-path":"src/pages/EventWizard.tsx:325:13",className:"w-4 h-4 inline mr-1"})," "]}),m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:327:11",className:"flex items-center gap-4",children:[m.jsx("input",{"code-path":"src/pages/EventWizard.tsx:328:13",type:"range",min:"4",max:"64",value:t.maxTeams,onChange:n=>e({maxTeams:parseInt(n.target.value)}),className:"flex-1 accent-orange-500"}),m.jsx("span",{"code-path":"src/pages/EventWizard.tsx:336:13",className:"w-16 text-center text-xl font-bold text-orange-400",children:t.maxTeams})]}),m.jsx("p",{"code-path":"src/pages/EventWizard.tsx:338:11",className:"text-xs text-slate-500 mt-1",children:" 16-32  8-16 "})]}),m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:342:9",children:[m.jsxs("label",{"code-path":"src/pages/EventWizard.tsx:343:11",className:"block text-sm font-medium text-slate-300 mb-2",children:[m.jsx(Gne,{"code-path":"src/pages/EventWizard.tsx:344:13",className:"w-4 h-4 inline mr-1"})," "]}),m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:346:11",className:"flex items-center gap-3",children:[m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:347:13",className:"relative flex-1",children:[m.jsx("span",{"code-path":"src/pages/EventWizard.tsx:348:15",className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500",children:"$"}),m.jsx("input",{"code-path":"src/pages/EventWizard.tsx:349:15",type:"number",value:t.registrationFee,onChange:n=>e({registrationFee:parseInt(n.target.value)||0}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg pl-8 pr-4 py-3 text-white focus:border-orange-500 focus:outline-none",placeholder:"3000"})]}),m.jsxs("label",{"code-path":"src/pages/EventWizard.tsx:357:13",className:"flex items-center gap-2 cursor-pointer",children:[m.jsx("input",{"code-path":"src/pages/EventWizard.tsx:358:15",type:"checkbox",checked:!t.requirePayment,onChange:n=>e({requirePayment:!n.target.checked}),className:"w-5 h-5 accent-orange-500"}),m.jsx("span",{"code-path":"src/pages/EventWizard.tsx:364:15",className:"text-sm text-slate-400",children:""})]})]})]}),m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:370:9",children:[m.jsxs("label",{"code-path":"src/pages/EventWizard.tsx:371:11",className:"block text-sm font-medium text-slate-300 mb-2",children:[m.jsx(vi,{"code-path":"src/pages/EventWizard.tsx:372:13",className:"w-4 h-4 inline mr-1"})," "]}),m.jsx("input",{"code-path":"src/pages/EventWizard.tsx:374:11",type:"date",value:t.registrationDeadline,onChange:n=>e({registrationDeadline:n.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:border-orange-500 focus:outline-none"})]}),m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:383:9",className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:384:11",children:[m.jsx("label",{"code-path":"src/pages/EventWizard.tsx:385:13",className:"block text-sm font-medium text-slate-300 mb-2",children:""}),m.jsx("input",{"code-path":"src/pages/EventWizard.tsx:386:13",type:"number",min:"1",value:t.minPlayersPerTeam,onChange:n=>e({minPlayersPerTeam:parseInt(n.target.value)||1}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:border-orange-500 focus:outline-none"})]}),m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:394:11",children:[m.jsx("label",{"code-path":"src/pages/EventWizard.tsx:395:13",className:"block text-sm font-medium text-slate-300 mb-2",children:""}),m.jsx("input",{"code-path":"src/pages/EventWizard.tsx:396:13",type:"number",min:"1",value:t.maxPlayersPerTeam,onChange:n=>e({maxPlayersPerTeam:parseInt(n.target.value)||1}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:border-orange-500 focus:outline-none"})]})]}),m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:407:9",className:"flex items-center justify-between p-4 bg-slate-900 rounded-lg",children:[m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:408:11",children:[m.jsx("p",{"code-path":"src/pages/EventWizard.tsx:409:13",className:"text-slate-300 font-medium",children:""}),m.jsx("p",{"code-path":"src/pages/EventWizard.tsx:410:13",className:"text-xs text-slate-500",children:""})]}),m.jsxs("label",{"code-path":"src/pages/EventWizard.tsx:412:11",className:"relative inline-flex items-center cursor-pointer",children:[m.jsx("input",{"code-path":"src/pages/EventWizard.tsx:413:13",type:"checkbox",checked:t.allowWaitlist,onChange:n=>e({allowWaitlist:n.target.checked}),className:"sr-only peer"}),m.jsx("div",{"code-path":"src/pages/EventWizard.tsx:419:13",className:"w-11 h-6 bg-slate-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-orange-500"})]})]})]})]})}function Jie({data:t,onChange:e}){const[n,s]=_.useState(""),r=()=>{n.trim()&&!t.courts.includes(n.trim())&&(e({courts:[...t.courts,n.trim()]}),s(""))},i=o=>{e({courts:t.courts.filter(l=>l!==o)})};return m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:442:5",className:"space-y-6",children:[m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:443:7",className:"flex items-center gap-3 mb-6",children:[m.jsx("div",{"code-path":"src/pages/EventWizard.tsx:444:9",className:"w-10 h-10 rounded-lg bg-orange-500/20 flex items-center justify-center",children:m.jsx(a2,{"code-path":"src/pages/EventWizard.tsx:445:11",className:"w-5 h-5 text-orange-500"})}),m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:447:9",children:[m.jsx("h3",{"code-path":"src/pages/EventWizard.tsx:448:11",className:"text-xl font-bold text-white",children:""}),m.jsx("p",{"code-path":"src/pages/EventWizard.tsx:449:11",className:"text-sm text-slate-400",children:""})]})]}),m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:453:7",className:"space-y-4",children:[m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:455:9",children:[m.jsxs("label",{"code-path":"src/pages/EventWizard.tsx:456:11",className:"block text-sm font-medium text-slate-300 mb-3",children:[m.jsx(pre,{"code-path":"src/pages/EventWizard.tsx:457:13",className:"w-4 h-4 inline mr-1"})," "]}),m.jsx("div",{"code-path":"src/pages/EventWizard.tsx:459:11",className:"space-y-3",children:D6.map(o=>m.jsx(ve.div,{"code-path":"src/pages/EventWizard.tsx:461:15",className:`
                  p-4 rounded-lg border-2 cursor-pointer transition-all
                  ${t.format===o.value?"border-orange-500 bg-orange-500/10":"border-slate-700 hover:border-slate-500"}
                `,onClick:()=>e({format:o.value}),whileHover:{scale:1.01},whileTap:{scale:.99},children:m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:473:17",className:"flex items-center justify-between",children:[m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:474:19",children:[m.jsx("p",{"code-path":"src/pages/EventWizard.tsx:475:21",className:`font-medium ${t.format===o.value?"text-orange-400":"text-white"}`,children:o.label}),m.jsx("p",{"code-path":"src/pages/EventWizard.tsx:478:21",className:"text-sm text-slate-500",children:o.description})]}),t.format===o.value&&m.jsx(ao,{"code-path":"src/pages/EventWizard.tsx:481:21",className:"w-5 h-5 text-orange-500"})]})},o.value))})]}),(t.format==="round_robin"||t.format==="hybrid")&&m.jsxs(ve.div,{"code-path":"src/pages/EventWizard.tsx:491:11",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"space-y-4",children:[m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:496:13",className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:497:15",children:[m.jsx("label",{"code-path":"src/pages/EventWizard.tsx:498:17",className:"block text-sm font-medium text-slate-300 mb-2",children:""}),m.jsx("input",{"code-path":"src/pages/EventWizard.tsx:499:17",type:"number",min:"1",max:"8",value:t.groups,onChange:o=>e({groups:parseInt(o.target.value)||1}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:border-orange-500 focus:outline-none"})]}),m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:508:15",children:[m.jsx("label",{"code-path":"src/pages/EventWizard.tsx:509:17",className:"block text-sm font-medium text-slate-300 mb-2",children:""}),m.jsx("input",{"code-path":"src/pages/EventWizard.tsx:510:17",type:"number",min:"2",max:"16",value:t.teamsPerGroup,onChange:o=>e({teamsPerGroup:parseInt(o.target.value)||2}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:border-orange-500 focus:outline-none"})]})]}),m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:520:13",children:[m.jsx("label",{"code-path":"src/pages/EventWizard.tsx:521:15",className:"block text-sm font-medium text-slate-300 mb-2",children:""}),m.jsx("input",{"code-path":"src/pages/EventWizard.tsx:522:15",type:"number",min:"1",max:"4",value:t.advanceCount,onChange:o=>e({advanceCount:parseInt(o.target.value)||1}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:border-orange-500 focus:outline-none"})]})]}),m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:535:9",children:[m.jsxs("label",{"code-path":"src/pages/EventWizard.tsx:536:11",className:"block text-sm font-medium text-slate-300 mb-2",children:[m.jsx(fh,{"code-path":"src/pages/EventWizard.tsx:537:13",className:"w-4 h-4 inline mr-1"})," "]}),m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:539:11",className:"flex gap-2 mb-3",children:[m.jsx("input",{"code-path":"src/pages/EventWizard.tsx:540:13",type:"text",value:n,onChange:o=>s(o.target.value),onKeyPress:o=>o.key==="Enter"&&r(),className:"flex-1 bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:border-orange-500 focus:outline-none",placeholder:"AB"}),m.jsx(De,{"code-path":"src/pages/EventWizard.tsx:548:13",onClick:r,variant:"secondary",children:""})]}),m.jsx("div",{"code-path":"src/pages/EventWizard.tsx:552:11",className:"flex flex-wrap gap-2",children:t.courts.map(o=>m.jsxs("span",{"code-path":"src/pages/EventWizard.tsx:554:15",className:"inline-flex items-center gap-1 px-3 py-1 bg-slate-700 rounded-full text-sm text-white",children:[o,m.jsx("button",{"code-path":"src/pages/EventWizard.tsx:559:17",onClick:()=>i(o),className:"text-slate-400 hover:text-red-400",children:""})]},o))})]}),m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:571:9",className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:572:11",children:[m.jsxs("label",{"code-path":"src/pages/EventWizard.tsx:573:13",className:"block text-sm font-medium text-slate-300 mb-2",children:[m.jsx(Zc,{"code-path":"src/pages/EventWizard.tsx:574:15",className:"w-4 h-4 inline mr-1"})," "]}),m.jsx("input",{"code-path":"src/pages/EventWizard.tsx:576:13",type:"number",min:"10",max:"120",value:t.gameDuration,onChange:o=>e({gameDuration:parseInt(o.target.value)||30}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:border-orange-500 focus:outline-none"})]}),m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:585:11",children:[m.jsxs("label",{"code-path":"src/pages/EventWizard.tsx:586:13",className:"block text-sm font-medium text-slate-300 mb-2",children:[m.jsx(Zc,{"code-path":"src/pages/EventWizard.tsx:587:15",className:"w-4 h-4 inline mr-1"})," "]}),m.jsx("input",{"code-path":"src/pages/EventWizard.tsx:589:13",type:"number",min:"5",max:"60",value:t.breakDuration,onChange:o=>e({breakDuration:parseInt(o.target.value)||10}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:border-orange-500 focus:outline-none"})]})]})]})]})}function Zie({data:t,onFinish:e,isSubmitting:n}){const s=I6.find(i=>i.id===t.theme),r=D6.find(i=>i.value===t.format);return m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:613:5",className:"space-y-6",children:[m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:614:7",className:"flex items-center gap-3 mb-6",children:[m.jsx("div",{"code-path":"src/pages/EventWizard.tsx:615:9",className:"w-10 h-10 rounded-lg bg-emerald-500/20 flex items-center justify-center",children:m.jsx(ao,{"code-path":"src/pages/EventWizard.tsx:616:11",className:"w-5 h-5 text-emerald-500"})}),m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:618:9",children:[m.jsx("h3",{"code-path":"src/pages/EventWizard.tsx:619:11",className:"text-xl font-bold text-white",children:""}),m.jsx("p",{"code-path":"src/pages/EventWizard.tsx:620:11",className:"text-sm text-slate-400",children:""})]})]}),m.jsxs(kt,{"code-path":"src/pages/EventWizard.tsx:625:7",className:"overflow-hidden border-slate-700",children:[m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:627:9",className:"h-32 relative",style:{background:t.bannerImage?`url(${t.bannerImage}) center/cover`:s?.gradient},children:[m.jsx("div",{"code-path":"src/pages/EventWizard.tsx:631:11",className:"absolute inset-0 bg-black/30"}),m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:632:11",className:"absolute bottom-4 left-4 right-4",children:[m.jsx("h2",{"code-path":"src/pages/EventWizard.tsx:633:13",className:"text-xl font-bold text-white",children:t.name||""}),m.jsx("p",{"code-path":"src/pages/EventWizard.tsx:634:13",className:"text-sm text-white/80",children:t.organizer||""})]})]}),m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:639:9",className:"p-6 bg-slate-800 space-y-4",children:[m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:640:11",className:"grid grid-cols-2 gap-4 text-sm",children:[m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:641:13",children:[m.jsx("p",{"code-path":"src/pages/EventWizard.tsx:642:15",className:"text-slate-500",children:""}),m.jsx("p",{"code-path":"src/pages/EventWizard.tsx:643:15",className:"text-white",children:M6.find(i=>i.value===t.sport)?.label})]}),m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:645:13",children:[m.jsx("p",{"code-path":"src/pages/EventWizard.tsx:646:15",className:"text-slate-500",children:""}),m.jsxs("p",{"code-path":"src/pages/EventWizard.tsx:647:15",className:"text-white",children:[t.startDate," ~ ",t.endDate]})]}),m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:649:13",children:[m.jsx("p",{"code-path":"src/pages/EventWizard.tsx:650:15",className:"text-slate-500",children:""}),m.jsx("p",{"code-path":"src/pages/EventWizard.tsx:651:15",className:"text-white",children:t.location||""})]}),m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:653:13",children:[m.jsx("p",{"code-path":"src/pages/EventWizard.tsx:654:15",className:"text-slate-500",children:""}),m.jsxs("p",{"code-path":"src/pages/EventWizard.tsx:655:15",className:"text-white",children:[t.maxTeams," "]})]}),m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:657:13",children:[m.jsx("p",{"code-path":"src/pages/EventWizard.tsx:658:15",className:"text-slate-500",children:""}),m.jsx("p",{"code-path":"src/pages/EventWizard.tsx:659:15",className:"text-white",children:t.requirePayment?`$${t.registrationFee}/`:""})]}),m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:661:13",children:[m.jsx("p",{"code-path":"src/pages/EventWizard.tsx:662:15",className:"text-slate-500",children:""}),m.jsx("p",{"code-path":"src/pages/EventWizard.tsx:663:15",className:"text-white",children:r?.label})]})]}),m.jsx("div",{"code-path":"src/pages/EventWizard.tsx:667:11",className:"h-px bg-slate-700"}),m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:669:11",children:[m.jsx("p",{"code-path":"src/pages/EventWizard.tsx:670:13",className:"text-slate-500 text-sm mb-1",children:""}),m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:671:13",className:"flex items-center gap-2",children:[m.jsx("div",{"code-path":"src/pages/EventWizard.tsx:672:15",className:"w-6 h-6 rounded",style:{background:s?.gradient}}),m.jsx("span",{"code-path":"src/pages/EventWizard.tsx:676:15",className:"text-white",children:s?.name})]})]}),t.courts.length>0&&m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:681:13",children:[m.jsx("p",{"code-path":"src/pages/EventWizard.tsx:682:15",className:"text-slate-500 text-sm mb-1",children:""}),m.jsx("div",{"code-path":"src/pages/EventWizard.tsx:683:15",className:"flex flex-wrap gap-1",children:t.courts.map(i=>m.jsx("span",{"code-path":"src/pages/EventWizard.tsx:685:19",className:"px-2 py-0.5 bg-slate-700 rounded text-xs text-white",children:i},i))})]})]})]}),m.jsx(De,{"code-path":"src/pages/EventWizard.tsx:696:7",className:"w-full bg-orange-500 hover:bg-orange-600 h-12 text-lg font-bold",onClick:e,disabled:n,children:n?m.jsxs(m.Fragment,{children:[m.jsx(ve.div,{"code-path":"src/pages/EventWizard.tsx:703:13",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full mr-2"}),"..."]}):m.jsxs(m.Fragment,{children:[m.jsx(ao,{"code-path":"src/pages/EventWizard.tsx:712:13",className:"w-5 h-5 mr-2"}),""]})})]})}const eoe={name:"",sport:"basketball",startDate:"",endDate:"",location:"",organizer:"",contactEmail:"",contactPhone:"",description:"",theme:"dark",bannerImage:null,maxTeams:16,registrationFee:3e3,registrationDeadline:"",minPlayersPerTeam:5,maxPlayersPerTeam:12,requirePayment:!0,allowWaitlist:!0,format:"single_elimination",groups:4,teamsPerGroup:4,advanceCount:2,courts:[],gameDuration:30,breakDuration:10};function toe({setRoute:t}){const[e,n]=_.useState(1),[s,r]=_.useState(eoe),[i,o]=_.useState(!1),{addToast:l}=Gr(),{currentUser:u}=mo(),d=[{id:1,title:"",icon:Cn},{id:2,title:"",icon:r6},{id:3,title:"",icon:Ss},{id:4,title:"",icon:a2},{id:5,title:"",icon:ao}],f=_.useCallback(T=>{r(S=>({...S,...T}))},[]),p=T=>{switch(T){case 1:return s.name.trim()?!s.startDate||!s.endDate?(l({title:"",variant:"warning"}),!1):!0:(l({title:"",variant:"warning"}),!1);case 2:return!0;case 3:return s.registrationDeadline?!0:(l({title:"",variant:"warning"}),!1);case 4:return s.courts.length===0?(l({title:"",variant:"warning"}),!1):!0;default:return!0}},y=()=>{p(e)&&e<5&&n(e+1)},x=()=>{e>1&&n(e-1)},w=async()=>{if(!u){l({title:"",variant:"warning"});return}o(!0);try{let T=null;if(s.bannerImage&&s.bannerImage.startsWith("data:image")){l({title:"...",variant:"info"});const A=nj(sj,`banners/${u.uid}_${Date.now()}`);await nQ(A,s.bannerImage,"data_url"),T=await tj(A)}const S={...s,bannerImage:T||s.bannerImage,organizerId:u.uid,organizerEmail:u.email,createdAt:R5(),status:"",teamsRegistered:0};await g_(Jo(ws,"events"),S),l({title:"",description:"",variant:"success"}),t("dashboard")}catch(T){console.error(":",T),l({title:"",description:"",variant:"error"})}finally{o(!1)}};return m.jsx("div",{"code-path":"src/pages/EventWizard.tsx:877:5",className:"min-h-screen bg-slate-900 py-8 px-4",children:m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:878:7",className:"max-w-3xl mx-auto",children:[m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:880:9",className:"mb-8",children:[m.jsx("h1",{"code-path":"src/pages/EventWizard.tsx:881:11",className:"text-3xl font-bold text-white mb-2",children:""}),m.jsx("p",{"code-path":"src/pages/EventWizard.tsx:882:11",className:"text-slate-400",children:""})]}),m.jsx("div",{"code-path":"src/pages/EventWizard.tsx:886:9",className:"mb-8",children:m.jsx("div",{"code-path":"src/pages/EventWizard.tsx:887:11",className:"flex justify-between items-center",children:d.map((T,S)=>{const A=T.icon;return m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:891:17",className:"flex flex-col items-center gap-2 relative flex-1",children:[m.jsx(ve.div,{"code-path":"src/pages/EventWizard.tsx:892:19",className:`w-12 h-12 rounded-full flex items-center justify-center transition-colors ${e>T.id?"bg-emerald-500 text-white":e===T.id?"bg-orange-500 text-white":"bg-slate-800 text-slate-500 border border-slate-700"}`,animate:e===T.id?{scale:[1,1.05,1]}:{},transition:{duration:.3},children:e>T.id?m.jsx(ao,{"code-path":"src/pages/EventWizard.tsx:901:36",className:"w-6 h-6"}):m.jsx(A,{"code-path":"src/pages/EventWizard.tsx:901:75",className:"w-5 h-5"})}),m.jsx("span",{"code-path":"src/pages/EventWizard.tsx:903:19",className:`text-xs ${e>=T.id?"text-orange-400":"text-slate-500"}`,children:T.title}),S<d.length-1&&m.jsx("div",{"code-path":"src/pages/EventWizard.tsx:907:21",className:`absolute top-6 left-1/2 w-full h-0.5 -z-0 ${e>T.id?"bg-emerald-500":"bg-slate-800"}`})]},T.id)})})}),m.jsxs(kt,{"code-path":"src/pages/EventWizard.tsx:916:9",className:"p-6 md:p-8 bg-slate-800 border-slate-700",children:[m.jsx(On,{"code-path":"src/pages/EventWizard.tsx:917:11",mode:"wait",children:m.jsxs(ve.div,{"code-path":"src/pages/EventWizard.tsx:918:13",initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:[e===1&&m.jsx(Yie,{"code-path":"src/pages/EventWizard.tsx:925:30",data:s,onChange:f}),e===2&&m.jsx(Xie,{"code-path":"src/pages/EventWizard.tsx:926:30",data:s,onChange:f}),e===3&&m.jsx(Qie,{"code-path":"src/pages/EventWizard.tsx:927:30",data:s,onChange:f}),e===4&&m.jsx(Jie,{"code-path":"src/pages/EventWizard.tsx:928:30",data:s,onChange:f}),e===5&&m.jsx(Zie,{"code-path":"src/pages/EventWizard.tsx:929:30",data:s,onFinish:w,isSubmitting:i})]},e)}),e<5&&m.jsxs("div",{"code-path":"src/pages/EventWizard.tsx:935:13",className:"mt-8 pt-6 border-t border-slate-700 flex justify-between",children:[m.jsxs(De,{"code-path":"src/pages/EventWizard.tsx:936:15",variant:"ghost",onClick:e===1?()=>t("home"):x,disabled:i,children:[m.jsx(KL,{"code-path":"src/pages/EventWizard.tsx:941:17",className:"w-4 h-4 mr-1"}),e===1?"":""]}),m.jsxs(De,{"code-path":"src/pages/EventWizard.tsx:944:15",className:"bg-orange-500 hover:bg-orange-600",onClick:y,children:["",m.jsx(kne,{"code-path":"src/pages/EventWizard.tsx:949:17",className:"w-4 h-4 ml-1"})]})]})]})]})})}const noe={team:{title:"",subtitle:"",icon:Cn},organization:{title:"",subtitle:"/",icon:bne},school:{title:"",subtitle:"",icon:Ss}};function soe({data:t,type:e="team",showPoints:n=!0,className:s=""}){const[r,i]=_.useState("medals"),{title:o,subtitle:l,icon:u}=noe[e],d=_.useMemo(()=>t.map(w=>({...w,total:w.gold+w.silver+w.bronze,points:w.gold*5+w.silver*3+w.bronze*1})).sort((w,T)=>r==="medals"?T.gold!==w.gold?T.gold-w.gold:T.silver!==w.silver?T.silver-w.silver:T.bronze-w.bronze:(T.points||0)-(w.points||0)).map((w,T)=>({...w,rank:T+1})),[t,r]),f=_.useMemo(()=>d.reduce((x,w)=>({gold:x.gold+w.gold,silver:x.silver+w.silver,bronze:x.bronze+w.bronze,total:x.total+(w.total||0)}),{gold:0,silver:0,bronze:0,total:0}),[d]),p=x=>{switch(x){case 1:return"bg-yellow-500/20 text-yellow-500 border-yellow-500/50";case 2:return"bg-slate-300/20 text-slate-300 border-slate-300/50";case 3:return"bg-amber-700/20 text-amber-600 border-amber-700/50";default:return"bg-slate-700/50 text-slate-400 border-slate-700"}},y=x=>{switch(x){case 1:return m.jsx(Cn,{"code-path":"src/components/MedalRanking.tsx:111:16",className:"w-5 h-5 text-yellow-500"});case 2:return m.jsx(Gy,{"code-path":"src/components/MedalRanking.tsx:113:16",className:"w-5 h-5 text-slate-300"});case 3:return m.jsx(eD,{"code-path":"src/components/MedalRanking.tsx:115:16",className:"w-5 h-5 text-amber-600"});default:return m.jsx("span",{"code-path":"src/components/MedalRanking.tsx:117:16",className:"w-5 h-5 flex items-center justify-center font-bold",children:x})}};return m.jsxs("div",{"code-path":"src/components/MedalRanking.tsx:122:5",className:`space-y-6 ${s}`,children:[m.jsxs("div",{"code-path":"src/components/MedalRanking.tsx:124:7",className:"flex items-center justify-between",children:[m.jsxs("div",{"code-path":"src/components/MedalRanking.tsx:125:9",className:"flex items-center gap-3",children:[m.jsx("div",{"code-path":"src/components/MedalRanking.tsx:126:11",className:"w-12 h-12 rounded-xl bg-orange-500/10 flex items-center justify-center",children:m.jsx(u,{"code-path":"src/components/MedalRanking.tsx:127:13",className:"w-6 h-6 text-orange-500"})}),m.jsxs("div",{"code-path":"src/components/MedalRanking.tsx:129:11",children:[m.jsx("h3",{"code-path":"src/components/MedalRanking.tsx:130:13",className:"text-xl font-bold text-white",children:o}),m.jsx("p",{"code-path":"src/components/MedalRanking.tsx:131:13",className:"text-slate-400 text-sm",children:l})]})]}),m.jsxs("div",{"code-path":"src/components/MedalRanking.tsx:136:9",className:"flex gap-2",children:[m.jsxs(De,{"code-path":"src/components/MedalRanking.tsx:137:11",variant:r==="medals"?"default":"outline",size:"sm",onClick:()=>i("medals"),className:r==="medals"?"bg-orange-500":"",children:[m.jsx(Gy,{"code-path":"src/components/MedalRanking.tsx:143:13",className:"w-4 h-4 mr-1"}),""]}),n&&m.jsxs(De,{"code-path":"src/components/MedalRanking.tsx:147:13",variant:r==="points"?"default":"outline",size:"sm",onClick:()=>i("points"),className:r==="points"?"bg-orange-500":"",children:[m.jsx(bS,{"code-path":"src/components/MedalRanking.tsx:153:15",className:"w-4 h-4 mr-1"}),""]})]})]}),m.jsxs("div",{"code-path":"src/components/MedalRanking.tsx:161:7",className:"grid grid-cols-4 gap-4",children:[m.jsxs(kt,{"code-path":"src/components/MedalRanking.tsx:162:9",className:"p-4 bg-yellow-500/10 border-yellow-500/30",children:[m.jsxs("div",{"code-path":"src/components/MedalRanking.tsx:163:11",className:"flex items-center gap-2 mb-2",children:[m.jsx(Cn,{"code-path":"src/components/MedalRanking.tsx:164:13",className:"w-5 h-5 text-yellow-500"}),m.jsx("span",{"code-path":"src/components/MedalRanking.tsx:165:13",className:"text-yellow-500 font-medium",children:""})]}),m.jsx("p",{"code-path":"src/components/MedalRanking.tsx:167:11",className:"text-2xl font-bold text-white",children:f.gold})]}),m.jsxs(kt,{"code-path":"src/components/MedalRanking.tsx:170:9",className:"p-4 bg-slate-300/10 border-slate-300/30",children:[m.jsxs("div",{"code-path":"src/components/MedalRanking.tsx:171:11",className:"flex items-center gap-2 mb-2",children:[m.jsx(Gy,{"code-path":"src/components/MedalRanking.tsx:172:13",className:"w-5 h-5 text-slate-300"}),m.jsx("span",{"code-path":"src/components/MedalRanking.tsx:173:13",className:"text-slate-300 font-medium",children:""})]}),m.jsx("p",{"code-path":"src/components/MedalRanking.tsx:175:11",className:"text-2xl font-bold text-white",children:f.silver})]}),m.jsxs(kt,{"code-path":"src/components/MedalRanking.tsx:178:9",className:"p-4 bg-amber-700/10 border-amber-700/30",children:[m.jsxs("div",{"code-path":"src/components/MedalRanking.tsx:179:11",className:"flex items-center gap-2 mb-2",children:[m.jsx(eD,{"code-path":"src/components/MedalRanking.tsx:180:13",className:"w-5 h-5 text-amber-600"}),m.jsx("span",{"code-path":"src/components/MedalRanking.tsx:181:13",className:"text-amber-600 font-medium",children:""})]}),m.jsx("p",{"code-path":"src/components/MedalRanking.tsx:183:11",className:"text-2xl font-bold text-white",children:f.bronze})]}),m.jsxs(kt,{"code-path":"src/components/MedalRanking.tsx:186:9",className:"p-4 bg-orange-500/10 border-orange-500/30",children:[m.jsxs("div",{"code-path":"src/components/MedalRanking.tsx:187:11",className:"flex items-center gap-2 mb-2",children:[m.jsx(bS,{"code-path":"src/components/MedalRanking.tsx:188:13",className:"w-5 h-5 text-orange-500"}),m.jsx("span",{"code-path":"src/components/MedalRanking.tsx:189:13",className:"text-orange-500 font-medium",children:""})]}),m.jsx("p",{"code-path":"src/components/MedalRanking.tsx:191:11",className:"text-2xl font-bold text-white",children:f.total})]})]}),m.jsx(kt,{"code-path":"src/components/MedalRanking.tsx:196:7",className:"overflow-hidden bg-slate-800 border-slate-700",children:m.jsx("div",{"code-path":"src/components/MedalRanking.tsx:197:9",className:"overflow-x-auto",children:m.jsxs("table",{"code-path":"src/components/MedalRanking.tsx:198:11",className:"w-full",children:[m.jsx("thead",{"code-path":"src/components/MedalRanking.tsx:199:13",children:m.jsxs("tr",{"code-path":"src/components/MedalRanking.tsx:200:15",className:"bg-slate-900/50 text-slate-400 text-sm",children:[m.jsx("th",{"code-path":"src/components/MedalRanking.tsx:201:17",className:"px-4 py-3 text-left font-medium",children:""}),m.jsx("th",{"code-path":"src/components/MedalRanking.tsx:202:17",className:"px-4 py-3 text-left font-medium",children:""}),m.jsx("th",{"code-path":"src/components/MedalRanking.tsx:203:17",className:"px-4 py-3 text-center font-medium",children:m.jsx("span",{"code-path":"src/components/MedalRanking.tsx:204:19",className:"text-yellow-500",children:""})}),m.jsx("th",{"code-path":"src/components/MedalRanking.tsx:206:17",className:"px-4 py-3 text-center font-medium",children:m.jsx("span",{"code-path":"src/components/MedalRanking.tsx:207:19",className:"text-slate-300",children:""})}),m.jsx("th",{"code-path":"src/components/MedalRanking.tsx:209:17",className:"px-4 py-3 text-center font-medium",children:m.jsx("span",{"code-path":"src/components/MedalRanking.tsx:210:19",className:"text-amber-600",children:""})}),m.jsx("th",{"code-path":"src/components/MedalRanking.tsx:212:17",className:"px-4 py-3 text-center font-medium",children:""}),n&&m.jsx("th",{"code-path":"src/components/MedalRanking.tsx:214:19",className:"px-4 py-3 text-center font-medium",children:""})]})}),m.jsx("tbody",{"code-path":"src/components/MedalRanking.tsx:218:13",children:d.map((x,w)=>m.jsxs(ve.tr,{"code-path":"src/components/MedalRanking.tsx:220:17",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:w*.05},className:"border-t border-slate-700/50 hover:bg-slate-700/30 transition-colors",children:[m.jsx("td",{"code-path":"src/components/MedalRanking.tsx:227:19",className:"px-4 py-3",children:m.jsx("div",{"code-path":"src/components/MedalRanking.tsx:228:21",className:`inline-flex items-center gap-2 px-3 py-1 rounded-full border ${p(x.rank)}`,children:y(x.rank)})}),m.jsx("td",{"code-path":"src/components/MedalRanking.tsx:232:19",className:"px-4 py-3",children:m.jsxs("div",{"code-path":"src/components/MedalRanking.tsx:233:21",children:[m.jsx("p",{"code-path":"src/components/MedalRanking.tsx:234:23",className:"font-medium text-white",children:x.name}),x.category&&m.jsx("p",{"code-path":"src/components/MedalRanking.tsx:236:25",className:"text-xs text-slate-500",children:x.category})]})}),m.jsx("td",{"code-path":"src/components/MedalRanking.tsx:240:19",className:"px-4 py-3 text-center",children:m.jsx("span",{"code-path":"src/components/MedalRanking.tsx:241:21",className:"text-yellow-500 font-bold",children:x.gold})}),m.jsx("td",{"code-path":"src/components/MedalRanking.tsx:243:19",className:"px-4 py-3 text-center",children:m.jsx("span",{"code-path":"src/components/MedalRanking.tsx:244:21",className:"text-slate-300 font-bold",children:x.silver})}),m.jsx("td",{"code-path":"src/components/MedalRanking.tsx:246:19",className:"px-4 py-3 text-center",children:m.jsx("span",{"code-path":"src/components/MedalRanking.tsx:247:21",className:"text-amber-600 font-bold",children:x.bronze})}),m.jsx("td",{"code-path":"src/components/MedalRanking.tsx:249:19",className:"px-4 py-3 text-center",children:m.jsx("span",{"code-path":"src/components/MedalRanking.tsx:250:21",className:"text-white font-bold",children:x.total})}),n&&m.jsx("td",{"code-path":"src/components/MedalRanking.tsx:253:21",className:"px-4 py-3 text-center",children:m.jsx("span",{"code-path":"src/components/MedalRanking.tsx:254:23",className:"text-orange-500 font-bold",children:x.points})})]},x.id))})]})})}),d.length===0&&m.jsxs("div",{"code-path":"src/components/MedalRanking.tsx:266:9",className:"text-center py-12",children:[m.jsx(Cn,{"code-path":"src/components/MedalRanking.tsx:267:11",className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),m.jsx("p",{"code-path":"src/components/MedalRanking.tsx:268:11",className:"text-slate-400",children:""}),m.jsx("p",{"code-path":"src/components/MedalRanking.tsx:269:11",className:"text-slate-500 text-sm mt-1",children:""})]})]})}function roe(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return _.useMemo(()=>s=>{e.forEach(r=>r(s))},e)}const bv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function gh(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function h2(t){return"nodeType"in t}function zs(t){var e,n;return t?gh(t)?t:h2(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function f2(t){const{Document:e}=zs(t);return t instanceof e}function vm(t){return gh(t)?!1:t instanceof zs(t).HTMLElement}function P6(t){return t instanceof zs(t).SVGElement}function yh(t){return t?gh(t)?t.document:h2(t)?f2(t)?t:vm(t)||P6(t)?t.ownerDocument:document:document:document}const wi=bv?_.useLayoutEffect:_.useEffect;function wv(t){const e=_.useRef(t);return wi(()=>{e.current=t}),_.useCallback(function(){for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return e.current==null?void 0:e.current(...s)},[])}function ioe(){const t=_.useRef(null),e=_.useCallback((s,r)=>{t.current=setInterval(s,r)},[]),n=_.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function jp(t,e){e===void 0&&(e=[t]);const n=_.useRef(t);return wi(()=>{n.current!==t&&(n.current=t)},e),n}function bm(t,e){const n=_.useRef();return _.useMemo(()=>{const s=t(n.current);return n.current=s,s},[...e])}function F0(t){const e=wv(t),n=_.useRef(null),s=_.useCallback(r=>{r!==n.current&&e?.(r,n.current),n.current=r},[]);return[n,s]}function H0(t){const e=_.useRef();return _.useEffect(()=>{e.current=t},[t]),e.current}let Mw={};function wm(t,e){return _.useMemo(()=>{if(e)return e;const n=Mw[t]==null?0:Mw[t]+1;return Mw[t]=n,t+"-"+n},[t,e])}function O6(t){return function(e){for(var n=arguments.length,s=new Array(n>1?n-1:0),r=1;r<n;r++)s[r-1]=arguments[r];return s.reduce((i,o)=>{const l=Object.entries(o);for(const[u,d]of l){const f=i[u];f!=null&&(i[u]=f+t*d)}return i},{...e})}}const Id=O6(1),Lp=O6(-1);function ooe(t){return"clientX"in t&&"clientY"in t}function Ev(t){if(!t)return!1;const{KeyboardEvent:e}=zs(t.target);return e&&t instanceof e}function aoe(t){if(!t)return!1;const{TouchEvent:e}=zs(t.target);return e&&t instanceof e}function $0(t){if(aoe(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return ooe(t)?{x:t.clientX,y:t.clientY}:null}const Il=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[Il.Translate.toString(t),Il.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:s}=t;return e+" "+n+"ms "+s}}}),gD="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function loe(t){return t.matches(gD)?t:t.querySelector(gD)}const coe={display:"none"};function uoe(t){let{id:e,value:n}=t;return et.createElement("div",{id:e,style:coe},n)}function doe(t){let{id:e,announcement:n,ariaLiveType:s="assertive"}=t;const r={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return et.createElement("div",{id:e,style:r,role:"status","aria-live":s,"aria-atomic":!0},n)}function hoe(){const[t,e]=_.useState("");return{announce:_.useCallback(s=>{s!=null&&e(s)},[]),announcement:t}}const j6=_.createContext(null);function foe(t){const e=_.useContext(j6);_.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function poe(){const[t]=_.useState(()=>new Set),e=_.useCallback(s=>(t.add(s),()=>t.delete(s)),[t]);return[_.useCallback(s=>{let{type:r,event:i}=s;t.forEach(o=>{var l;return(l=o[r])==null?void 0:l.call(o,i)})},[t]),e]}const moe={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},goe={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function yoe(t){let{announcements:e=goe,container:n,hiddenTextDescribedById:s,screenReaderInstructions:r=moe}=t;const{announce:i,announcement:o}=hoe(),l=wm("DndLiveRegion"),[u,d]=_.useState(!1);if(_.useEffect(()=>{d(!0)},[]),foe(_.useMemo(()=>({onDragStart(p){let{active:y}=p;i(e.onDragStart({active:y}))},onDragMove(p){let{active:y,over:x}=p;e.onDragMove&&i(e.onDragMove({active:y,over:x}))},onDragOver(p){let{active:y,over:x}=p;i(e.onDragOver({active:y,over:x}))},onDragEnd(p){let{active:y,over:x}=p;i(e.onDragEnd({active:y,over:x}))},onDragCancel(p){let{active:y,over:x}=p;i(e.onDragCancel({active:y,over:x}))}}),[i,e])),!u)return null;const f=et.createElement(et.Fragment,null,et.createElement(uoe,{id:s,value:r.draggable}),et.createElement(doe,{id:l,announcement:o}));return n?Ki.createPortal(f,n):f}var Dn;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Dn||(Dn={}));function q0(){}function yD(t,e){return _.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function xoe(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return _.useMemo(()=>[...e].filter(s=>s!=null),[...e])}const Ei=Object.freeze({x:0,y:0});function voe(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function boe(t,e){const n=$0(t);if(!n)return"0 0";const s={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return s.x+"% "+s.y+"%"}function woe(t,e){let{data:{value:n}}=t,{data:{value:s}}=e;return n-s}function Eoe(t,e){let{data:{value:n}}=t,{data:{value:s}}=e;return s-n}function xD(t){let{left:e,top:n,height:s,width:r}=t;return[{x:e,y:n},{x:e+r,y:n},{x:e,y:n+s},{x:e+r,y:n+s}]}function L6(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}const V6=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:s}=t;const r=xD(e),i=[];for(const o of s){const{id:l}=o,u=n.get(l);if(u){const d=xD(u),f=r.reduce((y,x,w)=>y+voe(d[w],x),0),p=Number((f/4).toFixed(4));i.push({id:l,data:{droppableContainer:o,value:p}})}}return i.sort(woe)};function Soe(t,e){const n=Math.max(e.top,t.top),s=Math.max(e.left,t.left),r=Math.min(e.left+e.width,t.left+t.width),i=Math.min(e.top+e.height,t.top+t.height),o=r-s,l=i-n;if(s<r&&n<i){const u=e.width*e.height,d=t.width*t.height,f=o*l,p=f/(u+d-f);return Number(p.toFixed(4))}return 0}const Toe=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:s}=t;const r=[];for(const i of s){const{id:o}=i,l=n.get(o);if(l){const u=Soe(l,e);u>0&&r.push({id:o,data:{droppableContainer:i,value:u}})}}return r.sort(Eoe)};function _oe(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function z6(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Ei}function Aoe(t){return function(n){for(var s=arguments.length,r=new Array(s>1?s-1:0),i=1;i<s;i++)r[i-1]=arguments[i];return r.reduce((o,l)=>({...o,top:o.top+t*l.y,bottom:o.bottom+t*l.y,left:o.left+t*l.x,right:o.right+t*l.x}),{...n})}}const Coe=Aoe(1);function B6(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function koe(t,e,n){const s=B6(e);if(!s)return t;const{scaleX:r,scaleY:i,x:o,y:l}=s,u=t.left-o-(1-r)*parseFloat(n),d=t.top-l-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),f=r?t.width/r:t.width,p=i?t.height/i:t.height;return{width:f,height:p,top:d,right:u+f,bottom:d+p,left:u}}const Noe={ignoreTransform:!1};function xh(t,e){e===void 0&&(e=Noe);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:d,transformOrigin:f}=zs(t).getComputedStyle(t);d&&(n=koe(n,d,f))}const{top:s,left:r,width:i,height:o,bottom:l,right:u}=n;return{top:s,left:r,width:i,height:o,bottom:l,right:u}}function vD(t){return xh(t,{ignoreTransform:!0})}function Roe(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function Moe(t,e){return e===void 0&&(e=zs(t).getComputedStyle(t)),e.position==="fixed"}function Ioe(t,e){e===void 0&&(e=zs(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(r=>{const i=e[r];return typeof i=="string"?n.test(i):!1})}function Sv(t,e){const n=[];function s(r){if(e!=null&&n.length>=e||!r)return n;if(f2(r)&&r.scrollingElement!=null&&!n.includes(r.scrollingElement))return n.push(r.scrollingElement),n;if(!vm(r)||P6(r)||n.includes(r))return n;const i=zs(t).getComputedStyle(r);return r!==t&&Ioe(r,i)&&n.push(r),Moe(r,i)?n:s(r.parentNode)}return t?s(t):n}function U6(t){const[e]=Sv(t,1);return e??null}function Iw(t){return!bv||!t?null:gh(t)?t:h2(t)?f2(t)||t===yh(t).scrollingElement?window:vm(t)?t:null:null}function F6(t){return gh(t)?t.scrollX:t.scrollLeft}function H6(t){return gh(t)?t.scrollY:t.scrollTop}function TS(t){return{x:F6(t),y:H6(t)}}var $n;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})($n||($n={}));function $6(t){return!bv||!t?!1:t===document.scrollingElement}function q6(t){const e={x:0,y:0},n=$6(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},s={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},r=t.scrollTop<=e.y,i=t.scrollLeft<=e.x,o=t.scrollTop>=s.y,l=t.scrollLeft>=s.x;return{isTop:r,isLeft:i,isBottom:o,isRight:l,maxScroll:s,minScroll:e}}const Doe={x:.2,y:.2};function Poe(t,e,n,s,r){let{top:i,left:o,right:l,bottom:u}=n;s===void 0&&(s=10),r===void 0&&(r=Doe);const{isTop:d,isBottom:f,isLeft:p,isRight:y}=q6(t),x={x:0,y:0},w={x:0,y:0},T={height:e.height*r.y,width:e.width*r.x};return!d&&i<=e.top+T.height?(x.y=$n.Backward,w.y=s*Math.abs((e.top+T.height-i)/T.height)):!f&&u>=e.bottom-T.height&&(x.y=$n.Forward,w.y=s*Math.abs((e.bottom-T.height-u)/T.height)),!y&&l>=e.right-T.width?(x.x=$n.Forward,w.x=s*Math.abs((e.right-T.width-l)/T.width)):!p&&o<=e.left+T.width&&(x.x=$n.Backward,w.x=s*Math.abs((e.left+T.width-o)/T.width)),{direction:x,speed:w}}function Ooe(t){if(t===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:e,left:n,right:s,bottom:r}=t.getBoundingClientRect();return{top:e,left:n,right:s,bottom:r,width:t.clientWidth,height:t.clientHeight}}function W6(t){return t.reduce((e,n)=>Id(e,TS(n)),Ei)}function joe(t){return t.reduce((e,n)=>e+F6(n),0)}function Loe(t){return t.reduce((e,n)=>e+H6(n),0)}function K6(t,e){if(e===void 0&&(e=xh),!t)return;const{top:n,left:s,bottom:r,right:i}=e(t);U6(t)&&(r<=0||i<=0||n>=window.innerHeight||s>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const Voe=[["x",["left","right"],joe],["y",["top","bottom"],Loe]];class p2{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=Sv(n),r=W6(s);this.rect={...e},this.width=e.width,this.height=e.height;for(const[i,o,l]of Voe)for(const u of o)Object.defineProperty(this,u,{get:()=>{const d=l(s),f=r[i]-d;return this.rect[u]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class ip{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...n)})},this.target=e}add(e,n,s){var r;(r=this.target)==null||r.addEventListener(e,n,s),this.listeners.push([e,n,s])}}function zoe(t){const{EventTarget:e}=zs(t);return t instanceof e?t:yh(t)}function Dw(t,e){const n=Math.abs(t.x),s=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+s**2)>e:"x"in e&&"y"in e?n>e.x&&s>e.y:"x"in e?n>e.x:"y"in e?s>e.y:!1}var Br;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Br||(Br={}));function bD(t){t.preventDefault()}function Boe(t){t.stopPropagation()}var ut;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(ut||(ut={}));const G6={start:[ut.Space,ut.Enter],cancel:[ut.Esc],end:[ut.Space,ut.Enter,ut.Tab]},Uoe=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case ut.Right:return{...n,x:n.x+25};case ut.Left:return{...n,x:n.x-25};case ut.Down:return{...n,y:n.y+25};case ut.Up:return{...n,y:n.y-25}}};class m2{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new ip(yh(n)),this.windowListeners=new ip(zs(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Br.Resize,this.handleCancel),this.windowListeners.add(Br.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Br.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,s=e.node.current;s&&K6(s),n(Ei)}handleKeyDown(e){if(Ev(e)){const{active:n,context:s,options:r}=this.props,{keyboardCodes:i=G6,coordinateGetter:o=Uoe,scrollBehavior:l="smooth"}=r,{code:u}=e;if(i.end.includes(u)){this.handleEnd(e);return}if(i.cancel.includes(u)){this.handleCancel(e);return}const{collisionRect:d}=s.current,f=d?{x:d.left,y:d.top}:Ei;this.referenceCoordinates||(this.referenceCoordinates=f);const p=o(e,{active:n,context:s.current,currentCoordinates:f});if(p){const y=Lp(p,f),x={x:0,y:0},{scrollableAncestors:w}=s.current;for(const T of w){const S=e.code,{isTop:A,isRight:N,isLeft:P,isBottom:O,maxScroll:L,minScroll:F}=q6(T),I=Ooe(T),R={x:Math.min(S===ut.Right?I.right-I.width/2:I.right,Math.max(S===ut.Right?I.left:I.left+I.width/2,p.x)),y:Math.min(S===ut.Down?I.bottom-I.height/2:I.bottom,Math.max(S===ut.Down?I.top:I.top+I.height/2,p.y))},D=S===ut.Right&&!N||S===ut.Left&&!P,z=S===ut.Down&&!O||S===ut.Up&&!A;if(D&&R.x!==p.x){const B=T.scrollLeft+y.x,H=S===ut.Right&&B<=L.x||S===ut.Left&&B>=F.x;if(H&&!y.y){T.scrollTo({left:B,behavior:l});return}H?x.x=T.scrollLeft-B:x.x=S===ut.Right?T.scrollLeft-L.x:T.scrollLeft-F.x,x.x&&T.scrollBy({left:-x.x,behavior:l});break}else if(z&&R.y!==p.y){const B=T.scrollTop+y.y,H=S===ut.Down&&B<=L.y||S===ut.Up&&B>=F.y;if(H&&!y.x){T.scrollTo({top:B,behavior:l});return}H?x.y=T.scrollTop-B:x.y=S===ut.Down?T.scrollTop-L.y:T.scrollTop-F.y,x.y&&T.scrollBy({top:-x.y,behavior:l});break}}this.handleMove(e,Id(Lp(p,this.referenceCoordinates),x))}}}handleMove(e,n){const{onMove:s}=this.props;e.preventDefault(),s(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}m2.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:s=G6,onActivation:r}=e,{active:i}=n;const{code:o}=t.nativeEvent;if(s.start.includes(o)){const l=i.activatorNode.current;return l&&t.target!==l?!1:(t.preventDefault(),r?.({event:t.nativeEvent}),!0)}return!1}}];function wD(t){return!!(t&&"distance"in t)}function ED(t){return!!(t&&"delay"in t)}class g2{constructor(e,n,s){var r;s===void 0&&(s=zoe(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:i}=e,{target:o}=i;this.props=e,this.events=n,this.document=yh(o),this.documentListeners=new ip(this.document),this.listeners=new ip(s),this.windowListeners=new ip(zs(o)),this.initialCoordinates=(r=$0(i))!=null?r:Ei,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:s}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Br.Resize,this.handleCancel),this.windowListeners.add(Br.DragStart,bD),this.windowListeners.add(Br.VisibilityChange,this.handleCancel),this.windowListeners.add(Br.ContextMenu,bD),this.documentListeners.add(Br.Keydown,this.handleKeydown),n){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(ED(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(wD(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:s,onPending:r}=this.props;r(s,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(Br.Click,Boe,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Br.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:s,initialCoordinates:r,props:i}=this,{onMove:o,options:{activationConstraint:l}}=i;if(!r)return;const u=(n=$0(e))!=null?n:Ei,d=Lp(r,u);if(!s&&l){if(wD(l)){if(l.tolerance!=null&&Dw(d,l.tolerance))return this.handleCancel();if(Dw(d,l.distance))return this.handleStart()}if(ED(l)&&Dw(d,l.tolerance))return this.handleCancel();this.handlePending(l,d);return}e.cancelable&&e.preventDefault(),o(u)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===ut.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const Foe={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class y2 extends g2{constructor(e){const{event:n}=e,s=yh(n.target);super(e,Foe,s)}}y2.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:s}=e;return!n.isPrimary||n.button!==0?!1:(s?.({event:n}),!0)}}];const Hoe={move:{name:"mousemove"},end:{name:"mouseup"}};var _S;(function(t){t[t.RightClick=2]="RightClick"})(_S||(_S={}));class $oe extends g2{constructor(e){super(e,Hoe,yh(e.event.target))}}$oe.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:s}=e;return n.button===_S.RightClick?!1:(s?.({event:n}),!0)}}];const Pw={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class qoe extends g2{constructor(e){super(e,Pw)}static setup(){return window.addEventListener(Pw.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Pw.move.name,e)};function e(){}}}qoe.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:s}=e;const{touches:r}=n;return r.length>1?!1:(s?.({event:n}),!0)}}];var op;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(op||(op={}));var W0;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(W0||(W0={}));function Woe(t){let{acceleration:e,activator:n=op.Pointer,canScroll:s,draggingRect:r,enabled:i,interval:o=5,order:l=W0.TreeOrder,pointerCoordinates:u,scrollableAncestors:d,scrollableAncestorRects:f,delta:p,threshold:y}=t;const x=Goe({delta:p,disabled:!i}),[w,T]=ioe(),S=_.useRef({x:0,y:0}),A=_.useRef({x:0,y:0}),N=_.useMemo(()=>{switch(n){case op.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case op.DraggableRect:return r}},[n,r,u]),P=_.useRef(null),O=_.useCallback(()=>{const F=P.current;if(!F)return;const I=S.current.x*A.current.x,R=S.current.y*A.current.y;F.scrollBy(I,R)},[]),L=_.useMemo(()=>l===W0.TreeOrder?[...d].reverse():d,[l,d]);_.useEffect(()=>{if(!i||!d.length||!N){T();return}for(const F of L){if(s?.(F)===!1)continue;const I=d.indexOf(F),R=f[I];if(!R)continue;const{direction:D,speed:z}=Poe(F,R,N,e,y);for(const B of["x","y"])x[B][D[B]]||(z[B]=0,D[B]=0);if(z.x>0||z.y>0){T(),P.current=F,w(O,o),S.current=z,A.current=D;return}}S.current={x:0,y:0},A.current={x:0,y:0},T()},[e,O,s,T,i,o,JSON.stringify(N),JSON.stringify(x),w,d,L,f,JSON.stringify(y)])}const Koe={x:{[$n.Backward]:!1,[$n.Forward]:!1},y:{[$n.Backward]:!1,[$n.Forward]:!1}};function Goe(t){let{delta:e,disabled:n}=t;const s=H0(e);return bm(r=>{if(n||!s||!r)return Koe;const i={x:Math.sign(e.x-s.x),y:Math.sign(e.y-s.y)};return{x:{[$n.Backward]:r.x[$n.Backward]||i.x===-1,[$n.Forward]:r.x[$n.Forward]||i.x===1},y:{[$n.Backward]:r.y[$n.Backward]||i.y===-1,[$n.Forward]:r.y[$n.Forward]||i.y===1}}},[n,e,s])}function Yoe(t,e){const n=e!=null?t.get(e):void 0,s=n?n.node.current:null;return bm(r=>{var i;return e==null?null:(i=s??r)!=null?i:null},[s,e])}function Xoe(t,e){return _.useMemo(()=>t.reduce((n,s)=>{const{sensor:r}=s,i=r.activators.map(o=>({eventName:o.eventName,handler:e(o.handler,s)}));return[...n,...i]},[]),[t,e])}var Vp;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Vp||(Vp={}));var AS;(function(t){t.Optimized="optimized"})(AS||(AS={}));const SD=new Map;function Qoe(t,e){let{dragging:n,dependencies:s,config:r}=e;const[i,o]=_.useState(null),{frequency:l,measure:u,strategy:d}=r,f=_.useRef(t),p=S(),y=jp(p),x=_.useCallback(function(A){A===void 0&&(A=[]),!y.current&&o(N=>N===null?A:N.concat(A.filter(P=>!N.includes(P))))},[y]),w=_.useRef(null),T=bm(A=>{if(p&&!n)return SD;if(!A||A===SD||f.current!==t||i!=null){const N=new Map;for(let P of t){if(!P)continue;if(i&&i.length>0&&!i.includes(P.id)&&P.rect.current){N.set(P.id,P.rect.current);continue}const O=P.node.current,L=O?new p2(u(O),O):null;P.rect.current=L,L&&N.set(P.id,L)}return N}return A},[t,i,n,p,u]);return _.useEffect(()=>{f.current=t},[t]),_.useEffect(()=>{p||x()},[n,p]),_.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),_.useEffect(()=>{p||typeof l!="number"||w.current!==null||(w.current=setTimeout(()=>{x(),w.current=null},l))},[l,p,x,...s]),{droppableRects:T,measureDroppableContainers:x,measuringScheduled:i!=null};function S(){switch(d){case Vp.Always:return!1;case Vp.BeforeDragging:return n;default:return!n}}}function x2(t,e){return bm(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function Joe(t,e){return x2(t,e)}function Zoe(t){let{callback:e,disabled:n}=t;const s=wv(e),r=_.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(s)},[s,n]);return _.useEffect(()=>()=>r?.disconnect(),[r]),r}function Tv(t){let{callback:e,disabled:n}=t;const s=wv(e),r=_.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(s)},[n]);return _.useEffect(()=>()=>r?.disconnect(),[r]),r}function eae(t){return new p2(xh(t),t)}function TD(t,e,n){e===void 0&&(e=eae);const[s,r]=_.useState(null);function i(){r(u=>{if(!t)return null;if(t.isConnected===!1){var d;return(d=u??n)!=null?d:null}const f=e(t);return JSON.stringify(u)===JSON.stringify(f)?u:f})}const o=Zoe({callback(u){if(t)for(const d of u){const{type:f,target:p}=d;if(f==="childList"&&p instanceof HTMLElement&&p.contains(t)){i();break}}}}),l=Tv({callback:i});return wi(()=>{i(),t?(l?.observe(t),o?.observe(document.body,{childList:!0,subtree:!0})):(l?.disconnect(),o?.disconnect())},[t]),s}function tae(t){const e=x2(t);return z6(t,e)}const _D=[];function nae(t){const e=_.useRef(t),n=bm(s=>t?s&&s!==_D&&t&&e.current&&t.parentNode===e.current.parentNode?s:Sv(t):_D,[t]);return _.useEffect(()=>{e.current=t},[t]),n}function sae(t){const[e,n]=_.useState(null),s=_.useRef(t),r=_.useCallback(i=>{const o=Iw(i.target);o&&n(l=>l?(l.set(o,TS(o)),new Map(l)):null)},[]);return _.useEffect(()=>{const i=s.current;if(t!==i){o(i);const l=t.map(u=>{const d=Iw(u);return d?(d.addEventListener("scroll",r,{passive:!0}),[d,TS(d)]):null}).filter(u=>u!=null);n(l.length?new Map(l):null),s.current=t}return()=>{o(t),o(i)};function o(l){l.forEach(u=>{const d=Iw(u);d?.removeEventListener("scroll",r)})}},[r,t]),_.useMemo(()=>t.length?e?Array.from(e.values()).reduce((i,o)=>Id(i,o),Ei):W6(t):Ei,[t,e])}function AD(t,e){e===void 0&&(e=[]);const n=_.useRef(null);return _.useEffect(()=>{n.current=null},e),_.useEffect(()=>{const s=t!==Ei;s&&!n.current&&(n.current=t),!s&&n.current&&(n.current=null)},[t]),n.current?Lp(t,n.current):Ei}function rae(t){_.useEffect(()=>{if(!bv)return;const e=t.map(n=>{let{sensor:s}=n;return s.setup==null?void 0:s.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function iae(t,e){return _.useMemo(()=>t.reduce((n,s)=>{let{eventName:r,handler:i}=s;return n[r]=o=>{i(o,e)},n},{}),[t,e])}function Y6(t){return _.useMemo(()=>t?Roe(t):null,[t])}const CD=[];function oae(t,e){e===void 0&&(e=xh);const[n]=t,s=Y6(n?zs(n):null),[r,i]=_.useState(CD);function o(){i(()=>t.length?t.map(u=>$6(u)?s:new p2(e(u),u)):CD)}const l=Tv({callback:o});return wi(()=>{l?.disconnect(),o(),t.forEach(u=>l?.observe(u))},[t]),r}function X6(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return vm(e)?e:t}function aae(t){let{measure:e}=t;const[n,s]=_.useState(null),r=_.useCallback(d=>{for(const{target:f}of d)if(vm(f)){s(p=>{const y=e(f);return p?{...p,width:y.width,height:y.height}:y});break}},[e]),i=Tv({callback:r}),o=_.useCallback(d=>{const f=X6(d);i?.disconnect(),f&&i?.observe(f),s(f?e(f):null)},[e,i]),[l,u]=F0(o);return _.useMemo(()=>({nodeRef:l,rect:n,setRef:u}),[n,l,u])}const lae=[{sensor:y2,options:{}},{sensor:m2,options:{}}],cae={current:{}},Yy={draggable:{measure:vD},droppable:{measure:vD,strategy:Vp.WhileDragging,frequency:AS.Optimized},dragOverlay:{measure:xh}};class ap extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,s;return(n=(s=this.get(e))==null?void 0:s.node.current)!=null?n:void 0}}const uae={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new ap,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:q0},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Yy,measureDroppableContainers:q0,windowRect:null,measuringScheduled:!1},Q6={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:q0,draggableNodes:new Map,over:null,measureDroppableContainers:q0},Em=_.createContext(Q6),J6=_.createContext(uae);function dae(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new ap}}}function hae(t,e){switch(e.type){case Dn.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Dn.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Dn.DragEnd:case Dn.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Dn.RegisterDroppable:{const{element:n}=e,{id:s}=n,r=new ap(t.droppable.containers);return r.set(s,n),{...t,droppable:{...t.droppable,containers:r}}}case Dn.SetDroppableDisabled:{const{id:n,key:s,disabled:r}=e,i=t.droppable.containers.get(n);if(!i||s!==i.key)return t;const o=new ap(t.droppable.containers);return o.set(n,{...i,disabled:r}),{...t,droppable:{...t.droppable,containers:o}}}case Dn.UnregisterDroppable:{const{id:n,key:s}=e,r=t.droppable.containers.get(n);if(!r||s!==r.key)return t;const i=new ap(t.droppable.containers);return i.delete(n),{...t,droppable:{...t.droppable,containers:i}}}default:return t}}function fae(t){let{disabled:e}=t;const{active:n,activatorEvent:s,draggableNodes:r}=_.useContext(Em),i=H0(s),o=H0(n?.id);return _.useEffect(()=>{if(!e&&!s&&i&&o!=null){if(!Ev(i)||document.activeElement===i.target)return;const l=r.get(o);if(!l)return;const{activatorNode:u,node:d}=l;if(!u.current&&!d.current)return;requestAnimationFrame(()=>{for(const f of[u.current,d.current]){if(!f)continue;const p=loe(f);if(p){p.focus();break}}})}},[s,e,r,o,i]),null}function Z6(t,e){let{transform:n,...s}=e;return t!=null&&t.length?t.reduce((r,i)=>i({transform:r,...s}),n):n}function pae(t){return _.useMemo(()=>({draggable:{...Yy.draggable,...t?.draggable},droppable:{...Yy.droppable,...t?.droppable},dragOverlay:{...Yy.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function mae(t){let{activeNode:e,measure:n,initialRect:s,config:r=!0}=t;const i=_.useRef(!1),{x:o,y:l}=typeof r=="boolean"?{x:r,y:r}:r;wi(()=>{if(!o&&!l||!e){i.current=!1;return}if(i.current||!s)return;const d=e?.node.current;if(!d||d.isConnected===!1)return;const f=n(d),p=z6(f,s);if(o||(p.x=0),l||(p.y=0),i.current=!0,Math.abs(p.x)>0||Math.abs(p.y)>0){const y=U6(d);y&&y.scrollBy({top:p.y,left:p.x})}},[e,o,l,s,n])}const _v=_.createContext({...Ei,scaleX:1,scaleY:1});var Ja;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Ja||(Ja={}));const gae=_.memo(function(e){var n,s,r,i;let{id:o,accessibility:l,autoScroll:u=!0,children:d,sensors:f=lae,collisionDetection:p=Toe,measuring:y,modifiers:x,...w}=e;const T=_.useReducer(hae,void 0,dae),[S,A]=T,[N,P]=poe(),[O,L]=_.useState(Ja.Uninitialized),F=O===Ja.Initialized,{draggable:{active:I,nodes:R,translate:D},droppable:{containers:z}}=S,B=I!=null?R.get(I):null,H=_.useRef({initial:null,translated:null}),U=_.useMemo(()=>{var tt;return I!=null?{id:I,data:(tt=B?.data)!=null?tt:cae,rect:H}:null},[I,B]),he=_.useRef(null),[ce,K]=_.useState(null),[X,Y]=_.useState(null),xe=jp(w,Object.values(w)),Me=wm("DndDescribedBy",o),q=_.useMemo(()=>z.getEnabled(),[z]),se=pae(y),{droppableRects:ue,measureDroppableContainers:pe,measuringScheduled:Ae}=Qoe(q,{dragging:F,dependencies:[D.x,D.y],config:se.droppable}),Te=Yoe(R,I),de=_.useMemo(()=>X?$0(X):null,[X]),Le=bo(),Pe=Joe(Te,se.draggable.measure);mae({activeNode:I!=null?R.get(I):null,config:Le.layoutShiftCompensation,initialRect:Pe,measure:se.draggable.measure});const Se=TD(Te,se.draggable.measure,Pe),Ye=TD(Te?Te.parentElement:null),We=_.useRef({activatorEvent:null,active:null,activeNode:Te,collisionRect:null,collisions:null,droppableRects:ue,draggableNodes:R,draggingNode:null,draggingNodeRect:null,droppableContainers:z,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Rt=z.getNodeFor((n=We.current.over)==null?void 0:n.id),wt=aae({measure:se.dragOverlay.measure}),us=(s=wt.nodeRef.current)!=null?s:Te,Ln=F?(r=wt.rect)!=null?r:Se:null,Sr=!!(wt.nodeRef.current&&wt.rect),ha=tae(Sr?null:Se),Lt=Y6(us?zs(us):null),Et=nae(F?Rt??Te:null),tr=oae(Et),fa=Z6(x,{transform:{x:D.x-ha.x,y:D.y-ha.y,scaleX:1,scaleY:1},activatorEvent:X,active:U,activeNodeRect:Se,containerNodeRect:Ye,draggingNodeRect:Ln,over:We.current.over,overlayNodeRect:wt.rect,scrollableAncestors:Et,scrollableAncestorRects:tr,windowRect:Lt}),Gl=de?Id(de,D):null,Vn=sae(Et),yo=AD(Vn),Yl=AD(Vn,[Se]),Tr=Id(fa,yo),Cs=Ln?Coe(Ln,fa):null,xo=U&&Cs?p({active:U,collisionRect:Cs,droppableRects:ue,droppableContainers:q,pointerCoordinates:Gl}):null,Xl=L6(xo,"id"),[nr,Ql]=_.useState(null),sr=Sr?fa:Id(fa,Yl),Nn=_oe(sr,(i=nr?.rect)!=null?i:null,Se),ds=_.useRef(null),Vt=_.useCallback((tt,zt)=>{let{sensor:Bt,options:fn}=zt;if(he.current==null)return;const hs=R.get(he.current);if(!hs)return;const zn=tt.nativeEvent,nn=new Bt({active:he.current,activeNode:hs,event:zn,options:fn,context:We,onAbort(sn){if(!R.get(sn))return;const{onDragAbort:ps}=xe.current,ks={id:sn};ps?.(ks),N({type:"onDragAbort",event:ks})},onPending(sn,fs,ps,ks){if(!R.get(sn))return;const{onDragPending:Ns}=xe.current,ir={id:sn,constraint:fs,initialCoordinates:ps,offset:ks};Ns?.(ir),N({type:"onDragPending",event:ir})},onStart(sn){const fs=he.current;if(fs==null)return;const ps=R.get(fs);if(!ps)return;const{onDragStart:ks}=xe.current,rr={activatorEvent:zn,active:{id:fs,data:ps.data,rect:H}};Ki.unstable_batchedUpdates(()=>{ks?.(rr),L(Ja.Initializing),A({type:Dn.DragStart,initialCoordinates:sn,active:fs}),N({type:"onDragStart",event:rr}),K(ds.current),Y(zn)})},onMove(sn){A({type:Dn.DragMove,coordinates:sn})},onEnd:Bs(Dn.DragEnd),onCancel:Bs(Dn.DragCancel)});ds.current=nn;function Bs(sn){return async function(){const{active:ps,collisions:ks,over:rr,scrollAdjustedTranslate:Ns}=We.current;let ir=null;if(ps&&Ns){const{cancelDrop:Gn}=xe.current;ir={activatorEvent:zn,active:ps,collisions:ks,delta:Ns,over:rr},sn===Dn.DragEnd&&typeof Gn=="function"&&await Promise.resolve(Gn(ir))&&(sn=Dn.DragCancel)}he.current=null,Ki.unstable_batchedUpdates(()=>{A({type:sn}),L(Ja.Uninitialized),Ql(null),K(null),Y(null),ds.current=null;const Gn=sn===Dn.DragEnd?"onDragEnd":"onDragCancel";if(ir){const Rs=xe.current[Gn];Rs?.(ir),N({type:Gn,event:ir})}})}}},[R]),gu=_.useCallback((tt,zt)=>(Bt,fn)=>{const hs=Bt.nativeEvent,zn=R.get(fn);if(he.current!==null||!zn||hs.dndKit||hs.defaultPrevented)return;const nn={active:zn};tt(Bt,zt.options,nn)===!0&&(hs.dndKit={capturedBy:zt.sensor},he.current=fn,Vt(Bt,zt))},[R,Vt]),vo=Xoe(f,gu);rae(f),wi(()=>{Se&&O===Ja.Initializing&&L(Ja.Initialized)},[Se,O]),_.useEffect(()=>{const{onDragMove:tt}=xe.current,{active:zt,activatorEvent:Bt,collisions:fn,over:hs}=We.current;if(!zt||!Bt)return;const zn={active:zt,activatorEvent:Bt,collisions:fn,delta:{x:Tr.x,y:Tr.y},over:hs};Ki.unstable_batchedUpdates(()=>{tt?.(zn),N({type:"onDragMove",event:zn})})},[Tr.x,Tr.y]),_.useEffect(()=>{const{active:tt,activatorEvent:zt,collisions:Bt,droppableContainers:fn,scrollAdjustedTranslate:hs}=We.current;if(!tt||he.current==null||!zt||!hs)return;const{onDragOver:zn}=xe.current,nn=fn.get(Xl),Bs=nn&&nn.rect.current?{id:nn.id,rect:nn.rect.current,data:nn.data,disabled:nn.disabled}:null,sn={active:tt,activatorEvent:zt,collisions:Bt,delta:{x:hs.x,y:hs.y},over:Bs};Ki.unstable_batchedUpdates(()=>{Ql(Bs),zn?.(sn),N({type:"onDragOver",event:sn})})},[Xl]),wi(()=>{We.current={activatorEvent:X,active:U,activeNode:Te,collisionRect:Cs,collisions:xo,droppableRects:ue,draggableNodes:R,draggingNode:us,draggingNodeRect:Ln,droppableContainers:z,over:nr,scrollableAncestors:Et,scrollAdjustedTranslate:Tr},H.current={initial:Ln,translated:Cs}},[U,Te,xo,Cs,R,us,Ln,ue,z,nr,Et,Tr]),Woe({...Le,delta:D,draggingRect:Cs,pointerCoordinates:Gl,scrollableAncestors:Et,scrollableAncestorRects:tr});const yu=_.useMemo(()=>({active:U,activeNode:Te,activeNodeRect:Se,activatorEvent:X,collisions:xo,containerNodeRect:Ye,dragOverlay:wt,draggableNodes:R,droppableContainers:z,droppableRects:ue,over:nr,measureDroppableContainers:pe,scrollableAncestors:Et,scrollableAncestorRects:tr,measuringConfiguration:se,measuringScheduled:Ae,windowRect:Lt}),[U,Te,Se,X,xo,Ye,wt,R,z,ue,nr,pe,Et,tr,se,Ae,Lt]),_r=_.useMemo(()=>({activatorEvent:X,activators:vo,active:U,activeNodeRect:Se,ariaDescribedById:{draggable:Me},dispatch:A,draggableNodes:R,over:nr,measureDroppableContainers:pe}),[X,vo,U,Se,A,Me,R,nr,pe]);return et.createElement(j6.Provider,{value:P},et.createElement(Em.Provider,{value:_r},et.createElement(J6.Provider,{value:yu},et.createElement(_v.Provider,{value:Nn},d)),et.createElement(fae,{disabled:l?.restoreFocus===!1})),et.createElement(yoe,{...l,hiddenTextDescribedById:Me}));function bo(){const tt=ce?.autoScrollEnabled===!1,zt=typeof u=="object"?u.enabled===!1:u===!1,Bt=F&&!tt&&!zt;return typeof u=="object"?{...u,enabled:Bt}:{enabled:Bt}}}),yae=_.createContext(null),kD="button",xae="Draggable";function vae(t){let{id:e,data:n,disabled:s=!1,attributes:r}=t;const i=wm(xae),{activators:o,activatorEvent:l,active:u,activeNodeRect:d,ariaDescribedById:f,draggableNodes:p,over:y}=_.useContext(Em),{role:x=kD,roleDescription:w="draggable",tabIndex:T=0}=r??{},S=u?.id===e,A=_.useContext(S?_v:yae),[N,P]=F0(),[O,L]=F0(),F=iae(o,e),I=jp(n);wi(()=>(p.set(e,{id:e,key:i,node:N,activatorNode:O,data:I}),()=>{const D=p.get(e);D&&D.key===i&&p.delete(e)}),[p,e]);const R=_.useMemo(()=>({role:x,tabIndex:T,"aria-disabled":s,"aria-pressed":S&&x===kD?!0:void 0,"aria-roledescription":w,"aria-describedby":f.draggable}),[s,x,T,S,w,f.draggable]);return{active:u,activatorEvent:l,activeNodeRect:d,attributes:R,isDragging:S,listeners:s?void 0:F,node:N,over:y,setNodeRef:P,setActivatorNodeRef:L,transform:A}}function e9(){return _.useContext(J6)}const bae="Droppable",wae={timeout:25};function Eae(t){let{data:e,disabled:n=!1,id:s,resizeObserverConfig:r}=t;const i=wm(bae),{active:o,dispatch:l,over:u,measureDroppableContainers:d}=_.useContext(Em),f=_.useRef({disabled:n}),p=_.useRef(!1),y=_.useRef(null),x=_.useRef(null),{disabled:w,updateMeasurementsFor:T,timeout:S}={...wae,...r},A=jp(T??s),N=_.useCallback(()=>{if(!p.current){p.current=!0;return}x.current!=null&&clearTimeout(x.current),x.current=setTimeout(()=>{d(Array.isArray(A.current)?A.current:[A.current]),x.current=null},S)},[S]),P=Tv({callback:N,disabled:w||!o}),O=_.useCallback((R,D)=>{P&&(D&&(P.unobserve(D),p.current=!1),R&&P.observe(R))},[P]),[L,F]=F0(O),I=jp(e);return _.useEffect(()=>{!P||!L.current||(P.disconnect(),p.current=!1,P.observe(L.current))},[L,P]),_.useEffect(()=>(l({type:Dn.RegisterDroppable,element:{id:s,key:i,disabled:n,node:L,rect:y,data:I}}),()=>l({type:Dn.UnregisterDroppable,key:i,id:s})),[s]),_.useEffect(()=>{n!==f.current.disabled&&(l({type:Dn.SetDroppableDisabled,id:s,key:i,disabled:n}),f.current.disabled=n)},[s,i,n,l]),{active:o,rect:y,isOver:u?.id===s,node:L,over:u,setNodeRef:F}}function Sae(t){let{animation:e,children:n}=t;const[s,r]=_.useState(null),[i,o]=_.useState(null),l=H0(n);return!n&&!s&&l&&r(l),wi(()=>{if(!i)return;const u=s?.key,d=s?.props.id;if(u==null||d==null){r(null);return}Promise.resolve(e(d,i)).then(()=>{r(null)})},[e,s,i]),et.createElement(et.Fragment,null,n,s?_.cloneElement(s,{ref:o}):null)}const Tae={x:0,y:0,scaleX:1,scaleY:1};function _ae(t){let{children:e}=t;return et.createElement(Em.Provider,{value:Q6},et.createElement(_v.Provider,{value:Tae},e))}const Aae={position:"fixed",touchAction:"none"},Cae=t=>Ev(t)?"transform 250ms ease":void 0,kae=_.forwardRef((t,e)=>{let{as:n,activatorEvent:s,adjustScale:r,children:i,className:o,rect:l,style:u,transform:d,transition:f=Cae}=t;if(!l)return null;const p=r?d:{...d,scaleX:1,scaleY:1},y={...Aae,width:l.width,height:l.height,top:l.top,left:l.left,transform:Il.Transform.toString(p),transformOrigin:r&&s?boe(s,l):void 0,transition:typeof f=="function"?f(s):f,...u};return et.createElement(n,{className:o,style:y,ref:e},i)}),Nae=t=>e=>{let{active:n,dragOverlay:s}=e;const r={},{styles:i,className:o}=t;if(i!=null&&i.active)for(const[l,u]of Object.entries(i.active))u!==void 0&&(r[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,u));if(i!=null&&i.dragOverlay)for(const[l,u]of Object.entries(i.dragOverlay))u!==void 0&&s.node.style.setProperty(l,u);return o!=null&&o.active&&n.node.classList.add(o.active),o!=null&&o.dragOverlay&&s.node.classList.add(o.dragOverlay),function(){for(const[u,d]of Object.entries(r))n.node.style.setProperty(u,d);o!=null&&o.active&&n.node.classList.remove(o.active)}},Rae=t=>{let{transform:{initial:e,final:n}}=t;return[{transform:Il.Transform.toString(e)},{transform:Il.Transform.toString(n)}]},Mae={duration:250,easing:"ease",keyframes:Rae,sideEffects:Nae({styles:{active:{opacity:"0"}}})};function Iae(t){let{config:e,draggableNodes:n,droppableContainers:s,measuringConfiguration:r}=t;return wv((i,o)=>{if(e===null)return;const l=n.get(i);if(!l)return;const u=l.node.current;if(!u)return;const d=X6(o);if(!d)return;const{transform:f}=zs(o).getComputedStyle(o),p=B6(f);if(!p)return;const y=typeof e=="function"?e:Dae(e);return K6(u,r.draggable.measure),y({active:{id:i,data:l.data,node:u,rect:r.draggable.measure(u)},draggableNodes:n,dragOverlay:{node:o,rect:r.dragOverlay.measure(d)},droppableContainers:s,measuringConfiguration:r,transform:p})})}function Dae(t){const{duration:e,easing:n,sideEffects:s,keyframes:r}={...Mae,...t};return i=>{let{active:o,dragOverlay:l,transform:u,...d}=i;if(!e)return;const f={x:l.rect.left-o.rect.left,y:l.rect.top-o.rect.top},p={scaleX:u.scaleX!==1?o.rect.width*u.scaleX/l.rect.width:1,scaleY:u.scaleY!==1?o.rect.height*u.scaleY/l.rect.height:1},y={x:u.x-f.x,y:u.y-f.y,...p},x=r({...d,active:o,dragOverlay:l,transform:{initial:u,final:y}}),[w]=x,T=x[x.length-1];if(JSON.stringify(w)===JSON.stringify(T))return;const S=s?.({active:o,dragOverlay:l,...d}),A=l.node.animate(x,{duration:e,easing:n,fill:"forwards"});return new Promise(N=>{A.onfinish=()=>{S?.(),N()}})}}let ND=0;function Pae(t){return _.useMemo(()=>{if(t!=null)return ND++,ND},[t])}const Oae=et.memo(t=>{let{adjustScale:e=!1,children:n,dropAnimation:s,style:r,transition:i,modifiers:o,wrapperElement:l="div",className:u,zIndex:d=999}=t;const{activatorEvent:f,active:p,activeNodeRect:y,containerNodeRect:x,draggableNodes:w,droppableContainers:T,dragOverlay:S,over:A,measuringConfiguration:N,scrollableAncestors:P,scrollableAncestorRects:O,windowRect:L}=e9(),F=_.useContext(_v),I=Pae(p?.id),R=Z6(o,{activatorEvent:f,active:p,activeNodeRect:y,containerNodeRect:x,draggingNodeRect:S.rect,over:A,overlayNodeRect:S.rect,scrollableAncestors:P,scrollableAncestorRects:O,transform:F,windowRect:L}),D=x2(y),z=Iae({config:s,draggableNodes:w,droppableContainers:T,measuringConfiguration:N}),B=D?S.setRef:void 0;return et.createElement(_ae,null,et.createElement(Sae,{animation:z},p&&I?et.createElement(kae,{key:I,id:p.id,ref:B,as:l,activatorEvent:f,adjustScale:e,className:u,transition:i,rect:D,style:{zIndex:d,...r},transform:R},n):null))});function v2(t,e,n){const s=t.slice();return s.splice(n<0?s.length+n:n,0,s.splice(e,1)[0]),s}function jae(t,e){return t.reduce((n,s,r)=>{const i=e.get(s);return i&&(n[r]=i),n},Array(t.length))}function uy(t){return t!==null&&t>=0}function Lae(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Vae(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const t9=t=>{let{rects:e,activeIndex:n,overIndex:s,index:r}=t;const i=v2(e,s,n),o=e[r],l=i[r];return!l||!o?null:{x:l.left-o.left,y:l.top-o.top,scaleX:l.width/o.width,scaleY:l.height/o.height}},dy={scaleX:1,scaleY:1},zae=t=>{var e;let{activeIndex:n,activeNodeRect:s,index:r,rects:i,overIndex:o}=t;const l=(e=i[n])!=null?e:s;if(!l)return null;if(r===n){const d=i[o];return d?{x:0,y:n<o?d.top+d.height-(l.top+l.height):d.top-l.top,...dy}:null}const u=Bae(i,r,n);return r>n&&r<=o?{x:0,y:-l.height-u,...dy}:r<n&&r>=o?{x:0,y:l.height+u,...dy}:{x:0,y:0,...dy}};function Bae(t,e,n){const s=t[e],r=t[e-1],i=t[e+1];return s?n<e?r?s.top-(r.top+r.height):i?i.top-(s.top+s.height):0:i?i.top-(s.top+s.height):r?s.top-(r.top+r.height):0:0}const n9="Sortable",s9=et.createContext({activeIndex:-1,containerId:n9,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:t9,disabled:{draggable:!1,droppable:!1}});function Uae(t){let{children:e,id:n,items:s,strategy:r=t9,disabled:i=!1}=t;const{active:o,dragOverlay:l,droppableRects:u,over:d,measureDroppableContainers:f}=e9(),p=wm(n9,n),y=l.rect!==null,x=_.useMemo(()=>s.map(F=>typeof F=="object"&&"id"in F?F.id:F),[s]),w=o!=null,T=o?x.indexOf(o.id):-1,S=d?x.indexOf(d.id):-1,A=_.useRef(x),N=!Lae(x,A.current),P=S!==-1&&T===-1||N,O=Vae(i);wi(()=>{N&&w&&f(x)},[N,x,w,f]),_.useEffect(()=>{A.current=x},[x]);const L=_.useMemo(()=>({activeIndex:T,containerId:p,disabled:O,disableTransforms:P,items:x,overIndex:S,useDragOverlay:y,sortedRects:jae(x,u),strategy:r}),[T,p,O.draggable,O.droppable,P,x,S,u,y,r]);return et.createElement(s9.Provider,{value:L},e)}const Fae=t=>{let{id:e,items:n,activeIndex:s,overIndex:r}=t;return v2(n,s,r).indexOf(e)},Hae=t=>{let{containerId:e,isSorting:n,wasDragging:s,index:r,items:i,newIndex:o,previousItems:l,previousContainerId:u,transition:d}=t;return!d||!s||l!==i&&r===o?!1:n?!0:o!==r&&e===u},$ae={duration:200,easing:"ease"},r9="transform",qae=Il.Transition.toString({property:r9,duration:0,easing:"linear"}),Wae={roleDescription:"sortable"};function Kae(t){let{disabled:e,index:n,node:s,rect:r}=t;const[i,o]=_.useState(null),l=_.useRef(n);return wi(()=>{if(!e&&n!==l.current&&s.current){const u=r.current;if(u){const d=xh(s.current,{ignoreTransform:!0}),f={x:u.left-d.left,y:u.top-d.top,scaleX:u.width/d.width,scaleY:u.height/d.height};(f.x||f.y)&&o(f)}}n!==l.current&&(l.current=n)},[e,n,s,r]),_.useEffect(()=>{i&&o(null)},[i]),i}function i9(t){let{animateLayoutChanges:e=Hae,attributes:n,disabled:s,data:r,getNewIndex:i=Fae,id:o,strategy:l,resizeObserverConfig:u,transition:d=$ae}=t;const{items:f,containerId:p,activeIndex:y,disabled:x,disableTransforms:w,sortedRects:T,overIndex:S,useDragOverlay:A,strategy:N}=_.useContext(s9),P=Gae(s,x),O=f.indexOf(o),L=_.useMemo(()=>({sortable:{containerId:p,index:O,items:f},...r}),[p,r,O,f]),F=_.useMemo(()=>f.slice(f.indexOf(o)),[f,o]),{rect:I,node:R,isOver:D,setNodeRef:z}=Eae({id:o,data:L,disabled:P.droppable,resizeObserverConfig:{updateMeasurementsFor:F,...u}}),{active:B,activatorEvent:H,activeNodeRect:U,attributes:he,setNodeRef:ce,listeners:K,isDragging:X,over:Y,setActivatorNodeRef:xe,transform:Me}=vae({id:o,data:L,attributes:{...Wae,...n},disabled:P.draggable}),q=roe(z,ce),se=!!B,ue=se&&!w&&uy(y)&&uy(S),pe=!A&&X,Ae=pe&&ue?Me:null,de=ue?Ae??(l??N)({rects:T,activeNodeRect:U,activeIndex:y,overIndex:S,index:O}):null,Le=uy(y)&&uy(S)?i({id:o,items:f,activeIndex:y,overIndex:S}):O,Pe=B?.id,Se=_.useRef({activeId:Pe,items:f,newIndex:Le,containerId:p}),Ye=f!==Se.current.items,We=e({active:B,containerId:p,isDragging:X,isSorting:se,id:o,index:O,items:f,newIndex:Se.current.newIndex,previousItems:Se.current.items,previousContainerId:Se.current.containerId,transition:d,wasDragging:Se.current.activeId!=null}),Rt=Kae({disabled:!We,index:O,node:R,rect:I});return _.useEffect(()=>{se&&Se.current.newIndex!==Le&&(Se.current.newIndex=Le),p!==Se.current.containerId&&(Se.current.containerId=p),f!==Se.current.items&&(Se.current.items=f)},[se,Le,p,f]),_.useEffect(()=>{if(Pe===Se.current.activeId)return;if(Pe!=null&&Se.current.activeId==null){Se.current.activeId=Pe;return}const us=setTimeout(()=>{Se.current.activeId=Pe},50);return()=>clearTimeout(us)},[Pe]),{active:B,activeIndex:y,attributes:he,data:L,rect:I,index:O,newIndex:Le,items:f,isOver:D,isSorting:se,isDragging:X,listeners:K,node:R,overIndex:S,over:Y,setNodeRef:q,setActivatorNodeRef:xe,setDroppableNodeRef:z,setDraggableNodeRef:ce,transform:Rt??de,transition:wt()};function wt(){if(Rt||Ye&&Se.current.newIndex===O)return qae;if(!(pe&&!Ev(H)||!d)&&(se||We))return Il.Transition.toString({...d,property:r9})}}function Gae(t,e){var n,s;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t?.draggable)!=null?n:e.draggable,droppable:(s=t?.droppable)!=null?s:e.droppable}}function K0(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const Yae=[ut.Down,ut.Right,ut.Up,ut.Left],Xae=(t,e)=>{let{context:{active:n,collisionRect:s,droppableRects:r,droppableContainers:i,over:o,scrollableAncestors:l}}=e;if(Yae.includes(t.code)){if(t.preventDefault(),!n||!s)return;const u=[];i.getEnabled().forEach(p=>{if(!p||p!=null&&p.disabled)return;const y=r.get(p.id);if(y)switch(t.code){case ut.Down:s.top<y.top&&u.push(p);break;case ut.Up:s.top>y.top&&u.push(p);break;case ut.Left:s.left>y.left&&u.push(p);break;case ut.Right:s.left<y.left&&u.push(p);break}});const d=V6({collisionRect:s,droppableRects:r,droppableContainers:u});let f=L6(d,"id");if(f===o?.id&&d.length>1&&(f=d[1].id),f!=null){const p=i.get(n.id),y=i.get(f),x=y?r.get(y.id):null,w=y?.node.current;if(w&&x&&p&&y){const S=Sv(w).some((F,I)=>l[I]!==F),A=o9(p,y),N=Qae(p,y),P=S||!A?{x:0,y:0}:{x:N?s.width-x.width:0,y:N?s.height-x.height:0},O={x:x.left,y:x.top};return P.x&&P.y?O:Lp(O,P)}}}};function o9(t,e){return!K0(t)||!K0(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function Qae(t,e){return!K0(t)||!K0(e)||!o9(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const Xy=[{type:"text",label:"",icon:ES,description:""},{type:"number",label:"",icon:JL,description:""},{type:"email",label:"Email",icon:s2,description:""},{type:"tel",label:"",icon:o2,description:""},{type:"date",label:"",icon:vi,description:""},{type:"select",label:"",icon:e6,description:""},{type:"checkbox",label:"",icon:nD,description:""},{type:"radio",label:"",icon:nD,description:""},{type:"file",label:"",icon:c2,description:""},{type:"textarea",label:"",icon:ES,description:""},{type:"idcard",label:"",icon:n2,description:""},{type:"jersey",label:"",icon:ym,description:""}],Jae=[{id:"default-name",type:"text",label:"",placeholder:"",required:!0,display:{showInPublic:!0,showInList:!0}},{id:"default-phone",type:"tel",label:"",placeholder:"0912-345-678",required:!0,display:{showInPublic:!1,showInList:!0}}];function Zae({field:t,isSelected:e,onSelect:n,onDelete:s,onDuplicate:r}){const{attributes:i,listeners:o,setNodeRef:l,transform:u,transition:d,isDragging:f}=i9({id:t.id}),p={transform:Il.Transform.toString(u),transition:d,opacity:f?.5:1},y=Xy.find(w=>w.type===t.type),x=y?.icon||ES;return m.jsx("div",{"code-path":"src/components/FormBuilder.tsx:135:5",ref:l,style:p,className:`
        relative group rounded-lg border-2 transition-all cursor-pointer
        ${e?"border-orange-500 bg-orange-500/10":"border-slate-700 bg-slate-800 hover:border-slate-500"}
      `,onClick:n,children:m.jsxs("div",{"code-path":"src/components/FormBuilder.tsx:146:7",className:"flex items-center gap-3 p-4",children:[m.jsx("div",{"code-path":"src/components/FormBuilder.tsx:148:9",...i,...o,className:"cursor-grab active:cursor-grabbing text-slate-500 hover:text-slate-300",children:m.jsx(lse,{"code-path":"src/components/FormBuilder.tsx:153:11",className:"w-5 h-5"})}),m.jsx("div",{"code-path":"src/components/FormBuilder.tsx:157:9",className:`w-10 h-10 rounded-lg flex items-center justify-center ${e?"bg-orange-500/20":"bg-slate-700"}`,children:m.jsx(x,{"code-path":"src/components/FormBuilder.tsx:160:11",className:`w-5 h-5 ${e?"text-orange-500":"text-slate-400"}`})}),m.jsxs("div",{"code-path":"src/components/FormBuilder.tsx:164:9",className:"flex-1 min-w-0",children:[m.jsxs("div",{"code-path":"src/components/FormBuilder.tsx:165:11",className:"flex items-center gap-2",children:[m.jsx("span",{"code-path":"src/components/FormBuilder.tsx:166:13",className:"font-medium text-white truncate",children:t.label}),t.required&&m.jsx("span",{"code-path":"src/components/FormBuilder.tsx:168:15",className:"text-xs text-red-400",children:"*"})]}),m.jsx("span",{"code-path":"src/components/FormBuilder.tsx:171:11",className:"text-xs text-slate-500",children:y?.label})]}),m.jsxs("div",{"code-path":"src/components/FormBuilder.tsx:175:9",className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[m.jsx("button",{"code-path":"src/components/FormBuilder.tsx:176:11",onClick:w=>{w.stopPropagation(),r()},className:"p-2 text-slate-400 hover:text-blue-400 hover:bg-slate-700 rounded-lg transition-colors",children:m.jsx(Hne,{"code-path":"src/components/FormBuilder.tsx:180:13",className:"w-4 h-4"})}),m.jsx("button",{"code-path":"src/components/FormBuilder.tsx:182:11",onClick:w=>{w.stopPropagation(),s()},className:"p-2 text-slate-400 hover:text-red-400 hover:bg-slate-700 rounded-lg transition-colors",children:m.jsx(l2,{"code-path":"src/components/FormBuilder.tsx:186:13",className:"w-4 h-4"})})]})]})})}function ele({type:t,label:e,icon:n,description:s}){const{attributes:r,listeners:i,setNodeRef:o,isDragging:l}=i9({id:`library-${t}`,data:{type:t,isLibrary:!0}});return m.jsx(ve.div,{"code-path":"src/components/FormBuilder.tsx:210:5",ref:o,...r,...i,className:`
        p-3 rounded-lg border border-slate-700 bg-slate-800 
        hover:border-orange-500 hover:bg-slate-700 cursor-grab active:cursor-grabbing
        transition-all ${l?"opacity-50":""}
      `,whileHover:{scale:1.02},whileTap:{scale:.98},children:m.jsxs("div",{"code-path":"src/components/FormBuilder.tsx:222:7",className:"flex items-center gap-3",children:[m.jsx("div",{"code-path":"src/components/FormBuilder.tsx:223:9",className:"w-8 h-8 rounded-lg bg-slate-700 flex items-center justify-center",children:m.jsx(n,{"code-path":"src/components/FormBuilder.tsx:224:11",className:"w-4 h-4 text-slate-400"})}),m.jsxs("div",{"code-path":"src/components/FormBuilder.tsx:226:9",children:[m.jsx("p",{"code-path":"src/components/FormBuilder.tsx:227:11",className:"text-sm font-medium text-white",children:e}),m.jsx("p",{"code-path":"src/components/FormBuilder.tsx:228:11",className:"text-xs text-slate-500",children:s})]})]})})}function tle({field:t,onUpdate:e}){const[n,s]=_.useState("");if(!t)return m.jsx("div",{"code-path":"src/components/FormBuilder.tsx:250:7",className:"h-full flex items-center justify-center text-slate-500",children:m.jsxs("div",{"code-path":"src/components/FormBuilder.tsx:251:9",className:"text-center",children:[m.jsx(V0,{"code-path":"src/components/FormBuilder.tsx:252:11",className:"w-12 h-12 mx-auto mb-3 opacity-50"}),m.jsx("p",{"code-path":"src/components/FormBuilder.tsx:253:11",children:""})]})});const r=()=>{n.trim()&&!t.options?.includes(n.trim())&&(e({...t,options:[...t.options||[],n.trim()]}),s(""))},i=o=>{e({...t,options:t.options?.filter((l,u)=>u!==o)||[]})};return m.jsxs("div",{"code-path":"src/components/FormBuilder.tsx:277:5",className:"space-y-6",children:[m.jsxs("div",{"code-path":"src/components/FormBuilder.tsx:278:7",className:"flex items-center gap-3 pb-4 border-b border-slate-700",children:[m.jsx(V0,{"code-path":"src/components/FormBuilder.tsx:279:9",className:"w-5 h-5 text-orange-500"}),m.jsx("h3",{"code-path":"src/components/FormBuilder.tsx:280:9",className:"font-bold text-white",children:""})]}),m.jsxs("div",{"code-path":"src/components/FormBuilder.tsx:284:7",children:[m.jsx("label",{"code-path":"src/components/FormBuilder.tsx:285:9",className:"block text-sm font-medium text-slate-300 mb-2",children:""}),m.jsx("input",{"code-path":"src/components/FormBuilder.tsx:288:9",type:"text",value:t.label,onChange:o=>e({...t,label:o.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-white focus:border-orange-500 focus:outline-none"})]}),m.jsxs("div",{"code-path":"src/components/FormBuilder.tsx:297:7",children:[m.jsx("label",{"code-path":"src/components/FormBuilder.tsx:298:9",className:"block text-sm font-medium text-slate-300 mb-2",children:""}),m.jsx("input",{"code-path":"src/components/FormBuilder.tsx:301:9",type:"text",value:t.placeholder||"",onChange:o=>e({...t,placeholder:o.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-white focus:border-orange-500 focus:outline-none",placeholder:"..."})]}),m.jsxs("div",{"code-path":"src/components/FormBuilder.tsx:311:7",className:"flex items-center justify-between p-3 bg-slate-900 rounded-lg",children:[m.jsxs("div",{"code-path":"src/components/FormBuilder.tsx:312:9",className:"flex items-center gap-2",children:[m.jsx(j0,{"code-path":"src/components/FormBuilder.tsx:313:11",className:"w-4 h-4 text-slate-400"}),m.jsx("span",{"code-path":"src/components/FormBuilder.tsx:314:11",className:"text-sm text-slate-300",children:""})]}),m.jsxs("label",{"code-path":"src/components/FormBuilder.tsx:316:9",className:"relative inline-flex items-center cursor-pointer",children:[m.jsx("input",{"code-path":"src/components/FormBuilder.tsx:317:11",type:"checkbox",checked:t.required,onChange:o=>e({...t,required:o.target.checked}),className:"sr-only peer"}),m.jsx("div",{"code-path":"src/components/FormBuilder.tsx:323:11",className:"w-11 h-6 bg-slate-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-orange-500"})]})]}),(t.type==="select"||t.type==="radio"||t.type==="checkbox")&&m.jsxs("div",{"code-path":"src/components/FormBuilder.tsx:329:9",children:[m.jsx("label",{"code-path":"src/components/FormBuilder.tsx:330:11",className:"block text-sm font-medium text-slate-300 mb-2",children:""}),m.jsx("div",{"code-path":"src/components/FormBuilder.tsx:333:11",className:"space-y-2 mb-3",children:t.options?.map((o,l)=>m.jsxs("div",{"code-path":"src/components/FormBuilder.tsx:335:15",className:"flex items-center gap-2",children:[m.jsx("span",{"code-path":"src/components/FormBuilder.tsx:336:17",className:"flex-1 px-3 py-2 bg-slate-900 rounded-lg text-white text-sm",children:o}),m.jsx("button",{"code-path":"src/components/FormBuilder.tsx:339:17",onClick:()=>i(l),className:"p-2 text-slate-400 hover:text-red-400",children:m.jsx(l2,{"code-path":"src/components/FormBuilder.tsx:343:19",className:"w-4 h-4"})})]},l))}),m.jsxs("div",{"code-path":"src/components/FormBuilder.tsx:348:11",className:"flex gap-2",children:[m.jsx("input",{"code-path":"src/components/FormBuilder.tsx:349:13",type:"text",value:n,onChange:o=>s(o.target.value),onKeyPress:o=>o.key==="Enter"&&r(),className:"flex-1 bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-white focus:border-orange-500 focus:outline-none text-sm",placeholder:"..."}),m.jsx(De,{"code-path":"src/components/FormBuilder.tsx:357:13",onClick:r,variant:"secondary",size:"sm",children:m.jsx(L0,{"code-path":"src/components/FormBuilder.tsx:358:15",className:"w-4 h-4"})})]})]}),t.type==="number"&&m.jsxs("div",{"code-path":"src/components/FormBuilder.tsx:366:9",className:"grid grid-cols-2 gap-3",children:[m.jsxs("div",{"code-path":"src/components/FormBuilder.tsx:367:11",children:[m.jsx("label",{"code-path":"src/components/FormBuilder.tsx:368:13",className:"block text-sm font-medium text-slate-300 mb-2",children:""}),m.jsx("input",{"code-path":"src/components/FormBuilder.tsx:371:13",type:"number",value:t.validation?.min||"",onChange:o=>e({...t,validation:{...t.validation,min:parseInt(o.target.value)||void 0}}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-white focus:border-orange-500 focus:outline-none"})]}),m.jsxs("div",{"code-path":"src/components/FormBuilder.tsx:381:11",children:[m.jsx("label",{"code-path":"src/components/FormBuilder.tsx:382:13",className:"block text-sm font-medium text-slate-300 mb-2",children:""}),m.jsx("input",{"code-path":"src/components/FormBuilder.tsx:385:13",type:"number",value:t.validation?.max||"",onChange:o=>e({...t,validation:{...t.validation,max:parseInt(o.target.value)||void 0}}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-white focus:border-orange-500 focus:outline-none"})]})]}),m.jsxs("div",{"code-path":"src/components/FormBuilder.tsx:399:7",className:"pt-4 border-t border-slate-700",children:[m.jsx("p",{"code-path":"src/components/FormBuilder.tsx:400:9",className:"text-sm font-medium text-slate-300 mb-3",children:""}),m.jsxs("div",{"code-path":"src/components/FormBuilder.tsx:402:9",className:"space-y-3",children:[m.jsxs("div",{"code-path":"src/components/FormBuilder.tsx:403:11",className:"flex items-center justify-between",children:[m.jsxs("div",{"code-path":"src/components/FormBuilder.tsx:404:13",className:"flex items-center gap-2",children:[m.jsx(XL,{"code-path":"src/components/FormBuilder.tsx:405:15",className:"w-4 h-4 text-slate-400"}),m.jsx("span",{"code-path":"src/components/FormBuilder.tsx:406:15",className:"text-sm text-slate-400",children:""})]}),m.jsxs("label",{"code-path":"src/components/FormBuilder.tsx:408:13",className:"relative inline-flex items-center cursor-pointer",children:[m.jsx("input",{"code-path":"src/components/FormBuilder.tsx:409:15",type:"checkbox",checked:t.display?.showInPublic??!0,onChange:o=>e({...t,display:{showInPublic:o.target.checked,showInList:t.display?.showInList??!0}}),className:"sr-only peer"}),m.jsx("div",{"code-path":"src/components/FormBuilder.tsx:421:15",className:"w-9 h-5 bg-slate-700 rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-orange-500"})]})]}),m.jsxs("div",{"code-path":"src/components/FormBuilder.tsx:425:11",className:"flex items-center justify-between",children:[m.jsxs("div",{"code-path":"src/components/FormBuilder.tsx:426:13",className:"flex items-center gap-2",children:[m.jsx(Qne,{"code-path":"src/components/FormBuilder.tsx:427:15",className:"w-4 h-4 text-slate-400"}),m.jsx("span",{"code-path":"src/components/FormBuilder.tsx:428:15",className:"text-sm text-slate-400",children:""})]}),m.jsxs("label",{"code-path":"src/components/FormBuilder.tsx:430:13",className:"relative inline-flex items-center cursor-pointer",children:[m.jsx("input",{"code-path":"src/components/FormBuilder.tsx:431:15",type:"checkbox",checked:t.display?.showInList??!0,onChange:o=>e({...t,display:{showInPublic:t.display?.showInPublic??!0,showInList:o.target.checked}}),className:"sr-only peer"}),m.jsx("div",{"code-path":"src/components/FormBuilder.tsx:443:15",className:"w-9 h-5 bg-slate-700 rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-orange-500"})]})]})]})]})]})}function nle({fields:t}){const e=n=>{const s="w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:border-orange-500 focus:outline-none";switch(n.type){case"textarea":return m.jsx("textarea",{"code-path":"src/components/FormBuilder.tsx:462:16",className:`${s} resize-none`,rows:3,placeholder:n.placeholder,readOnly:!0});case"select":return m.jsxs("select",{"code-path":"src/components/FormBuilder.tsx:465:11",className:s,children:[m.jsx("option",{"code-path":"src/components/FormBuilder.tsx:466:13",value:"",children:""}),n.options?.map((r,i)=>m.jsx("option",{"code-path":"src/components/FormBuilder.tsx:467:45",value:r,children:r},i))]});case"checkbox":return m.jsx("div",{"code-path":"src/components/FormBuilder.tsx:472:11",className:"space-y-2",children:n.options?.map((r,i)=>m.jsxs("label",{"code-path":"src/components/FormBuilder.tsx:474:15",className:"flex items-center gap-2",children:[m.jsx("input",{"code-path":"src/components/FormBuilder.tsx:475:17",type:"checkbox",className:"w-4 h-4 accent-orange-500"}),m.jsx("span",{"code-path":"src/components/FormBuilder.tsx:476:17",className:"text-slate-300",children:r})]},i))});case"radio":return m.jsx("div",{"code-path":"src/components/FormBuilder.tsx:483:11",className:"space-y-2",children:n.options?.map((r,i)=>m.jsxs("label",{"code-path":"src/components/FormBuilder.tsx:485:15",className:"flex items-center gap-2",children:[m.jsx("input",{"code-path":"src/components/FormBuilder.tsx:486:17",type:"radio",name:n.id,className:"w-4 h-4 accent-orange-500"}),m.jsx("span",{"code-path":"src/components/FormBuilder.tsx:487:17",className:"text-slate-300",children:r})]},i))});case"file":return m.jsx("div",{"code-path":"src/components/FormBuilder.tsx:494:11",className:`${s} flex items-center justify-center h-24 border-dashed`,children:m.jsxs("div",{"code-path":"src/components/FormBuilder.tsx:495:13",className:"text-center",children:[m.jsx(c2,{"code-path":"src/components/FormBuilder.tsx:496:15",className:"w-8 h-8 text-slate-500 mx-auto mb-2"}),m.jsx("p",{"code-path":"src/components/FormBuilder.tsx:497:15",className:"text-slate-400 text-sm",children:""})]})});default:return m.jsx("input",{"code-path":"src/components/FormBuilder.tsx:502:16",type:n.type,className:s,placeholder:n.placeholder,readOnly:!0})}};return m.jsx("div",{"code-path":"src/components/FormBuilder.tsx:507:5",className:"space-y-4",children:t.map(n=>m.jsxs("div",{"code-path":"src/components/FormBuilder.tsx:509:9",children:[m.jsxs("label",{"code-path":"src/components/FormBuilder.tsx:510:11",className:"block text-sm font-medium text-slate-300 mb-2",children:[n.label,n.required&&m.jsx("span",{"code-path":"src/components/FormBuilder.tsx:512:32",className:"text-red-500 ml-1",children:"*"})]}),e(n)]},n.id))})}function sle({initialFields:t=Jae,onSave:e}){const[n,s]=_.useState(t),[r,i]=_.useState(null),[o,l]=_.useState(null),[u,d]=_.useState(!1),{addToast:f}=Gr(),p=xoe(yD(y2,{activationConstraint:{distance:5}}),yD(m2,{coordinateGetter:Xae})),y=n.find(O=>O.id===r)||null,x=O=>{l(O.active.id)},w=O=>{const{active:L,over:F}=O;if(l(null),!!F){if(L.id.toString().startsWith("library-")){const I=L.id.toString().replace("library-",""),R={id:`field-${Date.now()}`,type:I,label:Xy.find(D=>D.type===I)?.label||"",placeholder:"",required:!1,options:["select","radio","checkbox"].includes(I)?[" 1"," 2"]:void 0,display:{showInPublic:!0,showInList:!0}};if(F.id==="canvas")s([...n,R]);else{const D=n.findIndex(z=>z.id===F.id);if(D!==-1){const z=[...n];z.splice(D+1,0,R),s(z)}}i(R.id);return}if(L.id!==F.id){const I=n.findIndex(D=>D.id===L.id),R=n.findIndex(D=>D.id===F.id);s(v2(n,I,R))}}},T=O=>{const L={id:`field-${Date.now()}`,type:O,label:Xy.find(F=>F.type===O)?.label||"",placeholder:"",required:!1,options:["select","radio","checkbox"].includes(O)?[" 1"," 2"]:void 0,display:{showInPublic:!0,showInList:!0}};s([...n,L]),i(L.id)},S=O=>{s(n.filter(L=>L.id!==O)),r===O&&i(null)},A=O=>{const L={...O,id:`field-${Date.now()}`,label:`${O.label} ()`,display:O.display||{showInPublic:!0,showInList:!0}},F=n.findIndex(R=>R.id===O.id),I=[...n];I.splice(F+1,0,L),s(I),i(L.id)},N=O=>{s(n.map(L=>L.id===O.id?O:L))},P=()=>{e?.(n),f({title:"",description:` ${n.length} `,variant:"success"})};return m.jsxs(gae,{"code-path":"src/components/FormBuilder.tsx:642:5",sensors:p,collisionDetection:V6,onDragStart:x,onDragEnd:w,children:[m.jsxs("div",{"code-path":"src/components/FormBuilder.tsx:648:7",className:"h-[calc(100vh-4rem)] flex",children:[m.jsxs("div",{"code-path":"src/components/FormBuilder.tsx:650:9",className:"w-64 bg-slate-900 border-r border-slate-800 flex flex-col",children:[m.jsxs("div",{"code-path":"src/components/FormBuilder.tsx:651:11",className:"p-4 border-b border-slate-800",children:[m.jsxs("h3",{"code-path":"src/components/FormBuilder.tsx:652:13",className:"font-bold text-white flex items-center gap-2",children:[m.jsx(L0,{"code-path":"src/components/FormBuilder.tsx:653:15",className:"w-5 h-5 text-orange-500"}),""]}),m.jsx("p",{"code-path":"src/components/FormBuilder.tsx:656:13",className:"text-xs text-slate-500 mt-1",children:""})]}),m.jsx("div",{"code-path":"src/components/FormBuilder.tsx:658:11",className:"flex-1 overflow-y-auto p-4 space-y-2",children:Xy.map(O=>m.jsx("div",{"code-path":"src/components/FormBuilder.tsx:660:15",onClick:()=>T(O.type),className:"cursor-pointer",children:m.jsx(ele,{"code-path":"src/components/FormBuilder.tsx:665:17",...O})},O.type))})]}),m.jsxs("div",{"code-path":"src/components/FormBuilder.tsx:672:9",className:"flex-1 flex flex-col bg-slate-950",children:[m.jsxs("div",{"code-path":"src/components/FormBuilder.tsx:673:11",className:"p-4 border-b border-slate-800 flex items-center justify-between",children:[m.jsxs("div",{"code-path":"src/components/FormBuilder.tsx:674:13",children:[m.jsx("h3",{"code-path":"src/components/FormBuilder.tsx:675:15",className:"font-bold text-white",children:""}),m.jsxs("p",{"code-path":"src/components/FormBuilder.tsx:676:15",className:"text-xs text-slate-500",children:[n.length," "]})]}),m.jsxs("div",{"code-path":"src/components/FormBuilder.tsx:678:13",className:"flex items-center gap-2",children:[m.jsx(De,{"code-path":"src/components/FormBuilder.tsx:679:15",variant:"ghost",onClick:()=>d(!u),children:u?"":""}),m.jsx(De,{"code-path":"src/components/FormBuilder.tsx:685:15",onClick:P,className:"bg-orange-500 hover:bg-orange-600",children:""})]})]}),m.jsx("div",{"code-path":"src/components/FormBuilder.tsx:691:11",className:"flex-1 overflow-y-auto p-6",children:u?m.jsxs(kt,{"code-path":"src/components/FormBuilder.tsx:693:15",className:"max-w-2xl mx-auto p-6 bg-slate-800 border-slate-700",children:[m.jsx("h4",{"code-path":"src/components/FormBuilder.tsx:694:17",className:"text-lg font-bold text-white mb-4",children:""}),m.jsx(nle,{"code-path":"src/components/FormBuilder.tsx:695:17",fields:n})]}):m.jsx(Uae,{"code-path":"src/components/FormBuilder.tsx:698:15",items:n.map(O=>O.id),strategy:zae,children:m.jsx("div",{"code-path":"src/components/FormBuilder.tsx:702:17",id:"canvas",className:"max-w-2xl mx-auto space-y-3 min-h-[200px]",children:n.length===0?m.jsxs("div",{"code-path":"src/components/FormBuilder.tsx:704:21",className:"text-center py-12 text-slate-500 border-2 border-dashed border-slate-800 rounded-lg",children:[m.jsx(L0,{"code-path":"src/components/FormBuilder.tsx:705:23",className:"w-12 h-12 mx-auto mb-3 opacity-50"}),m.jsx("p",{"code-path":"src/components/FormBuilder.tsx:706:23",children:""}),m.jsx("p",{"code-path":"src/components/FormBuilder.tsx:707:23",className:"text-sm",children:""})]}):n.map(O=>m.jsx(Zae,{"code-path":"src/components/FormBuilder.tsx:711:23",field:O,isSelected:r===O.id,onSelect:()=>i(O.id),onDelete:()=>S(O.id),onDuplicate:()=>A(O)},O.id))})})})]}),m.jsx("div",{"code-path":"src/components/FormBuilder.tsx:728:9",className:"w-80 bg-slate-900 border-l border-slate-800 flex flex-col",children:m.jsx("div",{"code-path":"src/components/FormBuilder.tsx:729:11",className:"flex-1 overflow-y-auto p-4",children:m.jsx(tle,{"code-path":"src/components/FormBuilder.tsx:730:13",field:y,onUpdate:N})})})]}),m.jsx(Oae,{"code-path":"src/components/FormBuilder.tsx:738:7",children:o?.startsWith("library-")&&m.jsx("div",{"code-path":"src/components/FormBuilder.tsx:740:11",className:"p-3 rounded-lg border border-orange-500 bg-slate-800 shadow-xl",children:m.jsx("p",{"code-path":"src/components/FormBuilder.tsx:741:13",className:"text-white text-sm",children:""})})})]})}function RD(t){const e=t.length,n=Math.ceil(Math.log2(e)),s=Math.pow(2,n),r=[...t];for(;r.length<s;)r.push(null);const i=[];let o=0;for(let l=n;l>=1;l--){const u=Math.pow(2,l-1);for(let d=0;d<u;d++){const f={id:`match-${o++}`,round:l,position:d,status:"pending"};if(l<n){const p=Math.floor(d/2);f.nextMatchId=`match-${o+u-d-1+p}`,f.nextPosition=d%2===0?"A":"B"}if(l===1){const p=d*2;p<r.length&&r[p]&&(f.teamA={name:r[p]}),p+1<r.length&&r[p+1]&&(f.teamB={name:r[p+1]})}i.push(f)}}return{type:"single",rounds:n,matches:i}}function rle(t){const e=t.length,n=Math.ceil(Math.log2(e)),s=Math.pow(2,n),r=[...t];for(;r.length<s;)r.push(null);const i=[];for(let d=1;d<=n;d++){const f=[],p=Math.pow(2,n-d);for(let y=0;y<p;y++){const x={id:`wb-r${d}-m${y+1}`,round:d,position:y,status:"pending"};if(d<n&&(x.nextMatchId=`wb-r${d+1}-m${Math.floor(y/2)+1}`,x.nextPosition=y%2===0?"A":"B"),d===1){const w=y*2;w<r.length&&r[w]&&(x.teamA={name:r[w]}),w+1<r.length&&r[w+1]&&(x.teamB={name:r[w+1]})}f.push(x)}i.push({round:d,name:d===n?"":` ${d} `,matches:f})}const o=[],l=(n-1)*2+1;for(let d=1;d<=l;d++){const f=[];let p;d===1?p=Math.pow(2,n-2):d%2===0?p=Math.pow(2,n-1-Math.floor(d/2)):p=Math.pow(2,n-1-Math.floor((d-1)/2));for(let y=0;y<p;y++){const x={id:`lb-r${d}-m${y+1}`,round:d,position:y,status:"pending"};d<l&&(d%2===1?(x.nextMatchId=`lb-r${d+1}-m${Math.floor(y/2)+1}`,x.nextPosition=y%2===0?"A":"B"):(x.nextMatchId=`lb-r${d+1}-m${y+1}`,x.nextPosition="A")),f.push(x)}o.push({round:d,name:` ${d} `,matches:f})}const u=[{id:"gf-1",round:n+1,position:0,status:"pending"}];return{winnersBracket:i,losersBracket:o,grandFinals:u}}function Qy({match:t,onClick:e,scale:n,highlight:s}){const r=t.status==="live",i=t.status==="finished";return m.jsxs(ve.div,{"code-path":"src/components/TournamentBracket.tsx:31:5",className:`
        w-48 rounded-lg border-2 overflow-hidden cursor-pointer transition-all
        ${s?"ring-2 ring-orange-500 ring-offset-2 ring-offset-slate-900":""}
        ${r?"border-orange-500 shadow-lg shadow-orange-500/20":i?"border-emerald-500/50":"border-slate-700"}
        bg-slate-800 hover:border-orange-500/50
      `,onClick:e,whileHover:{scale:1.02},whileTap:{scale:.98},style:{transform:`scale(${n})`,transformOrigin:"top left"},children:[m.jsxs("div",{"code-path":"src/components/TournamentBracket.tsx:45:7",className:"px-3 py-1.5 bg-slate-900 border-b border-slate-700 flex items-center justify-between",children:[m.jsx("span",{"code-path":"src/components/TournamentBracket.tsx:46:9",className:"text-xs text-slate-500",children:t.court||` ${t.position+1}`}),r&&m.jsxs("span",{"code-path":"src/components/TournamentBracket.tsx:50:11",className:"flex items-center gap-1 text-xs text-orange-500",children:[m.jsx("span",{"code-path":"src/components/TournamentBracket.tsx:51:13",className:"w-2 h-2 bg-orange-500 rounded-full animate-pulse"}),"LIVE"]})]}),m.jsxs("div",{"code-path":"src/components/TournamentBracket.tsx:58:7",className:"p-2 space-y-1",children:[m.jsxs("div",{"code-path":"src/components/TournamentBracket.tsx:60:9",className:`
          flex items-center justify-between p-2 rounded
          ${t.teamA?.isWinner?"bg-emerald-500/20":"bg-slate-900"}
        `,children:[m.jsx("span",{"code-path":"src/components/TournamentBracket.tsx:64:11",className:`
            text-sm truncate flex-1
            ${t.teamA?.isWinner?"text-emerald-400 font-medium":"text-slate-300"}
          `,children:t.teamA?.name||""}),t.teamA?.score!==void 0&&m.jsx("span",{"code-path":"src/components/TournamentBracket.tsx:71:13",className:`
              text-sm font-bold ml-2
              ${t.teamA?.isWinner?"text-emerald-400":"text-slate-500"}
            `,children:t.teamA.score})]}),m.jsxs("div",{"code-path":"src/components/TournamentBracket.tsx:81:9",className:`
          flex items-center justify-between p-2 rounded
          ${t.teamB?.isWinner?"bg-emerald-500/20":"bg-slate-900"}
        `,children:[m.jsx("span",{"code-path":"src/components/TournamentBracket.tsx:85:11",className:`
            text-sm truncate flex-1
            ${t.teamB?.isWinner?"text-emerald-400 font-medium":"text-slate-300"}
          `,children:t.teamB?.name||""}),t.teamB?.score!==void 0&&m.jsx("span",{"code-path":"src/components/TournamentBracket.tsx:92:13",className:`
              text-sm font-bold ml-2
              ${t.teamB?.isWinner?"text-emerald-400":"text-slate-500"}
            `,children:t.teamB.score})]})]}),t.startTime&&m.jsx("div",{"code-path":"src/components/TournamentBracket.tsx:104:9",className:"px-3 py-1 bg-slate-900 border-t border-slate-700",children:m.jsxs("span",{"code-path":"src/components/TournamentBracket.tsx:105:11",className:"text-xs text-slate-500 flex items-center gap-1",children:[m.jsx(Zc,{"code-path":"src/components/TournamentBracket.tsx:106:13",className:"w-3 h-3"}),t.startTime]})})]})}function CS({matches:t,containerRef:e,type:n="winners"}){const[s,r]=_.useState([]);return _.useEffect(()=>{if(!e.current)return;const o=e.current.getBoundingClientRect(),l=[];t.forEach(u=>{if(!u.nextMatchId)return;const d=document.getElementById(`${n}-${u.id}`),f=document.getElementById(`${n}-${u.nextMatchId}`);if(d&&f){const p=d.getBoundingClientRect(),y=f.getBoundingClientRect(),x=p.right-o.left,w=p.top+p.height/2-o.top,T=y.left-o.left,S=y.top+y.height/2-o.top;l.push({x1:x,y1:w,x2:T,y2:S})}}),r(l)},[t,e,n]),m.jsx("svg",{"code-path":"src/components/TournamentBracket.tsx:162:5",className:"absolute inset-0 pointer-events-none z-0",style:{width:"100%",height:"100%"},children:s.map((i,o)=>m.jsx("path",{"code-path":"src/components/TournamentBracket.tsx:167:9",d:`M ${i.x1} ${i.y1} 
              C ${i.x1+30} ${i.y1}, 
                ${i.x2-30} ${i.y2}, 
                ${i.x2} ${i.y2}`,fill:"none",stroke:n==="winners"?"#475569":"#7c3aed",strokeWidth:"2"},o))})}function ile({match:t,isOpen:e,onClose:n,onSave:s}){const[r,i]=_.useState(t?.teamA?.score?.toString()||""),[o,l]=_.useState(t?.teamB?.score?.toString()||""),[u,d]=_.useState(t?.status||"pending");if(_.useEffect(()=>{i(t?.teamA?.score?.toString()||""),l(t?.teamB?.score?.toString()||""),d(t?.status||"pending")},[t]),!e||!t)return null;const f=()=>{const p=parseInt(r)||0,y=parseInt(o)||0;s({...t,status:u,teamA:t.teamA?{...t.teamA,score:p,isWinner:u==="finished"&&p>y}:void 0,teamB:t.teamB?{...t.teamB,score:y,isWinner:u==="finished"&&y>p}:void 0}),n()};return m.jsx(On,{"code-path":"src/components/TournamentBracket.tsx:231:5",children:m.jsx(ve.div,{"code-path":"src/components/TournamentBracket.tsx:232:7",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:n,children:m.jsxs(ve.div,{"code-path":"src/components/TournamentBracket.tsx:239:9",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-slate-800 rounded-xl border border-slate-700 p-6 max-w-md w-full",onClick:p=>p.stopPropagation(),children:[m.jsxs("h3",{"code-path":"src/components/TournamentBracket.tsx:246:11",className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[m.jsx(i2,{"code-path":"src/components/TournamentBracket.tsx:247:13",className:"w-5 h-5 text-orange-500"}),""]}),m.jsxs("div",{"code-path":"src/components/TournamentBracket.tsx:251:11",className:"space-y-4",children:[m.jsxs("div",{"code-path":"src/components/TournamentBracket.tsx:253:13",children:[m.jsx("label",{"code-path":"src/components/TournamentBracket.tsx:254:15",className:"block text-sm font-medium text-slate-300 mb-2",children:""}),m.jsx("div",{"code-path":"src/components/TournamentBracket.tsx:257:15",className:"flex gap-2",children:["pending","live","finished"].map(p=>m.jsxs("button",{"code-path":"src/components/TournamentBracket.tsx:259:19",onClick:()=>d(p),className:`
                      flex-1 py-2 rounded-lg text-sm font-medium transition-colors
                      ${u===p?"bg-orange-500 text-white":"bg-slate-700 text-slate-400 hover:bg-slate-600"}
                    `,children:[p==="pending"&&"",p==="live"&&"",p==="finished"&&""]},p))})]}),m.jsxs("div",{"code-path":"src/components/TournamentBracket.tsx:278:13",children:[m.jsx("label",{"code-path":"src/components/TournamentBracket.tsx:279:15",className:"block text-sm font-medium text-slate-300 mb-2",children:t.teamA?.name||" A"}),m.jsx("input",{"code-path":"src/components/TournamentBracket.tsx:282:15",type:"number",value:r,onChange:p=>i(p.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:border-orange-500 focus:outline-none",placeholder:""})]}),m.jsxs("div",{"code-path":"src/components/TournamentBracket.tsx:292:13",children:[m.jsx("label",{"code-path":"src/components/TournamentBracket.tsx:293:15",className:"block text-sm font-medium text-slate-300 mb-2",children:t.teamB?.name||" B"}),m.jsx("input",{"code-path":"src/components/TournamentBracket.tsx:296:15",type:"number",value:o,onChange:p=>l(p.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:border-orange-500 focus:outline-none",placeholder:""})]})]}),m.jsxs("div",{"code-path":"src/components/TournamentBracket.tsx:306:11",className:"flex gap-3 mt-6",children:[m.jsx(De,{"code-path":"src/components/TournamentBracket.tsx:307:13",variant:"ghost",onClick:n,className:"flex-1",children:""}),m.jsx(De,{"code-path":"src/components/TournamentBracket.tsx:310:13",onClick:f,className:"flex-1 bg-orange-500 hover:bg-orange-600",children:""})]})]})})})}function ole({winnersMatches:t,losersMatches:e,grandFinals:n,onMatchClick:s,scale:r,containerRef:i}){const o=t.reduce((f,p)=>(f[p.round]||(f[p.round]=[]),f[p.round].push(p),f),{}),l=e.reduce((f,p)=>(f[p.round]||(f[p.round]=[]),f[p.round].push(p),f),{}),u=Object.keys(o).map(Number).sort((f,p)=>p-f),d=Object.keys(l).map(Number).sort((f,p)=>f-p);return m.jsxs("div",{"code-path":"src/components/TournamentBracket.tsx:355:5",className:"space-y-8",children:[m.jsxs("div",{"code-path":"src/components/TournamentBracket.tsx:357:7",children:[m.jsxs("h4",{"code-path":"src/components/TournamentBracket.tsx:358:9",className:"text-lg font-bold text-emerald-400 mb-4 flex items-center gap-2",children:[m.jsx(a2,{"code-path":"src/components/TournamentBracket.tsx:359:11",className:"w-5 h-5"})," "]}),m.jsxs("div",{"code-path":"src/components/TournamentBracket.tsx:361:9",className:"relative",children:[m.jsx(CS,{"code-path":"src/components/TournamentBracket.tsx:362:11",matches:t,containerRef:i,type:"winners"}),m.jsx("div",{"code-path":"src/components/TournamentBracket.tsx:363:11",className:"flex items-center gap-12 p-6 min-w-max",style:{transform:`scale(${r})`,transformOrigin:"top left"},children:u.map(f=>m.jsxs("div",{"code-path":"src/components/TournamentBracket.tsx:368:15",className:"flex flex-col gap-4",children:[m.jsx("div",{"code-path":"src/components/TournamentBracket.tsx:369:17",className:"text-center mb-2",children:m.jsx("span",{"code-path":"src/components/TournamentBracket.tsx:370:19",className:"text-sm font-medium text-slate-400",children:f===u[0]?"":` ${u[0]-f+1} `})}),m.jsx("div",{"code-path":"src/components/TournamentBracket.tsx:374:17",className:"flex flex-col gap-6",children:o[f].map(p=>m.jsx("div",{"code-path":"src/components/TournamentBracket.tsx:376:21",id:`winners-${p.id}`,children:m.jsx(Qy,{"code-path":"src/components/TournamentBracket.tsx:377:23",match:p,onClick:()=>s(p),scale:1})},`winners-${p.id}`))})]},`wb-${f}`))})]})]}),m.jsxs("div",{"code-path":"src/components/TournamentBracket.tsx:392:7",children:[m.jsxs("h4",{"code-path":"src/components/TournamentBracket.tsx:393:9",className:"text-lg font-bold text-purple-400 mb-4 flex items-center gap-2",children:[m.jsx(Ss,{"code-path":"src/components/TournamentBracket.tsx:394:11",className:"w-5 h-5"})," "]}),m.jsxs("div",{"code-path":"src/components/TournamentBracket.tsx:396:9",className:"relative",children:[m.jsx(CS,{"code-path":"src/components/TournamentBracket.tsx:397:11",matches:e,containerRef:i,type:"losers"}),m.jsx("div",{"code-path":"src/components/TournamentBracket.tsx:398:11",className:"flex items-center gap-12 p-6 min-w-max",style:{transform:`scale(${r})`,transformOrigin:"top left"},children:d.map(f=>m.jsxs("div",{"code-path":"src/components/TournamentBracket.tsx:403:15",className:"flex flex-col gap-4",children:[m.jsx("div",{"code-path":"src/components/TournamentBracket.tsx:404:17",className:"text-center mb-2",children:m.jsxs("span",{"code-path":"src/components/TournamentBracket.tsx:405:19",className:"text-sm font-medium text-slate-400",children:[" ",f," "]})}),m.jsx("div",{"code-path":"src/components/TournamentBracket.tsx:409:17",className:"flex flex-col gap-6",children:l[f]?.map(p=>m.jsx("div",{"code-path":"src/components/TournamentBracket.tsx:411:21",id:`losers-${p.id}`,children:m.jsx(Qy,{"code-path":"src/components/TournamentBracket.tsx:412:23",match:p,onClick:()=>s(p),scale:1})},`losers-${p.id}`))})]},`lb-${f}`))})]})]}),n.length>0&&m.jsxs("div",{"code-path":"src/components/TournamentBracket.tsx:428:9",className:"flex flex-col items-center justify-center py-8",children:[m.jsx("h4",{"code-path":"src/components/TournamentBracket.tsx:429:11",className:"text-lg font-bold text-yellow-400 mb-4",children:""}),m.jsx("div",{"code-path":"src/components/TournamentBracket.tsx:430:11",className:"flex gap-8",children:n.map(f=>m.jsx(Qy,{"code-path":"src/components/TournamentBracket.tsx:432:15",match:f,onClick:()=>s(f),scale:r,highlight:!0},f.id))})]})]})}function ale({teams:t=[" A"," B"," C"," D"," E"," F"," G"," H"],initialData:e,bracketType:n="single"}){const[s,r]=_.useState(()=>e||RD(t)),[i,o]=_.useState(1),[l,u]=_.useState(null),[d,f]=_.useState(!1),[p,y]=_.useState(n),[x,w]=_.useState(!0),T=_.useRef(null),{addToast:S}=Gr();_.useEffect(()=>{if(p==="double"){const D=rle(t);r({type:"double",rounds:D.winnersBracket.length,matches:[...D.winnersBracket.flatMap(z=>z.matches),...D.losersBracket.flatMap(z=>z.matches),...D.grandFinals],winnersBracket:D.winnersBracket,losersBracket:D.losersBracket,grandFinals:D.grandFinals})}else r(RD(t))},[p,t]);const A=()=>o(D=>Math.min(D+.1,2)),N=()=>o(D=>Math.max(D-.1,.5)),P=()=>o(1),O=D=>{u(D),f(!0)},L=_.useCallback(D=>{r(z=>{const B={...z};if(B.matches=z.matches.map(H=>H.id===D.id?D:H),D.status==="finished"&&D.winner){const H=D.winner==="A"?D.teamA:D.teamB,U=D.winner==="A"?D.teamB:D.teamA;if(D.nextMatchId&&H&&(B.matches=B.matches.map(he=>he.id===D.nextMatchId?D.nextPosition==="A"?{...he,teamA:H}:{...he,teamB:H}:he)),p==="double"&&U&&D.round<=z.rounds){const he=B.matches.find(ce=>ce.id.startsWith("lb-")&&!ce.teamA);he&&(B.matches=B.matches.map(ce=>ce.id===he.id?{...ce,teamA:U}:ce))}}return B}),S({title:"",description:D.status==="finished"?"":void 0,variant:"success"})},[p,S]),F=()=>{S({title:"...",description:" JPG ",variant:"default"})},I=s.matches.reduce((D,z)=>(D[z.round]||(D[z.round]=[]),D[z.round].push(z),D),{}),R=Object.keys(I).map(Number).sort((D,z)=>z-D);return m.jsxs("div",{"code-path":"src/components/TournamentBracket.tsx:573:5",className:"h-full flex flex-col bg-slate-950",children:[m.jsxs("div",{"code-path":"src/components/TournamentBracket.tsx:575:7",className:"p-4 border-b border-slate-800 flex items-center justify-between flex-wrap gap-4",children:[m.jsxs("div",{"code-path":"src/components/TournamentBracket.tsx:576:9",className:"flex items-center gap-4",children:[m.jsxs("h3",{"code-path":"src/components/TournamentBracket.tsx:577:11",className:"font-bold text-white flex items-center gap-2",children:[m.jsx(Cn,{"code-path":"src/components/TournamentBracket.tsx:578:13",className:"w-5 h-5 text-orange-500"}),""]}),m.jsx("div",{"code-path":"src/components/TournamentBracket.tsx:583:11",className:"flex items-center gap-2",children:["single","double"].map(D=>m.jsx("button",{"code-path":"src/components/TournamentBracket.tsx:585:15",onClick:()=>y(D),className:`
                  px-3 py-1.5 rounded-lg text-sm transition-colors
                  ${p===D?"bg-orange-500 text-white":"bg-slate-800 text-slate-400 hover:bg-slate-700"}
                `,children:D==="single"?"":""},D))}),m.jsxs("div",{"code-path":"src/components/TournamentBracket.tsx:600:11",className:"flex items-center gap-2 text-sm text-slate-500",children:[m.jsxs("span",{"code-path":"src/components/TournamentBracket.tsx:601:13",className:"px-2 py-1 bg-slate-800 rounded",children:[s.rounds," "]}),m.jsxs("span",{"code-path":"src/components/TournamentBracket.tsx:604:13",className:"px-2 py-1 bg-slate-800 rounded",children:[s.matches.length," "]})]})]}),m.jsxs("div",{"code-path":"src/components/TournamentBracket.tsx:610:9",className:"flex items-center gap-2",children:[p==="double"&&m.jsxs("button",{"code-path":"src/components/TournamentBracket.tsx:613:13",onClick:()=>w(!x),className:"flex items-center gap-1 px-3 py-2 bg-slate-800 rounded-lg text-sm text-slate-400 hover:text-white",children:[x?m.jsx(GL,{"code-path":"src/components/TournamentBracket.tsx:617:29",className:"w-4 h-4"}):m.jsx(xv,{"code-path":"src/components/TournamentBracket.tsx:617:65",className:"w-4 h-4"}),x?"":""]}),m.jsxs("div",{"code-path":"src/components/TournamentBracket.tsx:623:11",className:"flex items-center gap-1 bg-slate-800 rounded-lg p-1",children:[m.jsx("button",{"code-path":"src/components/TournamentBracket.tsx:624:13",onClick:N,className:"p-2 text-slate-400 hover:text-white hover:bg-slate-700 rounded transition-colors",children:m.jsx(Mre,{"code-path":"src/components/TournamentBracket.tsx:628:15",className:"w-4 h-4"})}),m.jsxs("span",{"code-path":"src/components/TournamentBracket.tsx:630:13",className:"text-sm text-slate-400 w-12 text-center",children:[Math.round(i*100),"%"]}),m.jsx("button",{"code-path":"src/components/TournamentBracket.tsx:633:13",onClick:A,className:"p-2 text-slate-400 hover:text-white hover:bg-slate-700 rounded transition-colors",children:m.jsx(Nre,{"code-path":"src/components/TournamentBracket.tsx:637:15",className:"w-4 h-4"})}),m.jsx("button",{"code-path":"src/components/TournamentBracket.tsx:639:13",onClick:P,className:"p-2 text-slate-400 hover:text-white hover:bg-slate-700 rounded transition-colors",children:m.jsx(Dse,{"code-path":"src/components/TournamentBracket.tsx:643:15",className:"w-4 h-4"})})]}),m.jsxs(De,{"code-path":"src/components/TournamentBracket.tsx:647:11",variant:"ghost",onClick:F,className:"text-slate-400",children:[m.jsx(YL,{"code-path":"src/components/TournamentBracket.tsx:652:13",className:"w-4 h-4 mr-1"}),""]})]})]}),m.jsx("div",{"code-path":"src/components/TournamentBracket.tsx:659:7",ref:T,className:"flex-1 overflow-auto relative",children:p==="double"?m.jsx(ole,{"code-path":"src/components/TournamentBracket.tsx:664:11",winnersMatches:s.matches.filter(D=>D.id.startsWith("wb-")),losersMatches:x?s.matches.filter(D=>D.id.startsWith("lb-")):[],grandFinals:s.grandFinals||[],onMatchClick:O,scale:i,containerRef:T}):m.jsxs(m.Fragment,{children:[m.jsx(CS,{"code-path":"src/components/TournamentBracket.tsx:674:13",matches:s.matches,containerRef:T}),m.jsxs("div",{"code-path":"src/components/TournamentBracket.tsx:675:13",className:"flex items-center gap-16 p-8 min-w-max",style:{transform:`scale(${i})`,transformOrigin:"top left"},children:[R.map(D=>m.jsxs("div",{"code-path":"src/components/TournamentBracket.tsx:680:17",className:"flex flex-col gap-4",children:[m.jsx("div",{"code-path":"src/components/TournamentBracket.tsx:681:19",className:"text-center mb-2",children:m.jsx("span",{"code-path":"src/components/TournamentBracket.tsx:682:21",className:"text-sm font-medium text-slate-400",children:D===s.rounds?"":D===s.rounds-1?"":` ${s.rounds-D+1} `})}),m.jsx("div",{"code-path":"src/components/TournamentBracket.tsx:688:19",className:"flex flex-col gap-8",children:I[D].map(z=>m.jsx("div",{"code-path":"src/components/TournamentBracket.tsx:690:23",id:z.id,children:m.jsx(Qy,{"code-path":"src/components/TournamentBracket.tsx:691:25",match:z,onClick:()=>O(z),scale:1})},z.id))})]},D)),m.jsxs("div",{"code-path":"src/components/TournamentBracket.tsx:703:15",className:"flex flex-col items-center justify-center",children:[m.jsx(ve.div,{"code-path":"src/components/TournamentBracket.tsx:704:17",initial:{scale:0},animate:{scale:1},className:"w-32 h-32 rounded-full bg-gradient-to-br from-yellow-400 to-orange-500 flex items-center justify-center shadow-lg shadow-orange-500/30",children:m.jsx(Cn,{"code-path":"src/components/TournamentBracket.tsx:709:19",className:"w-12 h-12 text-white"})}),m.jsx("p",{"code-path":"src/components/TournamentBracket.tsx:711:17",className:"mt-4 text-lg font-bold text-white",children:""})]})]})]})}),m.jsx(ile,{"code-path":"src/components/TournamentBracket.tsx:719:7",match:l,isOpen:d,onClose:()=>f(!1),onSave:L})]})}const lle=[{id:"1",name:""},{id:"2",name:""},{id:"3",name:""},{id:"4",name:""},{id:"5",name:""},{id:"6",name:""},{id:"7",name:""},{id:"8",name:""}],cle=[{id:"1",name:"A",available:!0},{id:"2",name:"B",available:!0},{id:"3",name:"C",available:!0},{id:"4",name:"D",available:!0}];function ule(t,e,n){const s=[],r=e.filter(y=>y.available),i=[];for(let y=0;y<t.length;y++)for(let x=y+1;x<t.length;x++)i.push([t[y],t[x]]);i.sort(()=>Math.random()-.5);let o=new Date(`${n.startDate}T${n.startTime}`);const l=new Date(`${n.startDate}T${n.endTime}`),u=n.lunchBreak?new Date(`${n.startDate}T${n.lunchBreak.start}`):null,d=n.lunchBreak?new Date(`${n.startDate}T${n.lunchBreak.end}`):null;let f=0,p=1;for(const[y,x]of i){f>=r.length&&(f=0,o=new Date(o.getTime()+(n.gameDuration+n.breakDuration)*6e4),u&&d&&o>=u&&o<d&&(o=new Date(d)),o>=l&&(o=new Date(o.getTime()+1440*60*1e3),o.setHours(parseInt(n.startTime.split(":")[0])),o.setMinutes(parseInt(n.startTime.split(":")[1])),p++));const w=new Date(o.getTime()+n.gameDuration*6e4);s.push({id:`match-${s.length+1}`,round:p,teamA:y,teamB:x,court:r[f],startTime:new Date(o),endTime:w}),f++}return s}function dle(t){const e=new Map;return t.map(n=>{const s=[],r=e.get(n.teamA.id);if(r){const o=(n.startTime.getTime()-r.getTime())/6e4;o<30&&s.push(`${n.teamA.name}  (${Math.round(o)} )`)}const i=e.get(n.teamB.id);if(i){const o=(n.startTime.getTime()-i.getTime())/6e4;o<30&&s.push(`${n.teamB.name}  (${Math.round(o)} )`)}return e.set(n.teamA.id,n.endTime),e.set(n.teamB.id,n.endTime),{...n,conflicts:s}})}function hle({config:t,onChange:e}){return m.jsxs("div",{"code-path":"src/components/AutoScheduler.tsx:182:5",className:"space-y-6",children:[m.jsxs("div",{"code-path":"src/components/AutoScheduler.tsx:183:7",className:"flex items-center gap-3 pb-4 border-b border-slate-700",children:[m.jsx(V0,{"code-path":"src/components/AutoScheduler.tsx:184:9",className:"w-5 h-5 text-orange-500"}),m.jsx("h3",{"code-path":"src/components/AutoScheduler.tsx:185:9",className:"font-bold text-white",children:""})]}),m.jsxs("div",{"code-path":"src/components/AutoScheduler.tsx:189:7",children:[m.jsxs("label",{"code-path":"src/components/AutoScheduler.tsx:190:9",className:"block text-sm font-medium text-slate-300 mb-2",children:[m.jsx(vi,{"code-path":"src/components/AutoScheduler.tsx:191:11",className:"w-4 h-4 inline mr-1"})," "]}),m.jsx("input",{"code-path":"src/components/AutoScheduler.tsx:193:9",type:"date",value:t.startDate,onChange:n=>e({...t,startDate:n.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-white focus:border-orange-500 focus:outline-none"})]}),m.jsxs("div",{"code-path":"src/components/AutoScheduler.tsx:202:7",className:"grid grid-cols-2 gap-3",children:[m.jsxs("div",{"code-path":"src/components/AutoScheduler.tsx:203:9",children:[m.jsxs("label",{"code-path":"src/components/AutoScheduler.tsx:204:11",className:"block text-sm font-medium text-slate-300 mb-2",children:[m.jsx(z0,{"code-path":"src/components/AutoScheduler.tsx:205:13",className:"w-4 h-4 inline mr-1"})," "]}),m.jsx("input",{"code-path":"src/components/AutoScheduler.tsx:207:11",type:"time",value:t.startTime,onChange:n=>e({...t,startTime:n.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-white focus:border-orange-500 focus:outline-none"})]}),m.jsxs("div",{"code-path":"src/components/AutoScheduler.tsx:214:9",children:[m.jsxs("label",{"code-path":"src/components/AutoScheduler.tsx:215:11",className:"block text-sm font-medium text-slate-300 mb-2",children:[m.jsx(s6,{"code-path":"src/components/AutoScheduler.tsx:216:13",className:"w-4 h-4 inline mr-1"})," "]}),m.jsx("input",{"code-path":"src/components/AutoScheduler.tsx:218:11",type:"time",value:t.endTime,onChange:n=>e({...t,endTime:n.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-white focus:border-orange-500 focus:outline-none"})]})]}),m.jsxs("div",{"code-path":"src/components/AutoScheduler.tsx:228:7",children:[m.jsxs("label",{"code-path":"src/components/AutoScheduler.tsx:229:9",className:"block text-sm font-medium text-slate-300 mb-2",children:[m.jsx(Zc,{"code-path":"src/components/AutoScheduler.tsx:230:11",className:"w-4 h-4 inline mr-1"})," "]}),m.jsxs("div",{"code-path":"src/components/AutoScheduler.tsx:232:9",className:"flex items-center gap-3",children:[m.jsx("input",{"code-path":"src/components/AutoScheduler.tsx:233:11",type:"range",min:"10",max:"120",value:t.gameDuration,onChange:n=>e({...t,gameDuration:parseInt(n.target.value)}),className:"flex-1 accent-orange-500"}),m.jsx("span",{"code-path":"src/components/AutoScheduler.tsx:241:11",className:"w-12 text-center text-orange-400 font-bold",children:t.gameDuration})]})]}),m.jsxs("div",{"code-path":"src/components/AutoScheduler.tsx:246:7",children:[m.jsxs("label",{"code-path":"src/components/AutoScheduler.tsx:247:9",className:"block text-sm font-medium text-slate-300 mb-2",children:[m.jsx(Zc,{"code-path":"src/components/AutoScheduler.tsx:248:11",className:"w-4 h-4 inline mr-1"})," "]}),m.jsxs("div",{"code-path":"src/components/AutoScheduler.tsx:250:9",className:"flex items-center gap-3",children:[m.jsx("input",{"code-path":"src/components/AutoScheduler.tsx:251:11",type:"range",min:"0",max:"30",value:t.breakDuration,onChange:n=>e({...t,breakDuration:parseInt(n.target.value)}),className:"flex-1 accent-orange-500"}),m.jsx("span",{"code-path":"src/components/AutoScheduler.tsx:259:11",className:"w-12 text-center text-orange-400 font-bold",children:t.breakDuration})]})]}),m.jsxs("div",{"code-path":"src/components/AutoScheduler.tsx:264:7",className:"flex items-center justify-between p-3 bg-slate-900 rounded-lg",children:[m.jsxs("div",{"code-path":"src/components/AutoScheduler.tsx:265:9",className:"flex items-center gap-2",children:[m.jsx(z0,{"code-path":"src/components/AutoScheduler.tsx:266:11",className:"w-4 h-4 text-slate-400"}),m.jsx("span",{"code-path":"src/components/AutoScheduler.tsx:267:11",className:"text-sm text-slate-300",children:""})]}),m.jsxs("label",{"code-path":"src/components/AutoScheduler.tsx:269:9",className:"relative inline-flex items-center cursor-pointer",children:[m.jsx("input",{"code-path":"src/components/AutoScheduler.tsx:270:11",type:"checkbox",checked:!!t.lunchBreak,onChange:n=>e({...t,lunchBreak:n.target.checked?{start:"12:00",end:"13:00"}:null}),className:"sr-only peer"}),m.jsx("div",{"code-path":"src/components/AutoScheduler.tsx:279:11",className:"w-11 h-6 bg-slate-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-orange-500"})]})]}),m.jsx(On,{"code-path":"src/components/AutoScheduler.tsx:284:7",children:t.lunchBreak&&m.jsxs(ve.div,{"code-path":"src/components/AutoScheduler.tsx:286:11",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"grid grid-cols-2 gap-3",children:[m.jsxs("div",{"code-path":"src/components/AutoScheduler.tsx:292:13",children:[m.jsx("label",{"code-path":"src/components/AutoScheduler.tsx:293:15",className:"block text-xs text-slate-400 mb-1",children:""}),m.jsx("input",{"code-path":"src/components/AutoScheduler.tsx:294:15",type:"time",value:t.lunchBreak.start,onChange:n=>e({...t,lunchBreak:{...t.lunchBreak,start:n.target.value}}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-white focus:border-orange-500 focus:outline-none"})]}),m.jsxs("div",{"code-path":"src/components/AutoScheduler.tsx:304:13",children:[m.jsx("label",{"code-path":"src/components/AutoScheduler.tsx:305:15",className:"block text-xs text-slate-400 mb-1",children:""}),m.jsx("input",{"code-path":"src/components/AutoScheduler.tsx:306:15",type:"time",value:t.lunchBreak.end,onChange:n=>e({...t,lunchBreak:{...t.lunchBreak,end:n.target.value}}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-white focus:border-orange-500 focus:outline-none"})]})]})}),m.jsxs("div",{"code-path":"src/components/AutoScheduler.tsx:321:7",children:[m.jsxs("label",{"code-path":"src/components/AutoScheduler.tsx:322:9",className:"block text-sm font-medium text-slate-300 mb-2",children:[m.jsx(Ss,{"code-path":"src/components/AutoScheduler.tsx:323:11",className:"w-4 h-4 inline mr-1"})," "]}),m.jsxs("div",{"code-path":"src/components/AutoScheduler.tsx:325:9",className:"flex items-center gap-3",children:[m.jsx("input",{"code-path":"src/components/AutoScheduler.tsx:326:11",type:"range",min:"0",max:"60",value:t.restBetweenGames,onChange:n=>e({...t,restBetweenGames:parseInt(n.target.value)}),className:"flex-1 accent-orange-500"}),m.jsx("span",{"code-path":"src/components/AutoScheduler.tsx:334:11",className:"w-12 text-center text-orange-400 font-bold",children:t.restBetweenGames})]})]})]})}function fle({matches:t,onRegenerate:e}){const{addToast:n}=Gr(),s=_.useMemo(()=>{const o={};return t.forEach(l=>{const u=l.startTime.toLocaleDateString("zh-TW");o[u]||(o[u]=[]),o[u].push(l)}),o},[t]),r=t.filter(o=>o.conflicts?.length).length,i=()=>{n({title:"",description:` ${t.length} `,variant:"success"})};return m.jsxs("div",{"code-path":"src/components/AutoScheduler.tsx:372:5",className:"space-y-4",children:[m.jsxs("div",{"code-path":"src/components/AutoScheduler.tsx:373:7",className:"flex items-center justify-between pb-4 border-b border-slate-700",children:[m.jsxs("div",{"code-path":"src/components/AutoScheduler.tsx:374:9",className:"flex items-center gap-3",children:[m.jsx(vi,{"code-path":"src/components/AutoScheduler.tsx:375:11",className:"w-5 h-5 text-orange-500"}),m.jsx("h3",{"code-path":"src/components/AutoScheduler.tsx:376:11",className:"font-bold text-white",children:""})]}),m.jsxs("div",{"code-path":"src/components/AutoScheduler.tsx:378:9",className:"flex items-center gap-2",children:[r>0&&m.jsxs("span",{"code-path":"src/components/AutoScheduler.tsx:380:13",className:"px-2 py-1 bg-red-500/20 text-red-400 text-xs rounded-full flex items-center gap-1",children:[m.jsx(wS,{"code-path":"src/components/AutoScheduler.tsx:381:15",className:"w-3 h-3"}),r," "]}),m.jsxs("span",{"code-path":"src/components/AutoScheduler.tsx:385:11",className:"px-2 py-1 bg-slate-800 text-slate-400 text-xs rounded-full",children:[t.length," "]})]})]}),t.length===0?m.jsxs("div",{"code-path":"src/components/AutoScheduler.tsx:392:9",className:"text-center py-12 text-slate-500",children:[m.jsx(l6,{"code-path":"src/components/AutoScheduler.tsx:393:11",className:"w-12 h-12 mx-auto mb-3 opacity-50"}),m.jsx("p",{"code-path":"src/components/AutoScheduler.tsx:394:11",children:""})]}):m.jsxs(m.Fragment,{children:[m.jsx("div",{"code-path":"src/components/AutoScheduler.tsx:398:11",className:"space-y-6 max-h-[500px] overflow-y-auto",children:Object.entries(s).map(([o,l])=>m.jsxs("div",{"code-path":"src/components/AutoScheduler.tsx:400:15",children:[m.jsx("h4",{"code-path":"src/components/AutoScheduler.tsx:401:17",className:"text-sm font-medium text-slate-400 mb-3 sticky top-0 bg-slate-900 py-2",children:o}),m.jsx("div",{"code-path":"src/components/AutoScheduler.tsx:404:17",className:"space-y-2",children:l.map(u=>m.jsxs(ve.div,{"code-path":"src/components/AutoScheduler.tsx:406:21",initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`
                        p-3 rounded-lg border
                        ${u.conflicts?.length?"border-red-500/50 bg-red-500/10":"border-slate-700 bg-slate-800"}
                      `,children:[m.jsxs("div",{"code-path":"src/components/AutoScheduler.tsx:417:23",className:"flex items-center justify-between",children:[m.jsxs("div",{"code-path":"src/components/AutoScheduler.tsx:418:25",className:"flex items-center gap-3",children:[m.jsxs("span",{"code-path":"src/components/AutoScheduler.tsx:419:27",className:"text-sm text-slate-500",children:[u.startTime.toLocaleTimeString("zh-TW",{hour:"2-digit",minute:"2-digit"})," - ",u.endTime.toLocaleTimeString("zh-TW",{hour:"2-digit",minute:"2-digit"})]}),m.jsx("span",{"code-path":"src/components/AutoScheduler.tsx:424:27",className:"px-2 py-0.5 bg-slate-700 rounded text-xs text-slate-300",children:u.court.name})]}),u.conflicts?.length?m.jsx(wS,{"code-path":"src/components/AutoScheduler.tsx:429:27",className:"w-4 h-4 text-red-400"}):m.jsx(ao,{"code-path":"src/components/AutoScheduler.tsx:431:27",className:"w-4 h-4 text-emerald-400"})]}),m.jsxs("div",{"code-path":"src/components/AutoScheduler.tsx:434:23",className:"flex items-center gap-2 mt-2",children:[m.jsx("span",{"code-path":"src/components/AutoScheduler.tsx:435:25",className:"text-white font-medium",children:u.teamA.name}),m.jsx("span",{"code-path":"src/components/AutoScheduler.tsx:436:25",className:"text-slate-500",children:"vs"}),m.jsx("span",{"code-path":"src/components/AutoScheduler.tsx:437:25",className:"text-white font-medium",children:u.teamB.name})]}),u.conflicts?.map((d,f)=>m.jsxs("p",{"code-path":"src/components/AutoScheduler.tsx:440:25",className:"text-xs text-red-400 mt-1",children:[" ",d]},f))]},u.id))})]},o))}),m.jsxs("div",{"code-path":"src/components/AutoScheduler.tsx:451:11",className:"flex gap-3 pt-4 border-t border-slate-700",children:[m.jsxs(De,{"code-path":"src/components/AutoScheduler.tsx:452:13",variant:"ghost",onClick:e,className:"flex-1",children:[m.jsx(nre,{"code-path":"src/components/AutoScheduler.tsx:457:15",className:"w-4 h-4 mr-1"}),""]}),m.jsxs(De,{"code-path":"src/components/AutoScheduler.tsx:460:13",onClick:i,className:"flex-1 bg-orange-500 hover:bg-orange-600",disabled:r>0,children:[m.jsx(ao,{"code-path":"src/components/AutoScheduler.tsx:465:15",className:"w-4 h-4 mr-1"}),""]})]})]})]})}function ple({teams:t=lle,courts:e=cle}){const[n,s]=_.useState({startDate:new Date().toISOString().split("T")[0],startTime:"09:00",endTime:"18:00",gameDuration:30,breakDuration:10,lunchBreak:{start:"12:00",end:"13:00"},maxGamesPerTeam:3,restBetweenGames:30}),[r,i]=_.useState([]),[o,l]=_.useState(!1),{addToast:u}=Gr(),d=()=>{l(!0),setTimeout(()=>{const f=ule(t,e,n),p=dle(f);i(p),l(!1);const y=p.filter(x=>x.conflicts?.length).length;u({title:"",description:y>0?` ${y} `:"",variant:y>0?"warning":"success"})},1e3)};return m.jsxs("div",{"code-path":"src/components/AutoScheduler.tsx:525:5",className:"h-full flex flex-col bg-slate-950",children:[m.jsx("div",{"code-path":"src/components/AutoScheduler.tsx:527:7",className:"p-4 border-b border-slate-800",children:m.jsxs("div",{"code-path":"src/components/AutoScheduler.tsx:528:9",className:"flex items-center justify-between",children:[m.jsxs("div",{"code-path":"src/components/AutoScheduler.tsx:529:11",className:"flex items-center gap-3",children:[m.jsx("div",{"code-path":"src/components/AutoScheduler.tsx:530:13",className:"w-10 h-10 rounded-lg bg-orange-500/20 flex items-center justify-center",children:m.jsx(u2,{"code-path":"src/components/AutoScheduler.tsx:531:15",className:"w-5 h-5 text-orange-500"})}),m.jsxs("div",{"code-path":"src/components/AutoScheduler.tsx:533:13",children:[m.jsx("h2",{"code-path":"src/components/AutoScheduler.tsx:534:15",className:"text-xl font-bold text-white",children:""}),m.jsx("p",{"code-path":"src/components/AutoScheduler.tsx:535:15",className:"text-sm text-slate-400",children:""})]})]}),m.jsxs(De,{"code-path":"src/components/AutoScheduler.tsx:538:11",onClick:d,disabled:o,className:"bg-orange-500 hover:bg-orange-600",children:[o?m.jsx(ve.div,{"code-path":"src/components/AutoScheduler.tsx:544:15",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full mr-2"}):m.jsx(l6,{"code-path":"src/components/AutoScheduler.tsx:550:15",className:"w-4 h-4 mr-2"}),o?"...":""]})]})}),m.jsx("div",{"code-path":"src/components/AutoScheduler.tsx:558:7",className:"flex-1 overflow-hidden",children:m.jsxs("div",{"code-path":"src/components/AutoScheduler.tsx:559:9",className:"h-full grid grid-cols-2 gap-0",children:[m.jsx("div",{"code-path":"src/components/AutoScheduler.tsx:561:11",className:"h-full overflow-y-auto p-6 border-r border-slate-800",children:m.jsx(hle,{"code-path":"src/components/AutoScheduler.tsx:562:13",config:n,onChange:s})}),m.jsx("div",{"code-path":"src/components/AutoScheduler.tsx:566:11",className:"h-full overflow-y-auto p-6",children:m.jsx(fle,{"code-path":"src/components/AutoScheduler.tsx:567:13",matches:r,onRegenerate:d})})]})}),r.length>0&&m.jsx("div",{"code-path":"src/components/AutoScheduler.tsx:577:9",className:"p-4 border-t border-slate-800 bg-slate-900",children:m.jsxs("div",{"code-path":"src/components/AutoScheduler.tsx:578:11",className:"flex items-center justify-center gap-8 text-sm",children:[m.jsxs("div",{"code-path":"src/components/AutoScheduler.tsx:579:13",className:"flex items-center gap-2",children:[m.jsx(Ss,{"code-path":"src/components/AutoScheduler.tsx:580:15",className:"w-4 h-4 text-slate-400"}),m.jsx("span",{"code-path":"src/components/AutoScheduler.tsx:581:15",className:"text-slate-400",children:""}),m.jsx("span",{"code-path":"src/components/AutoScheduler.tsx:582:15",className:"text-white font-medium",children:t.length})]}),m.jsxs("div",{"code-path":"src/components/AutoScheduler.tsx:584:13",className:"flex items-center gap-2",children:[m.jsx(fh,{"code-path":"src/components/AutoScheduler.tsx:585:15",className:"w-4 h-4 text-slate-400"}),m.jsx("span",{"code-path":"src/components/AutoScheduler.tsx:586:15",className:"text-slate-400",children:""}),m.jsx("span",{"code-path":"src/components/AutoScheduler.tsx:587:15",className:"text-white font-medium",children:e.length})]}),m.jsxs("div",{"code-path":"src/components/AutoScheduler.tsx:589:13",className:"flex items-center gap-2",children:[m.jsx(vi,{"code-path":"src/components/AutoScheduler.tsx:590:15",className:"w-4 h-4 text-slate-400"}),m.jsx("span",{"code-path":"src/components/AutoScheduler.tsx:591:15",className:"text-slate-400",children:""}),m.jsx("span",{"code-path":"src/components/AutoScheduler.tsx:592:15",className:"text-white font-medium",children:r.length})]}),m.jsxs("div",{"code-path":"src/components/AutoScheduler.tsx:594:13",className:"flex items-center gap-2",children:[m.jsx(Zc,{"code-path":"src/components/AutoScheduler.tsx:595:15",className:"w-4 h-4 text-slate-400"}),m.jsx("span",{"code-path":"src/components/AutoScheduler.tsx:596:15",className:"text-slate-400",children:""}),m.jsx("span",{"code-path":"src/components/AutoScheduler.tsx:597:15",className:"text-white font-medium",children:new Set(r.map(f=>f.startTime.toDateString())).size})]})]})})]})}var Ow={exports:{}},jw={};var MD;function mle(){if(MD)return jw;MD=1;var t=Jp();function e(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var n=typeof Object.is=="function"?Object.is:e,s=t.useState,r=t.useEffect,i=t.useLayoutEffect,o=t.useDebugValue;function l(p,y){var x=y(),w=s({inst:{value:x,getSnapshot:y}}),T=w[0].inst,S=w[1];return i(function(){T.value=x,T.getSnapshot=y,u(T)&&S({inst:T})},[p,x,y]),r(function(){return u(T)&&S({inst:T}),p(function(){u(T)&&S({inst:T})})},[p]),o(x),x}function u(p){var y=p.getSnapshot;p=p.value;try{var x=y();return!n(p,x)}catch{return!0}}function d(p,y){return y()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return jw.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,jw}var ID;function a9(){return ID||(ID=1,Ow.exports=mle()),Ow.exports}var l9=a9();function es(t){this.content=t}es.prototype={constructor:es,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var s=n&&n!=t?this.remove(n):this,r=s.find(t),i=s.content.slice();return r==-1?i.push(n||t,e):(i[r+1]=e,n&&(i[r]=n)),new es(i)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new es(n)},addToStart:function(t,e){return new es([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new es(n)},addBefore:function(t,e,n){var s=this.remove(e),r=s.content.slice(),i=s.find(t);return r.splice(i==-1?r.length:i,0,e,n),new es(r)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=es.from(t),t.size?new es(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=es.from(t),t.size?new es(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=es.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};es.from=function(t){if(t instanceof es)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new es(e)};function c9(t,e,n){for(let s=0;;s++){if(s==t.childCount||s==e.childCount)return t.childCount==e.childCount?null:n;let r=t.child(s),i=e.child(s);if(r==i){n+=r.nodeSize;continue}if(!r.sameMarkup(i))return n;if(r.isText&&r.text!=i.text){for(let o=0;r.text[o]==i.text[o];o++)n++;return n}if(r.content.size||i.content.size){let o=c9(r.content,i.content,n+1);if(o!=null)return o}n+=r.nodeSize}}function u9(t,e,n,s){for(let r=t.childCount,i=e.childCount;;){if(r==0||i==0)return r==i?null:{a:n,b:s};let o=t.child(--r),l=e.child(--i),u=o.nodeSize;if(o==l){n-=u,s-=u;continue}if(!o.sameMarkup(l))return{a:n,b:s};if(o.isText&&o.text!=l.text){let d=0,f=Math.min(o.text.length,l.text.length);for(;d<f&&o.text[o.text.length-d-1]==l.text[l.text.length-d-1];)d++,n--,s--;return{a:n,b:s}}if(o.content.size||l.content.size){let d=u9(o.content,l.content,n-1,s-1);if(d)return d}n-=u,s-=u}}class fe{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let s=0;s<e.length;s++)this.size+=e[s].nodeSize}nodesBetween(e,n,s,r=0,i){for(let o=0,l=0;l<n;o++){let u=this.content[o],d=l+u.nodeSize;if(d>e&&s(u,r+l,i||null,o)!==!1&&u.content.size){let f=l+1;u.nodesBetween(Math.max(0,e-f),Math.min(u.content.size,n-f),s,r+f)}l=d}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,s,r){let i="",o=!0;return this.nodesBetween(e,n,(l,u)=>{let d=l.isText?l.text.slice(Math.max(e,u)-u,n-u):l.isLeaf?r?typeof r=="function"?r(l):r:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&d||l.isTextblock)&&s&&(o?o=!1:i+=s),i+=d},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,s=e.firstChild,r=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(s)&&(r[r.length-1]=n.withText(n.text+s.text),i=1);i<e.content.length;i++)r.push(e.content[i]);return new fe(r,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let s=[],r=0;if(n>e)for(let i=0,o=0;o<n;i++){let l=this.content[i],u=o+l.nodeSize;u>e&&((o<e||u>n)&&(l.isText?l=l.cut(Math.max(0,e-o),Math.min(l.text.length,n-o)):l=l.cut(Math.max(0,e-o-1),Math.min(l.content.size,n-o-1))),s.push(l),r+=l.nodeSize),o=u}return new fe(s,r)}cutByIndex(e,n){return e==n?fe.empty:e==0&&n==this.content.length?this:new fe(this.content.slice(e,n))}replaceChild(e,n){let s=this.content[e];if(s==n)return this;let r=this.content.slice(),i=this.size+n.nodeSize-s.nodeSize;return r[e]=n,new fe(r,i)}addToStart(e){return new fe([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new fe(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,s=0;n<this.content.length;n++){let r=this.content[n];e(r,s,n),s+=r.nodeSize}}findDiffStart(e,n=0){return c9(this,e,n)}findDiffEnd(e,n=this.size,s=e.size){return u9(this,e,n,s)}findIndex(e){if(e==0)return hy(0,e);if(e==this.size)return hy(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,s=0;;n++){let r=this.child(n),i=s+r.nodeSize;if(i>=e)return i==e?hy(n+1,i):hy(n,s);s=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return fe.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new fe(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return fe.empty;let n,s=0;for(let r=0;r<e.length;r++){let i=e[r];s+=i.nodeSize,r&&i.isText&&e[r-1].sameMarkup(i)?(n||(n=e.slice(0,r)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new fe(n||e,s)}static from(e){if(!e)return fe.empty;if(e instanceof fe)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new fe([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}fe.empty=new fe([],0);const Lw={index:0,offset:0};function hy(t,e){return Lw.index=t,Lw.offset=e,Lw}function G0(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let s=0;s<t.length;s++)if(!G0(t[s],e[s]))return!1}else{for(let s in t)if(!(s in e)||!G0(t[s],e[s]))return!1;for(let s in e)if(!(s in t))return!1}return!0}let Nt=class kS{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,s=!1;for(let r=0;r<e.length;r++){let i=e[r];if(this.eq(i))return e;if(this.type.excludes(i.type))n||(n=e.slice(0,r));else{if(i.type.excludes(this.type))return e;!s&&i.type.rank>this.type.rank&&(n||(n=e.slice(0,r)),n.push(this),s=!0),n&&n.push(i)}}return n||(n=e.slice()),s||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&G0(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let s=e.marks[n.type];if(!s)throw new RangeError(`There is no mark type ${n.type} in this schema`);let r=s.create(n.attrs);return s.checkAttrs(r.attrs),r}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let s=0;s<e.length;s++)if(!e[s].eq(n[s]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return kS.none;if(e instanceof kS)return[e];let n=e.slice();return n.sort((s,r)=>s.type.rank-r.type.rank),n}};Nt.none=[];class Y0 extends Error{}class we{constructor(e,n,s){this.content=e,this.openStart=n,this.openEnd=s}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let s=h9(this.content,e+this.openStart,n);return s&&new we(s,this.openStart,this.openEnd)}removeBetween(e,n){return new we(d9(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return we.empty;let s=n.openStart||0,r=n.openEnd||0;if(typeof s!="number"||typeof r!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new we(fe.fromJSON(e,n.content),s,r)}static maxOpen(e,n=!0){let s=0,r=0;for(let i=e.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)s++;for(let i=e.lastChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.lastChild)r++;return new we(e,s,r)}}we.empty=new we(fe.empty,0,0);function d9(t,e,n){let{index:s,offset:r}=t.findIndex(e),i=t.maybeChild(s),{index:o,offset:l}=t.findIndex(n);if(r==e||i.isText){if(l!=n&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(s!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(s,i.copy(d9(i.content,e-r-1,n-r-1)))}function h9(t,e,n,s){let{index:r,offset:i}=t.findIndex(e),o=t.maybeChild(r);if(i==e||o.isText)return s&&!s.canReplace(r,r,n)?null:t.cut(0,e).append(n).append(t.cut(e));let l=h9(o.content,e-i-1,n,o);return l&&t.replaceChild(r,o.copy(l))}function gle(t,e,n){if(n.openStart>t.depth)throw new Y0("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Y0("Inconsistent open depths");return f9(t,e,n,0)}function f9(t,e,n,s){let r=t.index(s),i=t.node(s);if(r==e.index(s)&&s<t.depth-n.openStart){let o=f9(t,e,n,s+1);return i.copy(i.content.replaceChild(r,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==s&&e.depth==s){let o=t.parent,l=o.content;return Bc(o,l.cut(0,t.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}else{let{start:o,end:l}=yle(n,t);return Bc(i,m9(t,o,l,e,s))}else return Bc(i,X0(t,e,s))}function p9(t,e){if(!e.type.compatibleContent(t.type))throw new Y0("Cannot join "+e.type.name+" onto "+t.type.name)}function NS(t,e,n){let s=t.node(n);return p9(s,e.node(n)),s}function zc(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function lp(t,e,n,s){let r=(e||t).node(n),i=0,o=e?e.index(n):r.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(zc(t.nodeAfter,s),i++));for(let l=i;l<o;l++)zc(r.child(l),s);e&&e.depth==n&&e.textOffset&&zc(e.nodeBefore,s)}function Bc(t,e){return t.type.checkContent(e),t.copy(e)}function m9(t,e,n,s,r){let i=t.depth>r&&NS(t,e,r+1),o=s.depth>r&&NS(n,s,r+1),l=[];return lp(null,t,r,l),i&&o&&e.index(r)==n.index(r)?(p9(i,o),zc(Bc(i,m9(t,e,n,s,r+1)),l)):(i&&zc(Bc(i,X0(t,e,r+1)),l),lp(e,n,r,l),o&&zc(Bc(o,X0(n,s,r+1)),l)),lp(s,null,r,l),new fe(l)}function X0(t,e,n){let s=[];if(lp(null,t,n,s),t.depth>n){let r=NS(t,e,n+1);zc(Bc(r,X0(t,e,n+1)),s)}return lp(e,null,n,s),new fe(s)}function yle(t,e){let n=e.depth-t.openStart,r=e.node(n).copy(t.content);for(let i=n-1;i>=0;i--)r=e.node(i).copy(fe.from(r));return{start:r.resolveNoCache(t.openStart+n),end:r.resolveNoCache(r.content.size-t.openEnd-n)}}class zp{constructor(e,n,s){this.pos=e,this.path=n,this.parentOffset=s,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let s=this.pos-this.path[this.path.length-1],r=e.child(n);return s?e.child(n).cut(s):r}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let s=this.path[n*3],r=n==0?0:this.path[n*3-1]+1;for(let i=0;i<e;i++)r+=s.child(i).nodeSize;return r}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Nt.none;if(this.textOffset)return e.child(n).marks;let s=e.maybeChild(n-1),r=e.maybeChild(n);if(!s){let l=s;s=r,r=l}let i=s.marks;for(var o=0;o<i.length;o++)i[o].type.spec.inclusive===!1&&(!r||!i[o].isInSet(r.marks))&&(i=i[o--].removeFromSet(i));return i}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let s=n.marks,r=e.parent.maybeChild(e.index());for(var i=0;i<s.length;i++)s[i].type.spec.inclusive===!1&&(!r||!s[i].isInSet(r.marks))&&(s=s[i--].removeFromSet(s));return s}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let s=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);s>=0;s--)if(e.pos<=this.end(s)&&(!n||n(this.node(s))))return new Q0(this,e,s);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let s=[],r=0,i=n;for(let o=e;;){let{index:l,offset:u}=o.content.findIndex(i),d=i-u;if(s.push(o,l,r+u),!d||(o=o.child(l),o.isText))break;i=d-1,r+=u+1}return new zp(n,s,i)}static resolveCached(e,n){let s=DD.get(e);if(s)for(let i=0;i<s.elts.length;i++){let o=s.elts[i];if(o.pos==n)return o}else DD.set(e,s=new xle);let r=s.elts[s.i]=zp.resolve(e,n);return s.i=(s.i+1)%vle,r}}class xle{constructor(){this.elts=[],this.i=0}}const vle=12,DD=new WeakMap;class Q0{constructor(e,n,s){this.$from=e,this.$to=n,this.depth=s}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const ble=Object.create(null);let vl=class RS{constructor(e,n,s,r=Nt.none){this.type=e,this.attrs=n,this.marks=r,this.content=s||fe.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,s,r=0){this.content.nodesBetween(e,n,s,r,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,s,r){return this.content.textBetween(e,n,s,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,s){return this.type==e&&G0(this.attrs,n||e.defaultAttrs||ble)&&Nt.sameSet(this.marks,s||Nt.none)}copy(e=null){return e==this.content?this:new RS(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new RS(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,s=!1){if(e==n)return we.empty;let r=this.resolve(e),i=this.resolve(n),o=s?0:r.sharedDepth(n),l=r.start(o),d=r.node(o).content.cut(r.pos-l,i.pos-l);return new we(d,r.depth-o,i.depth-o)}replace(e,n,s){return gle(this.resolve(e),this.resolve(n),s)}nodeAt(e){for(let n=this;;){let{index:s,offset:r}=n.content.findIndex(e);if(n=n.maybeChild(s),!n)return null;if(r==e||n.isText)return n;e-=r+1}}childAfter(e){let{index:n,offset:s}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:s}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:s}=this.content.findIndex(e);if(s<e)return{node:this.content.child(n),index:n,offset:s};let r=this.content.child(n-1);return{node:r,index:n-1,offset:s-r.nodeSize}}resolve(e){return zp.resolveCached(this,e)}resolveNoCache(e){return zp.resolve(this,e)}rangeHasMark(e,n,s){let r=!1;return n>e&&this.nodesBetween(e,n,i=>(s.isInSet(i.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),g9(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,s=fe.empty,r=0,i=s.childCount){let o=this.contentMatchAt(e).matchFragment(s,r,i),l=o&&o.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let u=r;u<i;u++)if(!this.type.allowsMarks(s.child(u).marks))return!1;return!0}canReplaceWith(e,n,s,r){if(r&&!this.type.allowsMarks(r))return!1;let i=this.contentMatchAt(e).matchType(s),o=i&&i.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Nt.none;for(let n=0;n<this.marks.length;n++){let s=this.marks[n];s.type.checkAttrs(s.attrs),e=s.addToSet(e)}if(!Nt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let s;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");s=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,s)}let r=fe.fromJSON(e,n.content),i=e.nodeType(n.type).create(n.attrs,r,s);return i.type.checkAttrs(i.attrs),i}};vl.prototype.text=void 0;class J0 extends vl{constructor(e,n,s,r){if(super(e,n,null,r),!s)throw new RangeError("Empty text nodes are not allowed");this.text=s}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):g9(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new J0(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new J0(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function g9(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class eu{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let s=new wle(e,n);if(s.next==null)return eu.empty;let r=y9(s);s.next&&s.err("Unexpected trailing text");let i=kle(Cle(r));return Nle(i,s),i}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,s=e.childCount){let r=this;for(let i=n;r&&i<s;i++)r=r.matchType(e.child(i).type);return r}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let s=0;s<e.next.length;s++)if(this.next[n].type==e.next[s].type)return!0;return!1}fillBefore(e,n=!1,s=0){let r=[this];function i(o,l){let u=o.matchFragment(e,s);if(u&&(!n||u.validEnd))return fe.from(l.map(d=>d.createAndFill()));for(let d=0;d<o.next.length;d++){let{type:f,next:p}=o.next[d];if(!(f.isText||f.hasRequiredAttrs())&&r.indexOf(p)==-1){r.push(p);let y=i(p,l.concat(f));if(y)return y}}return null}return i(this,[])}findWrapping(e){for(let s=0;s<this.wrapCache.length;s+=2)if(this.wrapCache[s]==e)return this.wrapCache[s+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),s=[{match:this,type:null,via:null}];for(;s.length;){let r=s.shift(),i=r.match;if(i.matchType(e)){let o=[];for(let l=r;l.type;l=l.via)o.push(l.type);return o.reverse()}for(let o=0;o<i.next.length;o++){let{type:l,next:u}=i.next[o];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!r.type||u.validEnd)&&(s.push({match:l.contentMatch,type:l,via:r}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(s){e.push(s);for(let r=0;r<s.next.length;r++)e.indexOf(s.next[r].next)==-1&&n(s.next[r].next)}return n(this),e.map((s,r)=>{let i=r+(s.validEnd?"*":" ")+" ";for(let o=0;o<s.next.length;o++)i+=(o?", ":"")+s.next[o].type.name+"->"+e.indexOf(s.next[o].next);return i}).join(`
`)}}eu.empty=new eu(!0);class wle{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function y9(t){let e=[];do e.push(Ele(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Ele(t){let e=[];do e.push(Sle(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Sle(t){let e=Ale(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=Tle(t,e);else break;return e}function PD(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function Tle(t,e){let n=PD(t),s=n;return t.eat(",")&&(t.next!="}"?s=PD(t):s=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:s,expr:e}}function _le(t,e){let n=t.nodeTypes,s=n[e];if(s)return[s];let r=[];for(let i in n){let o=n[i];o.isInGroup(e)&&r.push(o)}return r.length==0&&t.err("No node type or group '"+e+"' found"),r}function Ale(t){if(t.eat("(")){let e=y9(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=_le(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function Cle(t){let e=[[]];return r(i(t,0),n()),e;function n(){return e.push([])-1}function s(o,l,u){let d={term:u,to:l};return e[o].push(d),d}function r(o,l){o.forEach(u=>u.to=l)}function i(o,l){if(o.type=="choice")return o.exprs.reduce((u,d)=>u.concat(i(d,l)),[]);if(o.type=="seq")for(let u=0;;u++){let d=i(o.exprs[u],l);if(u==o.exprs.length-1)return d;r(d,l=n())}else if(o.type=="star"){let u=n();return s(l,u),r(i(o.expr,u),u),[s(u)]}else if(o.type=="plus"){let u=n();return r(i(o.expr,l),u),r(i(o.expr,u),u),[s(u)]}else{if(o.type=="opt")return[s(l)].concat(i(o.expr,l));if(o.type=="range"){let u=l;for(let d=0;d<o.min;d++){let f=n();r(i(o.expr,u),f),u=f}if(o.max==-1)r(i(o.expr,u),u);else for(let d=o.min;d<o.max;d++){let f=n();s(u,f),r(i(o.expr,u),f),u=f}return[s(u)]}else{if(o.type=="name")return[s(l,void 0,o.value)];throw new Error("Unknown expr type")}}}}function x9(t,e){return e-t}function OD(t,e){let n=[];return s(e),n.sort(x9);function s(r){let i=t[r];if(i.length==1&&!i[0].term)return s(i[0].to);n.push(r);for(let o=0;o<i.length;o++){let{term:l,to:u}=i[o];!l&&n.indexOf(u)==-1&&s(u)}}}function kle(t){let e=Object.create(null);return n(OD(t,0));function n(s){let r=[];s.forEach(o=>{t[o].forEach(({term:l,to:u})=>{if(!l)return;let d;for(let f=0;f<r.length;f++)r[f][0]==l&&(d=r[f][1]);OD(t,u).forEach(f=>{d||r.push([l,d=[]]),d.indexOf(f)==-1&&d.push(f)})})});let i=e[s.join(",")]=new eu(s.indexOf(t.length-1)>-1);for(let o=0;o<r.length;o++){let l=r[o][1].sort(x9);i.next.push({type:r[o][0],next:e[l.join(",")]||n(l)})}return i}}function Nle(t,e){for(let n=0,s=[t];n<s.length;n++){let r=s[n],i=!r.validEnd,o=[];for(let l=0;l<r.next.length;l++){let{type:u,next:d}=r.next[l];o.push(u.name),i&&!(u.isText||u.hasRequiredAttrs())&&(i=!1),s.indexOf(d)==-1&&s.push(d)}i&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function v9(t){let e=Object.create(null);for(let n in t){let s=t[n];if(!s.hasDefault)return null;e[n]=s.default}return e}function b9(t,e){let n=Object.create(null);for(let s in t){let r=e&&e[s];if(r===void 0){let i=t[s];if(i.hasDefault)r=i.default;else throw new RangeError("No value supplied for attribute "+s)}n[s]=r}return n}function w9(t,e,n,s){for(let r in e)if(!(r in t))throw new RangeError(`Unsupported attribute ${r} for ${n} of type ${r}`);for(let r in t){let i=t[r];i.validate&&i.validate(e[r])}}function E9(t,e){let n=Object.create(null);if(e)for(let s in e)n[s]=new Mle(t,s,e[s]);return n}let jD=class S9{constructor(e,n,s){this.name=e,this.schema=n,this.spec=s,this.markSet=null,this.groups=s.group?s.group.split(" "):[],this.attrs=E9(e,s.attrs),this.defaultAttrs=v9(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(s.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==eu.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:b9(this.attrs,e)}create(e=null,n,s){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new vl(this,this.computeAttrs(e),fe.from(n),Nt.setFrom(s))}createChecked(e=null,n,s){return n=fe.from(n),this.checkContent(n),new vl(this,this.computeAttrs(e),n,Nt.setFrom(s))}createAndFill(e=null,n,s){if(e=this.computeAttrs(e),n=fe.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let r=this.contentMatch.matchFragment(n),i=r&&r.fillBefore(fe.empty,!0);return i?new vl(this,e,n.append(i),Nt.setFrom(s)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let s=0;s<e.childCount;s++)if(!this.allowsMarks(e.child(s).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){w9(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let s=0;s<e.length;s++)this.allowsMarkType(e[s].type)?n&&n.push(e[s]):n||(n=e.slice(0,s));return n?n.length?n:Nt.none:e}static compile(e,n){let s=Object.create(null);e.forEach((i,o)=>s[i]=new S9(i,n,o));let r=n.spec.topNode||"doc";if(!s[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!s.text)throw new RangeError("Every schema needs a 'text' type");for(let i in s.text.attrs)throw new RangeError("The text node type should not have attributes");return s}};function Rle(t,e,n){let s=n.split("|");return r=>{let i=r===null?"null":typeof r;if(s.indexOf(i)<0)throw new RangeError(`Expected value of type ${s} for attribute ${e} on type ${t}, got ${i}`)}}class Mle{constructor(e,n,s){this.hasDefault=Object.prototype.hasOwnProperty.call(s,"default"),this.default=s.default,this.validate=typeof s.validate=="string"?Rle(e,n,s.validate):s.validate}get isRequired(){return!this.hasDefault}}class Av{constructor(e,n,s,r){this.name=e,this.rank=n,this.schema=s,this.spec=r,this.attrs=E9(e,r.attrs),this.excluded=null;let i=v9(this.attrs);this.instance=i?new Nt(this,i):null}create(e=null){return!e&&this.instance?this.instance:new Nt(this,b9(this.attrs,e))}static compile(e,n){let s=Object.create(null),r=0;return e.forEach((i,o)=>s[i]=new Av(i,r++,n,o)),s}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){w9(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class T9{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let r in e)n[r]=e[r];n.nodes=es.from(e.nodes),n.marks=es.from(e.marks||{}),this.nodes=jD.compile(this.spec.nodes,this),this.marks=Av.compile(this.spec.marks,this);let s=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let i=this.nodes[r],o=i.spec.content||"",l=i.spec.marks;if(i.contentMatch=s[o]||(s[o]=eu.parse(o,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=l=="_"?null:l?LD(this,l.split(" ")):l==""||!i.inlineContent?[]:null}for(let r in this.marks){let i=this.marks[r],o=i.spec.excludes;i.excluded=o==null?[i]:o==""?[]:LD(this,o.split(" "))}this.nodeFromJSON=r=>vl.fromJSON(this,r),this.markFromJSON=r=>Nt.fromJSON(this,r),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,s,r){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof jD){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,s,r)}text(e,n){let s=this.nodes.text;return new J0(s,s.defaultAttrs,e,Nt.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function LD(t,e){let n=[];for(let s=0;s<e.length;s++){let r=e[s],i=t.marks[r],o=i;if(i)n.push(i);else for(let l in t.marks){let u=t.marks[l];(r=="_"||u.spec.group&&u.spec.group.split(" ").indexOf(r)>-1)&&n.push(o=u)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[s]+"'")}return n}function Ile(t){return t.tag!=null}function Dle(t){return t.style!=null}class bl{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let s=this.matchedStyles=[];n.forEach(r=>{if(Ile(r))this.tags.push(r);else if(Dle(r)){let i=/[^=]*/.exec(r.style)[0];s.indexOf(i)<0&&s.push(i),this.styles.push(r)}}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let i=e.nodes[r.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let s=new zD(this,n,!1);return s.addAll(e,Nt.none,n.from,n.to),s.finish()}parseSlice(e,n={}){let s=new zD(this,n,!0);return s.addAll(e,Nt.none,n.from,n.to),we.maxOpen(s.finish())}matchTag(e,n,s){for(let r=s?this.tags.indexOf(s)+1:0;r<this.tags.length;r++){let i=this.tags[r];if(jle(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||n.matchesContext(i.context))){if(i.getAttrs){let o=i.getAttrs(e);if(o===!1)continue;i.attrs=o||void 0}return i}}}matchStyle(e,n,s,r){for(let i=r?this.styles.indexOf(r)+1:0;i<this.styles.length;i++){let o=this.styles[i],l=o.style;if(!(l.indexOf(e)!=0||o.context&&!s.matchesContext(o.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=n))){if(o.getAttrs){let u=o.getAttrs(n);if(u===!1)continue;o.attrs=u||void 0}return o}}}static schemaRules(e){let n=[];function s(r){let i=r.priority==null?50:r.priority,o=0;for(;o<n.length;o++){let l=n[o];if((l.priority==null?50:l.priority)<i)break}n.splice(o,0,r)}for(let r in e.marks){let i=e.marks[r].spec.parseDOM;i&&i.forEach(o=>{s(o=BD(o)),o.mark||o.ignore||o.clearMark||(o.mark=r)})}for(let r in e.nodes){let i=e.nodes[r].spec.parseDOM;i&&i.forEach(o=>{s(o=BD(o)),o.node||o.ignore||o.mark||(o.node=r)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new bl(e,bl.schemaRules(e)))}}const _9={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Ple={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},A9={ol:!0,ul:!0},Bp=1,MS=2,cp=4;function VD(t,e,n){return e!=null?(e?Bp:0)|(e==="full"?MS:0):t&&t.whitespace=="pre"?Bp|MS:n&~cp}class fy{constructor(e,n,s,r,i,o){this.type=e,this.attrs=n,this.marks=s,this.solid=r,this.options=o,this.content=[],this.activeMarks=Nt.none,this.match=i||(o&cp?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(fe.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let s=this.type.contentMatch,r;return(r=s.findWrapping(e.type))?(this.match=s,r):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Bp)){let s=this.content[this.content.length-1],r;if(s&&s.isText&&(r=/[ \t\r\n\u000c]+$/.exec(s.text))){let i=s;s.text.length==r[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-r[0].length))}}let n=fe.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(fe.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!_9.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class zD{constructor(e,n,s){this.parser=e,this.options=n,this.isOpen=s,this.open=0,this.localPreserveWS=!1;let r=n.topNode,i,o=VD(null,n.preserveWhitespace,0)|(s?cp:0);r?i=new fy(r.type,r.attrs,Nt.none,!0,n.topMatch||r.type.contentMatch,o):s?i=new fy(null,null,Nt.none,!0,null,o):i=new fy(e.schema.topNodeType,null,Nt.none,!0,null,o),this.nodes=[i],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let s=e.nodeValue,r=this.top,i=r.options&MS?"full":this.localPreserveWS||(r.options&Bp)>0,{schema:o}=this.parser;if(i==="full"||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(s)){if(i)if(i==="full")s=s.replace(/\r\n?/g,`
`);else if(o.linebreakReplacement&&/[\r\n]/.test(s)&&this.top.findWrapping(o.linebreakReplacement.create())){let l=s.split(/\r?\n|\r/);for(let u=0;u<l.length;u++)u&&this.insertNode(o.linebreakReplacement.create(),n,!0),l[u]&&this.insertNode(o.text(l[u]),n,!/\S/.test(l[u]));s=""}else s=s.replace(/\r?\n|\r/g," ");else if(s=s.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(s)&&this.open==this.nodes.length-1){let l=r.content[r.content.length-1],u=e.previousSibling;(!l||u&&u.nodeName=="BR"||l.isText&&/[ \t\r\n\u000c]$/.test(l.text))&&(s=s.slice(1))}s&&this.insertNode(o.text(s),n,!/\S/.test(s)),this.findInText(e)}else this.findInside(e)}addElement(e,n,s){let r=this.localPreserveWS,i=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),l;A9.hasOwnProperty(o)&&this.parser.normalizeLists&&Ole(e);let u=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(l=this.parser.matchTag(e,this,s));e:if(u?u.ignore:Ple.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,n);else if(!u||u.skip||u.closeParent){u&&u.closeParent?this.open=Math.max(0,this.open-1):u&&u.skip.nodeType&&(e=u.skip);let d,f=this.needsBlock;if(_9.hasOwnProperty(o))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),d=!0,i.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let p=u&&u.skip?n:this.readStyles(e,n);p&&this.addAll(e,p),d&&this.sync(i),this.needsBlock=f}else{let d=this.readStyles(e,n);d&&this.addElementByRule(e,u,d,u.consuming===!1?l:void 0)}this.localPreserveWS=r}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let s=e.style;if(s&&s.length)for(let r=0;r<this.parser.matchedStyles.length;r++){let i=this.parser.matchedStyles[r],o=s.getPropertyValue(i);if(o)for(let l=void 0;;){let u=this.parser.matchStyle(i,o,this,l);if(!u)break;if(u.ignore)return null;if(u.clearMark?n=n.filter(d=>!u.clearMark(d)):n=n.concat(this.parser.schema.marks[u.mark].create(u.attrs)),u.consuming===!1)l=u;else break}}return n}addElementByRule(e,n,s,r){let i,o;if(n.node)if(o=this.parser.schema.nodes[n.node],o.isLeaf)this.insertNode(o.create(n.attrs),s,e.nodeName=="BR")||this.leafFallback(e,s);else{let u=this.enter(o,n.attrs||null,s,n.preserveWhitespace);u&&(i=!0,s=u)}else{let u=this.parser.schema.marks[n.mark];s=s.concat(u.create(n.attrs))}let l=this.top;if(o&&o.isLeaf)this.findInside(e);else if(r)this.addElement(e,s,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(u=>this.insertNode(u,s,!1));else{let u=e;typeof n.contentElement=="string"?u=e.querySelector(n.contentElement):typeof n.contentElement=="function"?u=n.contentElement(e):n.contentElement&&(u=n.contentElement),this.findAround(e,u,!0),this.addAll(u,s),this.findAround(e,u,!1)}i&&this.sync(l)&&this.open--}addAll(e,n,s,r){let i=s||0;for(let o=s?e.childNodes[s]:e.firstChild,l=r==null?null:e.childNodes[r];o!=l;o=o.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(o,n);this.findAtPoint(e,i)}findPlace(e,n,s){let r,i;for(let o=this.open,l=0;o>=0;o--){let u=this.nodes[o],d=u.findWrapping(e);if(d&&(!r||r.length>d.length+l)&&(r=d,i=u,!d.length))break;if(u.solid){if(s)break;l+=2}}if(!r)return null;this.sync(i);for(let o=0;o<r.length;o++)n=this.enterInner(r[o],null,n,!1);return n}insertNode(e,n,s){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let r=this.findPlace(e,n,s);if(r){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let o=Nt.none;for(let l of r.concat(e.marks))(i.type?i.type.allowsMarkType(l.type):UD(l.type,e.type))&&(o=l.addToSet(o));return i.content.push(e.mark(o)),!0}return!1}enter(e,n,s,r){let i=this.findPlace(e.create(n),s,!1);return i&&(i=this.enterInner(e,n,s,!0,r)),i}enterInner(e,n,s,r=!1,i){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let l=VD(e,i,o.options);o.options&cp&&o.content.length==0&&(l|=cp);let u=Nt.none;return s=s.filter(d=>(o.type?o.type.allowsMarkType(d.type):UD(d.type,e))?(u=d.addToSet(u),!1):!0),this.nodes.push(new fy(e,n,u,r,null,l)),this.open++,s}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Bp)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let s=this.nodes[n].content;for(let r=s.length-1;r>=0;r--)e+=s[r].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let s=0;s<this.find.length;s++)this.find[s].node==e&&this.find[s].offset==n&&(this.find[s].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,s){if(e!=n&&this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&n.compareDocumentPosition(this.find[r].node)&(s?2:4)&&(this.find[r].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),s=this.options.context,r=!this.isOpen&&(!s||s.parent.type==this.nodes[0].type),i=-(s?s.depth+1:0)+(r?0:1),o=(l,u)=>{for(;l>=0;l--){let d=n[l];if(d==""){if(l==n.length-1||l==0)continue;for(;u>=i;u--)if(o(l-1,u))return!0;return!1}else{let f=u>0||u==0&&r?this.nodes[u].type:s&&u>=i?s.node(u-i).type:null;if(!f||f.name!=d&&!f.isInGroup(d))return!1;u--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let s=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(s&&s.isTextblock&&s.defaultAttrs)return s}for(let n in this.parser.schema.nodes){let s=this.parser.schema.nodes[n];if(s.isTextblock&&s.defaultAttrs)return s}}}function Ole(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let s=e.nodeType==1?e.nodeName.toLowerCase():null;s&&A9.hasOwnProperty(s)&&n?(n.appendChild(e),e=n):s=="li"?n=e:s&&(n=null)}}function jle(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function BD(t){let e={};for(let n in t)e[n]=t[n];return e}function UD(t,e){let n=e.schema.nodes;for(let s in n){let r=n[s];if(!r.allowsMarkType(t))continue;let i=[],o=l=>{i.push(l);for(let u=0;u<l.edgeCount;u++){let{type:d,next:f}=l.edge(u);if(d==e||i.indexOf(f)<0&&o(f))return!0}};if(o(r.contentMatch))return!0}}class fu{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},s){s||(s=Vw(n).createDocumentFragment());let r=s,i=[];return e.forEach(o=>{if(i.length||o.marks.length){let l=0,u=0;for(;l<i.length&&u<o.marks.length;){let d=o.marks[u];if(!this.marks[d.type.name]){u++;continue}if(!d.eq(i[l][0])||d.type.spec.spanning===!1)break;l++,u++}for(;l<i.length;)r=i.pop()[1];for(;u<o.marks.length;){let d=o.marks[u++],f=this.serializeMark(d,o.isInline,n);f&&(i.push([d,r]),r.appendChild(f.dom),r=f.contentDOM||f.dom)}}r.appendChild(this.serializeNodeInner(o,n))}),s}serializeNodeInner(e,n){let{dom:s,contentDOM:r}=Jy(Vw(n),this.nodes[e.type.name](e),null,e.attrs);if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,r)}return s}serializeNode(e,n={}){let s=this.serializeNodeInner(e,n);for(let r=e.marks.length-1;r>=0;r--){let i=this.serializeMark(e.marks[r],e.isInline,n);i&&((i.contentDOM||i.dom).appendChild(s),s=i.dom)}return s}serializeMark(e,n,s={}){let r=this.marks[e.type.name];return r&&Jy(Vw(s),r(e,n),null,e.attrs)}static renderSpec(e,n,s=null,r){return Jy(e,n,s,r)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new fu(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=FD(e.nodes);return n.text||(n.text=s=>s.text),n}static marksFromSchema(e){return FD(e.marks)}}function FD(t){let e={};for(let n in t){let s=t[n].spec.toDOM;s&&(e[n]=s)}return e}function Vw(t){return t.document||window.document}const HD=new WeakMap;function Lle(t){let e=HD.get(t);return e===void 0&&HD.set(t,e=Vle(t)),e}function Vle(t){let e=null;function n(s){if(s&&typeof s=="object")if(Array.isArray(s))if(typeof s[0]=="string")e||(e=[]),e.push(s);else for(let r=0;r<s.length;r++)n(s[r]);else for(let r in s)n(s[r])}return n(t),e}function Jy(t,e,n,s){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let r=e[0],i;if(typeof r!="string")throw new RangeError("Invalid array passed to renderSpec");if(s&&(i=Lle(s))&&i.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=r.indexOf(" ");o>0&&(n=r.slice(0,o),r=r.slice(o+1));let l,u=n?t.createElementNS(n,r):t.createElement(r),d=e[1],f=1;if(d&&typeof d=="object"&&d.nodeType==null&&!Array.isArray(d)){f=2;for(let p in d)if(d[p]!=null){let y=p.indexOf(" ");y>0?u.setAttributeNS(p.slice(0,y),p.slice(y+1),d[p]):p=="style"&&u.style?u.style.cssText=d[p]:u.setAttribute(p,d[p])}}for(let p=f;p<e.length;p++){let y=e[p];if(y===0){if(p<e.length-1||p>f)throw new RangeError("Content hole must be the only child of its parent node");return{dom:u,contentDOM:u}}else{let{dom:x,contentDOM:w}=Jy(t,y,n,s);if(u.appendChild(x),w){if(l)throw new RangeError("Multiple content holes");l=w}}}return{dom:u,contentDOM:l}}const C9=65535,k9=Math.pow(2,16);function zle(t,e){return t+e*k9}function $D(t){return t&C9}function Ble(t){return(t-(t&C9))/k9}const N9=1,R9=2,Zy=4,M9=8;class IS{constructor(e,n,s){this.pos=e,this.delInfo=n,this.recover=s}get deleted(){return(this.delInfo&M9)>0}get deletedBefore(){return(this.delInfo&(N9|Zy))>0}get deletedAfter(){return(this.delInfo&(R9|Zy))>0}get deletedAcross(){return(this.delInfo&Zy)>0}}class yr{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&yr.empty)return yr.empty}recover(e){let n=0,s=$D(e);if(!this.inverted)for(let r=0;r<s;r++)n+=this.ranges[r*3+2]-this.ranges[r*3+1];return this.ranges[s*3]+n+Ble(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,s){let r=0,i=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let u=this.ranges[l]-(this.inverted?r:0);if(u>e)break;let d=this.ranges[l+i],f=this.ranges[l+o],p=u+d;if(e<=p){let y=d?e==u?-1:e==p?1:n:n,x=u+r+(y<0?0:f);if(s)return x;let w=e==(n<0?u:p)?null:zle(l/3,e-u),T=e==u?R9:e==p?N9:Zy;return(n<0?e!=u:e!=p)&&(T|=M9),new IS(x,T,w)}r+=f-d}return s?e+r:new IS(e+r,0,null)}touches(e,n){let s=0,r=$D(n),i=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let u=this.ranges[l]-(this.inverted?s:0);if(u>e)break;let d=this.ranges[l+i],f=u+d;if(e<=f&&l==r*3)return!0;s+=this.ranges[l+o]-d}return!1}forEach(e){let n=this.inverted?2:1,s=this.inverted?1:2;for(let r=0,i=0;r<this.ranges.length;r+=3){let o=this.ranges[r],l=o-(this.inverted?i:0),u=o+(this.inverted?0:i),d=this.ranges[r+n],f=this.ranges[r+s];e(l,l+d,u,u+f),i+=f-d}}invert(){return new yr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?yr.empty:new yr(e<0?[0,-e,0]:[0,0,e])}}yr.empty=new yr([]);class Up{constructor(e,n,s=0,r=e?e.length:0){this.mirror=n,this.from=s,this.to=r,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new Up(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,s=this._maps.length;n<e._maps.length;n++){let r=e.getMirror(n);this.appendMap(e._maps[n],r!=null&&r<n?s+r:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,s=this._maps.length+e._maps.length;n>=0;n--){let r=e.getMirror(n);this.appendMap(e._maps[n].invert(),r!=null&&r>n?s-r-1:void 0)}}invert(){let e=new Up;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let s=this.from;s<this.to;s++)e=this._maps[s].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,s){let r=0;for(let i=this.from;i<this.to;i++){let o=this._maps[i],l=o.mapResult(e,n);if(l.recover!=null){let u=this.getMirror(i);if(u!=null&&u>i&&u<this.to){i=u,e=this._maps[u].recover(l.recover);continue}}r|=l.delInfo,e=l.pos}return s?e:new IS(e,r,null)}}const zw=Object.create(null);class As{getMap(){return yr.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let s=zw[n.stepType];if(!s)throw new RangeError(`No step type ${n.stepType} defined`);return s.fromJSON(e,n)}static jsonID(e,n){if(e in zw)throw new RangeError("Duplicate use of step JSON ID "+e);return zw[e]=n,n.prototype.jsonID=e,n}}class An{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new An(e,null)}static fail(e){return new An(null,e)}static fromReplace(e,n,s,r){try{return An.ok(e.replace(n,s,r))}catch(i){if(i instanceof Y0)return An.fail(i.message);throw i}}}function b2(t,e,n){let s=[];for(let r=0;r<t.childCount;r++){let i=t.child(r);i.content.size&&(i=i.copy(b2(i.content,e,i))),i.isInline&&(i=e(i,n,r)),s.push(i)}return fe.fromArray(s)}class dl extends As{constructor(e,n,s){super(),this.from=e,this.to=n,this.mark=s}apply(e){let n=e.slice(this.from,this.to),s=e.resolve(this.from),r=s.node(s.sharedDepth(this.to)),i=new we(b2(n.content,(o,l)=>!o.isAtom||!l.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),r),n.openStart,n.openEnd);return An.fromReplace(e,this.from,this.to,i)}invert(){return new ui(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),s=e.mapResult(this.to,-1);return n.deleted&&s.deleted||n.pos>=s.pos?null:new dl(n.pos,s.pos,this.mark)}merge(e){return e instanceof dl&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new dl(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new dl(n.from,n.to,e.markFromJSON(n.mark))}}As.jsonID("addMark",dl);class ui extends As{constructor(e,n,s){super(),this.from=e,this.to=n,this.mark=s}apply(e){let n=e.slice(this.from,this.to),s=new we(b2(n.content,r=>r.mark(this.mark.removeFromSet(r.marks)),e),n.openStart,n.openEnd);return An.fromReplace(e,this.from,this.to,s)}invert(){return new dl(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),s=e.mapResult(this.to,-1);return n.deleted&&s.deleted||n.pos>=s.pos?null:new ui(n.pos,s.pos,this.mark)}merge(e){return e instanceof ui&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ui(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new ui(n.from,n.to,e.markFromJSON(n.mark))}}As.jsonID("removeMark",ui);class hl extends As{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return An.fail("No node at mark step's position");let s=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return An.fromReplace(e,this.pos,this.pos+1,new we(fe.from(s),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let s=this.mark.addToSet(n.marks);if(s.length==n.marks.length){for(let r=0;r<n.marks.length;r++)if(!n.marks[r].isInSet(s))return new hl(this.pos,n.marks[r]);return new hl(this.pos,this.mark)}}return new tu(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new hl(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new hl(n.pos,e.markFromJSON(n.mark))}}As.jsonID("addNodeMark",hl);class tu extends As{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return An.fail("No node at mark step's position");let s=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return An.fromReplace(e,this.pos,this.pos+1,new we(fe.from(s),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new hl(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new tu(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new tu(n.pos,e.markFromJSON(n.mark))}}As.jsonID("removeNodeMark",tu);class qn extends As{constructor(e,n,s,r=!1){super(),this.from=e,this.to=n,this.slice=s,this.structure=r}apply(e){return this.structure&&DS(e,this.from,this.to)?An.fail("Structure replace would overwrite content"):An.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new yr([this.from,this.to-this.from,this.slice.size])}invert(e){return new qn(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),s=e.mapResult(this.to,-1);return n.deletedAcross&&s.deletedAcross?null:new qn(n.pos,Math.max(n.pos,s.pos),this.slice,this.structure)}merge(e){if(!(e instanceof qn)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?we.empty:new we(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new qn(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?we.empty:new we(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new qn(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new qn(n.from,n.to,we.fromJSON(e,n.slice),!!n.structure)}}As.jsonID("replace",qn);class Wn extends As{constructor(e,n,s,r,i,o,l=!1){super(),this.from=e,this.to=n,this.gapFrom=s,this.gapTo=r,this.slice=i,this.insert=o,this.structure=l}apply(e){if(this.structure&&(DS(e,this.from,this.gapFrom)||DS(e,this.gapTo,this.to)))return An.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return An.fail("Gap is not a flat range");let s=this.slice.insertAt(this.insert,n.content);return s?An.fromReplace(e,this.from,this.to,s):An.fail("Content does not fit in gap")}getMap(){return new yr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Wn(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),s=e.mapResult(this.to,-1),r=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?s.pos:e.map(this.gapTo,1);return n.deletedAcross&&s.deletedAcross||r<n.pos||i>s.pos?null:new Wn(n.pos,s.pos,r,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Wn(n.from,n.to,n.gapFrom,n.gapTo,we.fromJSON(e,n.slice),n.insert,!!n.structure)}}As.jsonID("replaceAround",Wn);function DS(t,e,n){let s=t.resolve(e),r=n-e,i=s.depth;for(;r>0&&i>0&&s.indexAfter(i)==s.node(i).childCount;)i--,r--;if(r>0){let o=s.node(i).maybeChild(s.indexAfter(i));for(;r>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,r--}}return!1}function Ule(t,e,n,s){let r=[],i=[],o,l;t.doc.nodesBetween(e,n,(u,d,f)=>{if(!u.isInline)return;let p=u.marks;if(!s.isInSet(p)&&f.type.allowsMarkType(s.type)){let y=Math.max(d,e),x=Math.min(d+u.nodeSize,n),w=s.addToSet(p);for(let T=0;T<p.length;T++)p[T].isInSet(w)||(o&&o.to==y&&o.mark.eq(p[T])?o.to=x:r.push(o=new ui(y,x,p[T])));l&&l.to==y?l.to=x:i.push(l=new dl(y,x,s))}}),r.forEach(u=>t.step(u)),i.forEach(u=>t.step(u))}function Fle(t,e,n,s){let r=[],i=0;t.doc.nodesBetween(e,n,(o,l)=>{if(!o.isInline)return;i++;let u=null;if(s instanceof Av){let d=o.marks,f;for(;f=s.isInSet(d);)(u||(u=[])).push(f),d=f.removeFromSet(d)}else s?s.isInSet(o.marks)&&(u=[s]):u=o.marks;if(u&&u.length){let d=Math.min(l+o.nodeSize,n);for(let f=0;f<u.length;f++){let p=u[f],y;for(let x=0;x<r.length;x++){let w=r[x];w.step==i-1&&p.eq(r[x].style)&&(y=w)}y?(y.to=d,y.step=i):r.push({style:p,from:Math.max(l,e),to:d,step:i})}}}),r.forEach(o=>t.step(new ui(o.from,o.to,o.style)))}function w2(t,e,n,s=n.contentMatch,r=!0){let i=t.doc.nodeAt(e),o=[],l=e+1;for(let u=0;u<i.childCount;u++){let d=i.child(u),f=l+d.nodeSize,p=s.matchType(d.type);if(!p)o.push(new qn(l,f,we.empty));else{s=p;for(let y=0;y<d.marks.length;y++)n.allowsMarkType(d.marks[y].type)||t.step(new ui(l,f,d.marks[y]));if(r&&d.isText&&n.whitespace!="pre"){let y,x=/\r?\n|\r/g,w;for(;y=x.exec(d.text);)w||(w=new we(fe.from(n.schema.text(" ",n.allowedMarks(d.marks))),0,0)),o.push(new qn(l+y.index,l+y.index+y[0].length,w))}}l=f}if(!s.validEnd){let u=s.fillBefore(fe.empty,!0);t.replace(l,l,new we(u,0,0))}for(let u=o.length-1;u>=0;u--)t.step(o[u])}function Hle(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function vh(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let s=t.depth,r=0,i=0;;--s){let o=t.$from.node(s),l=t.$from.index(s)+r,u=t.$to.indexAfter(s)-i;if(s<t.depth&&o.canReplace(l,u,n))return s;if(s==0||o.type.spec.isolating||!Hle(o,l,u))break;l&&(r=1),u<o.childCount&&(i=1)}return null}function $le(t,e,n){let{$from:s,$to:r,depth:i}=e,o=s.before(i+1),l=r.after(i+1),u=o,d=l,f=fe.empty,p=0;for(let w=i,T=!1;w>n;w--)T||s.index(w)>0?(T=!0,f=fe.from(s.node(w).copy(f)),p++):u--;let y=fe.empty,x=0;for(let w=i,T=!1;w>n;w--)T||r.after(w+1)<r.end(w)?(T=!0,y=fe.from(r.node(w).copy(y)),x++):d++;t.step(new Wn(u,d,o,l,new we(f.append(y),p,x),f.size-p,!0))}function E2(t,e,n=null,s=t){let r=qle(t,e),i=r&&Wle(s,e);return i?r.map(qD).concat({type:e,attrs:n}).concat(i.map(qD)):null}function qD(t){return{type:t,attrs:null}}function qle(t,e){let{parent:n,startIndex:s,endIndex:r}=t,i=n.contentMatchAt(s).findWrapping(e);if(!i)return null;let o=i.length?i[0]:e;return n.canReplaceWith(s,r,o)?i:null}function Wle(t,e){let{parent:n,startIndex:s,endIndex:r}=t,i=n.child(s),o=e.contentMatch.findWrapping(i.type);if(!o)return null;let u=(o.length?o[o.length-1]:e).contentMatch;for(let d=s;u&&d<r;d++)u=u.matchType(n.child(d).type);return!u||!u.validEnd?null:o}function Kle(t,e,n){let s=fe.empty;for(let o=n.length-1;o>=0;o--){if(s.size){let l=n[o].type.contentMatch.matchFragment(s);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}s=fe.from(n[o].type.create(n[o].attrs,s))}let r=e.start,i=e.end;t.step(new Wn(r,i,r,i,new we(s,0,0),n.length,!0))}function Gle(t,e,n,s,r){if(!s.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=t.steps.length;t.doc.nodesBetween(e,n,(o,l)=>{let u=typeof r=="function"?r(o):r;if(o.isTextblock&&!o.hasMarkup(s,u)&&Yle(t.doc,t.mapping.slice(i).map(l),s)){let d=null;if(s.schema.linebreakReplacement){let x=s.whitespace=="pre",w=!!s.contentMatch.matchType(s.schema.linebreakReplacement);x&&!w?d=!1:!x&&w&&(d=!0)}d===!1&&D9(t,o,l,i),w2(t,t.mapping.slice(i).map(l,1),s,void 0,d===null);let f=t.mapping.slice(i),p=f.map(l,1),y=f.map(l+o.nodeSize,1);return t.step(new Wn(p,y,p+1,y-1,new we(fe.from(s.create(u,null,o.marks)),0,0),1,!0)),d===!0&&I9(t,o,l,i),!1}})}function I9(t,e,n,s){e.forEach((r,i)=>{if(r.isText){let o,l=/\r?\n|\r/g;for(;o=l.exec(r.text);){let u=t.mapping.slice(s).map(n+1+i+o.index);t.replaceWith(u,u+1,e.type.schema.linebreakReplacement.create())}}})}function D9(t,e,n,s){e.forEach((r,i)=>{if(r.type==r.type.schema.linebreakReplacement){let o=t.mapping.slice(s).map(n+1+i);t.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function Yle(t,e,n){let s=t.resolve(e),r=s.index();return s.parent.canReplaceWith(r,r+1,n)}function Xle(t,e,n,s,r){let i=t.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let o=n.create(s,null,r||i.marks);if(i.isLeaf)return t.replaceWith(e,e+i.nodeSize,o);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Wn(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new we(fe.from(o),0,0),1,!0))}function Zo(t,e,n=1,s){let r=t.resolve(e),i=r.depth-n,o=s&&s[s.length-1]||r.parent;if(i<0||r.parent.type.spec.isolating||!r.parent.canReplace(r.index(),r.parent.childCount)||!o.type.validContent(r.parent.content.cutByIndex(r.index(),r.parent.childCount)))return!1;for(let d=r.depth-1,f=n-2;d>i;d--,f--){let p=r.node(d),y=r.index(d);if(p.type.spec.isolating)return!1;let x=p.content.cutByIndex(y,p.childCount),w=s&&s[f+1];w&&(x=x.replaceChild(0,w.type.create(w.attrs)));let T=s&&s[f]||p;if(!p.canReplace(y+1,p.childCount)||!T.type.validContent(x))return!1}let l=r.indexAfter(i),u=s&&s[0];return r.node(i).canReplaceWith(l,l,u?u.type:r.node(i+1).type)}function Qle(t,e,n=1,s){let r=t.doc.resolve(e),i=fe.empty,o=fe.empty;for(let l=r.depth,u=r.depth-n,d=n-1;l>u;l--,d--){i=fe.from(r.node(l).copy(i));let f=s&&s[d];o=fe.from(f?f.type.create(f.attrs,o):r.node(l).copy(o))}t.step(new qn(e,e,new we(i.append(o),n,n),!0))}function Hl(t,e){let n=t.resolve(e),s=n.index();return P9(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(s,s+1)}function Jle(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:s}=t.type.schema;for(let r=0;r<e.childCount;r++){let i=e.child(r),o=i.type==s?t.type.schema.nodes.text:i.type;if(n=n.matchType(o),!n||!t.type.allowsMarks(i.marks))return!1}return n.validEnd}function P9(t,e){return!!(t&&e&&!t.isLeaf&&Jle(t,e))}function Cv(t,e,n=-1){let s=t.resolve(e);for(let r=s.depth;;r--){let i,o,l=s.index(r);if(r==s.depth?(i=s.nodeBefore,o=s.nodeAfter):n>0?(i=s.node(r+1),l++,o=s.node(r).maybeChild(l)):(i=s.node(r).maybeChild(l-1),o=s.node(r+1)),i&&!i.isTextblock&&P9(i,o)&&s.node(r).canReplace(l,l+1))return e;if(r==0)break;e=n<0?s.before(r):s.after(r)}}function Zle(t,e,n){let s=null,{linebreakReplacement:r}=t.doc.type.schema,i=t.doc.resolve(e-n),o=i.node().type;if(r&&o.inlineContent){let f=o.whitespace=="pre",p=!!o.contentMatch.matchType(r);f&&!p?s=!1:!f&&p&&(s=!0)}let l=t.steps.length;if(s===!1){let f=t.doc.resolve(e+n);D9(t,f.node(),f.before(),l)}o.inlineContent&&w2(t,e+n-1,o,i.node().contentMatchAt(i.index()),s==null);let u=t.mapping.slice(l),d=u.map(e-n);if(t.step(new qn(d,u.map(e+n,-1),we.empty,!0)),s===!0){let f=t.doc.resolve(d);I9(t,f.node(),f.before(),t.steps.length)}return t}function ece(t,e,n){let s=t.resolve(e);if(s.parent.canReplaceWith(s.index(),s.index(),n))return e;if(s.parentOffset==0)for(let r=s.depth-1;r>=0;r--){let i=s.index(r);if(s.node(r).canReplaceWith(i,i,n))return s.before(r+1);if(i>0)return null}if(s.parentOffset==s.parent.content.size)for(let r=s.depth-1;r>=0;r--){let i=s.indexAfter(r);if(s.node(r).canReplaceWith(i,i,n))return s.after(r+1);if(i<s.node(r).childCount)return null}return null}function O9(t,e,n){let s=t.resolve(e);if(!n.content.size)return e;let r=n.content;for(let i=0;i<n.openStart;i++)r=r.firstChild.content;for(let i=1;i<=(n.openStart==0&&n.size?2:1);i++)for(let o=s.depth;o>=0;o--){let l=o==s.depth?0:s.pos<=(s.start(o+1)+s.end(o+1))/2?-1:1,u=s.index(o)+(l>0?1:0),d=s.node(o),f=!1;if(i==1)f=d.canReplace(u,u,r);else{let p=d.contentMatchAt(u).findWrapping(r.firstChild.type);f=p&&d.canReplaceWith(u,u,p[0])}if(f)return l==0?s.pos:l<0?s.before(o+1):s.after(o+1)}return null}function kv(t,e,n=e,s=we.empty){if(e==n&&!s.size)return null;let r=t.resolve(e),i=t.resolve(n);return j9(r,i,s)?new qn(e,n,s):new tce(r,i,s).fit()}function j9(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class tce{constructor(e,n,s){this.$from=e,this.$to=n,this.unplaced=s,this.frontier=[],this.placed=fe.empty;for(let r=0;r<=e.depth;r++){let i=e.node(r);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(r))})}for(let r=e.depth;r>0;r--)this.placed=fe.from(e.node(r).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let d=this.findFittable();d?this.placeNodes(d):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,s=this.$from,r=this.close(e<0?this.$to:s.doc.resolve(e));if(!r)return null;let i=this.placed,o=s.depth,l=r.depth;for(;o&&l&&i.childCount==1;)i=i.firstChild.content,o--,l--;let u=new we(i,o,l);return e>-1?new Wn(s.pos,e,this.$to.pos,this.$to.end(),u,n):u.size||s.pos!=this.$to.pos?new qn(s.pos,r.pos,u):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,s=0,r=this.unplaced.openEnd;s<e;s++){let i=n.firstChild;if(n.childCount>1&&(r=0),i.type.spec.isolating&&r<=s){e=s;break}n=i.content}for(let n=1;n<=2;n++)for(let s=n==1?e:this.unplaced.openStart;s>=0;s--){let r,i=null;s?(i=Bw(this.unplaced.content,s-1).firstChild,r=i.content):r=this.unplaced.content;let o=r.firstChild;for(let l=this.depth;l>=0;l--){let{type:u,match:d}=this.frontier[l],f,p=null;if(n==1&&(o?d.matchType(o.type)||(p=d.fillBefore(fe.from(o),!1)):i&&u.compatibleContent(i.type)))return{sliceDepth:s,frontierDepth:l,parent:i,inject:p};if(n==2&&o&&(f=d.findWrapping(o.type)))return{sliceDepth:s,frontierDepth:l,parent:i,wrap:f};if(i&&d.matchType(i.type))break}}}openMore(){let{content:e,openStart:n,openEnd:s}=this.unplaced,r=Bw(e,n);return!r.childCount||r.firstChild.isLeaf?!1:(this.unplaced=new we(e,n+1,Math.max(s,r.size+n>=e.size-s?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:s}=this.unplaced,r=Bw(e,n);if(r.childCount<=1&&n>0){let i=e.size-n<=n+r.size;this.unplaced=new we(Bf(e,n-1,1),n-1,i?n-1:s)}else this.unplaced=new we(Bf(e,n,1),n,s)}placeNodes({sliceDepth:e,frontierDepth:n,parent:s,inject:r,wrap:i}){for(;this.depth>n;)this.closeFrontierNode();if(i)for(let T=0;T<i.length;T++)this.openFrontierNode(i[T]);let o=this.unplaced,l=s?s.content:o.content,u=o.openStart-e,d=0,f=[],{match:p,type:y}=this.frontier[n];if(r){for(let T=0;T<r.childCount;T++)f.push(r.child(T));p=p.matchFragment(r)}let x=l.size+e-(o.content.size-o.openEnd);for(;d<l.childCount;){let T=l.child(d),S=p.matchType(T.type);if(!S)break;d++,(d>1||u==0||T.content.size)&&(p=S,f.push(L9(T.mark(y.allowedMarks(T.marks)),d==1?u:0,d==l.childCount?x:-1)))}let w=d==l.childCount;w||(x=-1),this.placed=Uf(this.placed,n,fe.from(f)),this.frontier[n].match=p,w&&x<0&&s&&s.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let T=0,S=l;T<x;T++){let A=S.lastChild;this.frontier.push({type:A.type,match:A.contentMatchAt(A.childCount)}),S=A.content}this.unplaced=w?e==0?we.empty:new we(Bf(o.content,e-1,1),e-1,x<0?o.openEnd:e-1):new we(Bf(o.content,e,d),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Uw(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:s}=this.$to,r=this.$to.after(s);for(;s>1&&r==this.$to.end(--s);)++r;return r}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:s,type:r}=this.frontier[n],i=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),o=Uw(e,n,r,s,i);if(o){for(let l=n-1;l>=0;l--){let{match:u,type:d}=this.frontier[l],f=Uw(e,l,d,u,!0);if(!f||f.childCount)continue e}return{depth:n,fit:o,move:i?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Uf(this.placed,n.depth,n.fit)),e=n.move;for(let s=n.depth+1;s<=e.depth;s++){let r=e.node(s),i=r.type.contentMatch.fillBefore(r.content,!0,e.index(s));this.openFrontierNode(r.type,r.attrs,i)}return e}openFrontierNode(e,n=null,s){let r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=Uf(this.placed,this.depth,fe.from(e.create(n,s))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(fe.empty,!0);n.childCount&&(this.placed=Uf(this.placed,this.frontier.length,n))}}function Bf(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Bf(t.firstChild.content,e-1,n)))}function Uf(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Uf(t.lastChild.content,e-1,n)))}function Bw(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function L9(t,e,n){if(e<=0)return t;let s=t.content;return e>1&&(s=s.replaceChild(0,L9(s.firstChild,e-1,s.childCount==1?n-1:0))),e>0&&(s=t.type.contentMatch.fillBefore(s).append(s),n<=0&&(s=s.append(t.type.contentMatch.matchFragment(s).fillBefore(fe.empty,!0)))),t.copy(s)}function Uw(t,e,n,s,r){let i=t.node(e),o=r?t.indexAfter(e):t.index(e);if(o==i.childCount&&!n.compatibleContent(i.type))return null;let l=s.fillBefore(i.content,!0,o);return l&&!nce(n,i.content,o)?l:null}function nce(t,e,n){for(let s=n;s<e.childCount;s++)if(!t.allowsMarks(e.child(s).marks))return!0;return!1}function sce(t){return t.spec.defining||t.spec.definingForContent}function rce(t,e,n,s){if(!s.size)return t.deleteRange(e,n);let r=t.doc.resolve(e),i=t.doc.resolve(n);if(j9(r,i,s))return t.step(new qn(e,n,s));let o=z9(r,i);o[o.length-1]==0&&o.pop();let l=-(r.depth+1);o.unshift(l);for(let y=r.depth,x=r.pos-1;y>0;y--,x--){let w=r.node(y).type.spec;if(w.defining||w.definingAsContext||w.isolating)break;o.indexOf(y)>-1?l=y:r.before(y)==x&&o.splice(1,0,-y)}let u=o.indexOf(l),d=[],f=s.openStart;for(let y=s.content,x=0;;x++){let w=y.firstChild;if(d.push(w),x==s.openStart)break;y=w.content}for(let y=f-1;y>=0;y--){let x=d[y],w=sce(x.type);if(w&&!x.sameMarkup(r.node(Math.abs(l)-1)))f=y;else if(w||!x.type.isTextblock)break}for(let y=s.openStart;y>=0;y--){let x=(y+f+1)%(s.openStart+1),w=d[x];if(w)for(let T=0;T<o.length;T++){let S=o[(T+u)%o.length],A=!0;S<0&&(A=!1,S=-S);let N=r.node(S-1),P=r.index(S-1);if(N.canReplaceWith(P,P,w.type,w.marks))return t.replace(r.before(S),A?i.after(S):n,new we(V9(s.content,0,s.openStart,x),x,s.openEnd))}}let p=t.steps.length;for(let y=o.length-1;y>=0&&(t.replace(e,n,s),!(t.steps.length>p));y--){let x=o[y];x<0||(e=r.before(x),n=i.after(x))}}function V9(t,e,n,s,r){if(e<n){let i=t.firstChild;t=t.replaceChild(0,i.copy(V9(i.content,e+1,n,s,i)))}if(e>s){let i=r.contentMatchAt(0),o=i.fillBefore(t).append(t);t=o.append(i.matchFragment(o).fillBefore(fe.empty,!0))}return t}function ice(t,e,n,s){if(!s.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let r=ece(t.doc,e,s.type);r!=null&&(e=n=r)}t.replaceRange(e,n,new we(fe.from(s),0,0))}function oce(t,e,n){let s=t.doc.resolve(e),r=t.doc.resolve(n),i=z9(s,r);for(let o=0;o<i.length;o++){let l=i[o],u=o==i.length-1;if(u&&l==0||s.node(l).type.contentMatch.validEnd)return t.delete(s.start(l),r.end(l));if(l>0&&(u||s.node(l-1).canReplace(s.index(l-1),r.indexAfter(l-1))))return t.delete(s.before(l),r.after(l))}for(let o=1;o<=s.depth&&o<=r.depth;o++)if(e-s.start(o)==s.depth-o&&n>s.end(o)&&r.end(o)-n!=r.depth-o&&s.start(o-1)==r.start(o-1)&&s.node(o-1).canReplace(s.index(o-1),r.index(o-1)))return t.delete(s.before(o),n);t.delete(e,n)}function z9(t,e){let n=[],s=Math.min(t.depth,e.depth);for(let r=s;r>=0;r--){let i=t.start(r);if(i<t.pos-(t.depth-r)||e.end(r)>e.pos+(e.depth-r)||t.node(r).type.spec.isolating||e.node(r).type.spec.isolating)break;(i==e.start(r)||r==t.depth&&r==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&r&&e.start(r-1)==i-1)&&n.push(r)}return n}class Dd extends As{constructor(e,n,s){super(),this.pos=e,this.attr=n,this.value=s}apply(e){let n=e.nodeAt(this.pos);if(!n)return An.fail("No node at attribute step's position");let s=Object.create(null);for(let i in n.attrs)s[i]=n.attrs[i];s[this.attr]=this.value;let r=n.type.create(s,null,n.marks);return An.fromReplace(e,this.pos,this.pos+1,new we(fe.from(r),0,n.isLeaf?0:1))}getMap(){return yr.empty}invert(e){return new Dd(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Dd(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Dd(n.pos,n.attr,n.value)}}As.jsonID("attr",Dd);class Fp extends As{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let r in e.attrs)n[r]=e.attrs[r];n[this.attr]=this.value;let s=e.type.create(n,e.content,e.marks);return An.ok(s)}getMap(){return yr.empty}invert(e){return new Fp(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Fp(n.attr,n.value)}}As.jsonID("docAttr",Fp);let qd=class extends Error{};qd=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};qd.prototype=Object.create(Error.prototype);qd.prototype.constructor=qd;qd.prototype.name="TransformError";class B9{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Up}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new qd(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}changedRange(){let e=1e9,n=-1e9;for(let s=0;s<this.mapping.maps.length;s++){let r=this.mapping.maps[s];s&&(e=r.map(e,1),n=r.map(n,-1)),r.forEach((i,o,l,u)=>{e=Math.min(e,l),n=Math.max(n,u)})}return e==1e9?null:{from:e,to:n}}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,s=we.empty){let r=kv(this.doc,e,n,s);return r&&this.step(r),this}replaceWith(e,n,s){return this.replace(e,n,new we(fe.from(s),0,0))}delete(e,n){return this.replace(e,n,we.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,s){return rce(this,e,n,s),this}replaceRangeWith(e,n,s){return ice(this,e,n,s),this}deleteRange(e,n){return oce(this,e,n),this}lift(e,n){return $le(this,e,n),this}join(e,n=1){return Zle(this,e,n),this}wrap(e,n){return Kle(this,e,n),this}setBlockType(e,n=e,s,r=null){return Gle(this,e,n,s,r),this}setNodeMarkup(e,n,s=null,r){return Xle(this,e,n,s,r),this}setNodeAttribute(e,n,s){return this.step(new Dd(e,n,s)),this}setDocAttribute(e,n){return this.step(new Fp(e,n)),this}addNodeMark(e,n){return this.step(new hl(e,n)),this}removeNodeMark(e,n){let s=this.doc.nodeAt(e);if(!s)throw new RangeError("No node at position "+e);if(n instanceof Nt)n.isInSet(s.marks)&&this.step(new tu(e,n));else{let r=s.marks,i,o=[];for(;i=n.isInSet(r);)o.push(new tu(e,i)),r=i.removeFromSet(r);for(let l=o.length-1;l>=0;l--)this.step(o[l])}return this}split(e,n=1,s){return Qle(this,e,n,s),this}addMark(e,n,s){return Ule(this,e,n,s),this}removeMark(e,n,s){return Fle(this,e,n,s),this}clearIncompatible(e,n,s){return w2(this,e,n,s),this}}const Fw=Object.create(null);class Je{constructor(e,n,s){this.$anchor=e,this.$head=n,this.ranges=s||[new ace(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=we.empty){let s=n.content.lastChild,r=null;for(let l=0;l<n.openEnd;l++)r=s,s=s.lastChild;let i=e.steps.length,o=this.ranges;for(let l=0;l<o.length;l++){let{$from:u,$to:d}=o[l],f=e.mapping.slice(i);e.replaceRange(f.map(u.pos),f.map(d.pos),l?we.empty:n),l==0&&GD(e,i,(s?s.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(e,n){let s=e.steps.length,r=this.ranges;for(let i=0;i<r.length;i++){let{$from:o,$to:l}=r[i],u=e.mapping.slice(s),d=u.map(o.pos),f=u.map(l.pos);i?e.deleteRange(d,f):(e.replaceRangeWith(d,f,n),GD(e,s,n.isInline?-1:1))}}static findFrom(e,n,s=!1){let r=e.parent.inlineContent?new Fe(e):md(e.node(0),e.parent,e.pos,e.index(),n,s);if(r)return r;for(let i=e.depth-1;i>=0;i--){let o=n<0?md(e.node(0),e.node(i),e.before(i+1),e.index(i),n,s):md(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,n,s);if(o)return o}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new br(e.node(0))}static atStart(e){return md(e,e,0,0,1)||new br(e)}static atEnd(e){return md(e,e,e.content.size,e.childCount,-1)||new br(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let s=Fw[n.type];if(!s)throw new RangeError(`No selection type ${n.type} defined`);return s.fromJSON(e,n)}static jsonID(e,n){if(e in Fw)throw new RangeError("Duplicate use of selection JSON ID "+e);return Fw[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Fe.between(this.$anchor,this.$head).getBookmark()}}Je.prototype.visible=!0;class ace{constructor(e,n){this.$from=e,this.$to=n}}let WD=!1;function KD(t){!WD&&!t.parent.inlineContent&&(WD=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Fe extends Je{constructor(e,n=e){KD(e),KD(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let s=e.resolve(n.map(this.head));if(!s.parent.inlineContent)return Je.near(s);let r=e.resolve(n.map(this.anchor));return new Fe(r.parent.inlineContent?r:s,s)}replace(e,n=we.empty){if(super.replace(e,n),n==we.empty){let s=this.$from.marksAcross(this.$to);s&&e.ensureMarks(s)}}eq(e){return e instanceof Fe&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Nv(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Fe(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,s=n){let r=e.resolve(n);return new this(r,s==n?r:e.resolve(s))}static between(e,n,s){let r=e.pos-n.pos;if((!s||r)&&(s=r>=0?1:-1),!n.parent.inlineContent){let i=Je.findFrom(n,s,!0)||Je.findFrom(n,-s,!0);if(i)n=i.$head;else return Je.near(n,s)}return e.parent.inlineContent||(r==0?e=n:(e=(Je.findFrom(e,-s,!0)||Je.findFrom(e,s,!0)).$anchor,e.pos<n.pos!=r<0&&(e=n))),new Fe(e,n)}}Je.jsonID("text",Fe);class Nv{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Nv(e.map(this.anchor),e.map(this.head))}resolve(e){return Fe.between(e.resolve(this.anchor),e.resolve(this.head))}}class Ve extends Je{constructor(e){let n=e.nodeAfter,s=e.node(0).resolve(e.pos+n.nodeSize);super(e,s),this.node=n}map(e,n){let{deleted:s,pos:r}=n.mapResult(this.anchor),i=e.resolve(r);return s?Je.near(i):new Ve(i)}content(){return new we(fe.from(this.node),0,0)}eq(e){return e instanceof Ve&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new S2(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Ve(e.resolve(n.anchor))}static create(e,n){return new Ve(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Ve.prototype.visible=!1;Je.jsonID("node",Ve);class S2{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:s}=e.mapResult(this.anchor);return n?new Nv(s,s):new S2(s)}resolve(e){let n=e.resolve(this.anchor),s=n.nodeAfter;return s&&Ve.isSelectable(s)?new Ve(n):Je.near(n)}}class br extends Je{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=we.empty){if(n==we.empty){e.delete(0,e.doc.content.size);let s=Je.atStart(e.doc);s.eq(e.selection)||e.setSelection(s)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new br(e)}map(e){return new br(e)}eq(e){return e instanceof br}getBookmark(){return lce}}Je.jsonID("all",br);const lce={map(){return this},resolve(t){return new br(t)}};function md(t,e,n,s,r,i=!1){if(e.inlineContent)return Fe.create(t,n);for(let o=s-(r>0?0:1);r>0?o<e.childCount:o>=0;o+=r){let l=e.child(o);if(l.isAtom){if(!i&&Ve.isSelectable(l))return Ve.create(t,n-(r<0?l.nodeSize:0))}else{let u=md(t,l,n+r,r<0?l.childCount:0,r,i);if(u)return u}n+=l.nodeSize*r}return null}function GD(t,e,n){let s=t.steps.length-1;if(s<e)return;let r=t.steps[s];if(!(r instanceof qn||r instanceof Wn))return;let i=t.mapping.maps[s],o;i.forEach((l,u,d,f)=>{o==null&&(o=f)}),t.setSelection(Je.near(t.doc.resolve(o),n))}const YD=1,py=2,XD=4;class cce extends B9{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|YD)&~py,this.storedMarks=null,this}get selectionSet(){return(this.updated&YD)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=py,this}ensureMarks(e){return Nt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&py)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~py,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let s=this.selection;return n&&(e=e.mark(this.storedMarks||(s.empty?s.$from.marks():s.$from.marksAcross(s.$to)||Nt.none))),s.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,s){let r=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();{if(s==null&&(s=n),!e)return this.deleteRange(n,s);let i=this.storedMarks;if(!i){let o=this.doc.resolve(n);i=s==n?o.marks():o.marksAcross(this.doc.resolve(s))}return this.replaceRangeWith(n,s,r.text(e,i)),!this.selection.empty&&this.selection.to==n+e.length&&this.setSelection(Je.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=XD,this}get scrolledIntoView(){return(this.updated&XD)>0}}function QD(t,e){return!e||!t?t:t.bind(e)}class Ff{constructor(e,n,s){this.name=e,this.init=QD(n.init,s),this.apply=QD(n.apply,s)}}const uce=[new Ff("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Ff("selection",{init(t,e){return t.selection||Je.atStart(e.doc)},apply(t){return t.selection}}),new Ff("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,s){return s.selection.$cursor?t.storedMarks:null}}),new Ff("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Hw{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=uce.slice(),n&&n.forEach(s=>{if(this.pluginsByKey[s.key])throw new RangeError("Adding different instances of a keyed plugin ("+s.key+")");this.plugins.push(s),this.pluginsByKey[s.key]=s,s.spec.state&&this.fields.push(new Ff(s.key,s.spec.state,s))})}}class Td{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let s=0;s<this.config.plugins.length;s++)if(s!=n){let r=this.config.plugins[s];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],s=this.applyInner(e),r=null;for(;;){let i=!1;for(let o=0;o<this.config.plugins.length;o++){let l=this.config.plugins[o];if(l.spec.appendTransaction){let u=r?r[o].n:0,d=r?r[o].state:this,f=u<n.length&&l.spec.appendTransaction.call(l,u?n.slice(u):n,d,s);if(f&&s.filterTransaction(f,o)){if(f.setMeta("appendedTransaction",e),!r){r=[];for(let p=0;p<this.config.plugins.length;p++)r.push(p<o?{state:s,n:n.length}:{state:this,n:0})}n.push(f),s=s.applyInner(f),i=!0}r&&(r[o]={state:s,n:n.length})}}if(!i)return{state:s,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Td(this.config),s=this.config.fields;for(let r=0;r<s.length;r++){let i=s[r];n[i.name]=i.apply(e,this[i.name],this,n)}return n}get tr(){return new cce(this)}static create(e){let n=new Hw(e.doc?e.doc.type.schema:e.schema,e.plugins),s=new Td(n);for(let r=0;r<n.fields.length;r++)s[n.fields[r].name]=n.fields[r].init(e,s);return s}reconfigure(e){let n=new Hw(this.schema,e.plugins),s=n.fields,r=new Td(n);for(let i=0;i<s.length;i++){let o=s[i].name;r[o]=this.hasOwnProperty(o)?this[o]:s[i].init(e,r)}return r}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(s=>s.toJSON())),e&&typeof e=="object")for(let s in e){if(s=="doc"||s=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=e[s],i=r.spec.state;i&&i.toJSON&&(n[s]=i.toJSON.call(r,this[r.key]))}return n}static fromJSON(e,n,s){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let r=new Hw(e.schema,e.plugins),i=new Td(r);return r.fields.forEach(o=>{if(o.name=="doc")i.doc=vl.fromJSON(e.schema,n.doc);else if(o.name=="selection")i.selection=Je.fromJSON(i.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(i.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(s)for(let l in s){let u=s[l],d=u.spec.state;if(u.key==o.name&&d&&d.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){i[o.name]=d.fromJSON.call(u,e,n[l],i);return}}i[o.name]=o.init(e,i)}}),i}}function U9(t,e,n){for(let s in t){let r=t[s];r instanceof Function?r=r.bind(e):s=="handleDOMEvents"&&(r=U9(r,e,{})),n[s]=r}return n}class Gt{constructor(e){this.spec=e,this.props={},e.props&&U9(e.props,this,this.props),this.key=e.key?e.key.key:F9("plugin")}getState(e){return e[this.key]}}const $w=Object.create(null);function F9(t){return t in $w?t+"$"+ ++$w[t]:($w[t]=0,t+"$")}class jn{constructor(e="key"){this.key=F9(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const T2=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function H9(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const $9=(t,e,n)=>{let s=H9(t,n);if(!s)return!1;let r=_2(s);if(!r){let o=s.blockRange(),l=o&&vh(o);return l==null?!1:(e&&e(t.tr.lift(o,l).scrollIntoView()),!0)}let i=r.nodeBefore;if(Z9(t,r,e,-1))return!0;if(s.parent.content.size==0&&(Wd(i,"end")||Ve.isSelectable(i)))for(let o=s.depth;;o--){let l=kv(t.doc,s.before(o),s.after(o),we.empty);if(l&&l.slice.size<l.to-l.from){if(e){let u=t.tr.step(l);u.setSelection(Wd(i,"end")?Je.findFrom(u.doc.resolve(u.mapping.map(r.pos,-1)),-1):Ve.create(u.doc,r.pos-i.nodeSize)),e(u.scrollIntoView())}return!0}if(o==1||s.node(o-1).childCount>1)break}return i.isAtom&&r.depth==s.depth-1?(e&&e(t.tr.delete(r.pos-i.nodeSize,r.pos).scrollIntoView()),!0):!1},dce=(t,e,n)=>{let s=H9(t,n);if(!s)return!1;let r=_2(s);return r?q9(t,r,e):!1},hce=(t,e,n)=>{let s=K9(t,n);if(!s)return!1;let r=A2(s);return r?q9(t,r,e):!1};function q9(t,e,n){let s=e.nodeBefore,r=s,i=e.pos-1;for(;!r.isTextblock;i--){if(r.type.spec.isolating)return!1;let f=r.lastChild;if(!f)return!1;r=f}let o=e.nodeAfter,l=o,u=e.pos+1;for(;!l.isTextblock;u++){if(l.type.spec.isolating)return!1;let f=l.firstChild;if(!f)return!1;l=f}let d=kv(t.doc,i,u,we.empty);if(!d||d.from!=i||d instanceof qn&&d.slice.size>=u-i)return!1;if(n){let f=t.tr.step(d);f.setSelection(Fe.create(f.doc,i)),n(f.scrollIntoView())}return!0}function Wd(t,e,n=!1){for(let s=t;s;s=e=="start"?s.firstChild:s.lastChild){if(s.isTextblock)return!0;if(n&&s.childCount!=1)return!1}return!1}const W9=(t,e,n)=>{let{$head:s,empty:r}=t.selection,i=s;if(!r)return!1;if(s.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):s.parentOffset>0)return!1;i=_2(s)}let o=i&&i.nodeBefore;return!o||!Ve.isSelectable(o)?!1:(e&&e(t.tr.setSelection(Ve.create(t.doc,i.pos-o.nodeSize)).scrollIntoView()),!0)};function _2(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function K9(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const G9=(t,e,n)=>{let s=K9(t,n);if(!s)return!1;let r=A2(s);if(!r)return!1;let i=r.nodeAfter;if(Z9(t,r,e,1))return!0;if(s.parent.content.size==0&&(Wd(i,"start")||Ve.isSelectable(i))){let o=kv(t.doc,s.before(),s.after(),we.empty);if(o&&o.slice.size<o.to-o.from){if(e){let l=t.tr.step(o);l.setSelection(Wd(i,"start")?Je.findFrom(l.doc.resolve(l.mapping.map(r.pos)),1):Ve.create(l.doc,l.mapping.map(r.pos))),e(l.scrollIntoView())}return!0}}return i.isAtom&&r.depth==s.depth-1?(e&&e(t.tr.delete(r.pos,r.pos+i.nodeSize).scrollIntoView()),!0):!1},Y9=(t,e,n)=>{let{$head:s,empty:r}=t.selection,i=s;if(!r)return!1;if(s.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):s.parentOffset<s.parent.content.size)return!1;i=A2(s)}let o=i&&i.nodeAfter;return!o||!Ve.isSelectable(o)?!1:(e&&e(t.tr.setSelection(Ve.create(t.doc,i.pos)).scrollIntoView()),!0)};function A2(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const fce=(t,e)=>{let n=t.selection,s=n instanceof Ve,r;if(s){if(n.node.isTextblock||!Hl(t.doc,n.from))return!1;r=n.from}else if(r=Cv(t.doc,n.from,-1),r==null)return!1;if(e){let i=t.tr.join(r);s&&i.setSelection(Ve.create(i.doc,r-t.doc.resolve(r).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},pce=(t,e)=>{let n=t.selection,s;if(n instanceof Ve){if(n.node.isTextblock||!Hl(t.doc,n.to))return!1;s=n.to}else if(s=Cv(t.doc,n.to,1),s==null)return!1;return e&&e(t.tr.join(s).scrollIntoView()),!0},mce=(t,e)=>{let{$from:n,$to:s}=t.selection,r=n.blockRange(s),i=r&&vh(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)},X9=(t,e)=>{let{$head:n,$anchor:s}=t.selection;return!n.parent.type.spec.code||!n.sameParent(s)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function C2(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const gce=(t,e)=>{let{$head:n,$anchor:s}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(s))return!1;let r=n.node(-1),i=n.indexAfter(-1),o=C2(r.contentMatchAt(i));if(!o||!r.canReplaceWith(i,i,o))return!1;if(e){let l=n.after(),u=t.tr.replaceWith(l,l,o.createAndFill());u.setSelection(Je.near(u.doc.resolve(l),1)),e(u.scrollIntoView())}return!0},Q9=(t,e)=>{let n=t.selection,{$from:s,$to:r}=n;if(n instanceof br||s.parent.inlineContent||r.parent.inlineContent)return!1;let i=C2(r.parent.contentMatchAt(r.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let o=(!s.parentOffset&&r.index()<r.parent.childCount?s:r).pos,l=t.tr.insert(o,i.createAndFill());l.setSelection(Fe.create(l.doc,o+1)),e(l.scrollIntoView())}return!0},J9=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(Zo(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let s=n.blockRange(),r=s&&vh(s);return r==null?!1:(e&&e(t.tr.lift(s,r).scrollIntoView()),!0)};function yce(t){return(e,n)=>{let{$from:s,$to:r}=e.selection;if(e.selection instanceof Ve&&e.selection.node.isBlock)return!s.parentOffset||!Zo(e.doc,s.pos)?!1:(n&&n(e.tr.split(s.pos).scrollIntoView()),!0);if(!s.depth)return!1;let i=[],o,l,u=!1,d=!1;for(let x=s.depth;;x--)if(s.node(x).isBlock){u=s.end(x)==s.pos+(s.depth-x),d=s.start(x)==s.pos-(s.depth-x),l=C2(s.node(x-1).contentMatchAt(s.indexAfter(x-1))),i.unshift(u&&l?{type:l}:null),o=x;break}else{if(x==1)return!1;i.unshift(null)}let f=e.tr;(e.selection instanceof Fe||e.selection instanceof br)&&f.deleteSelection();let p=f.mapping.map(s.pos),y=Zo(f.doc,p,i.length,i);if(y||(i[0]=l?{type:l}:null,y=Zo(f.doc,p,i.length,i)),!y)return!1;if(f.split(p,i.length,i),!u&&d&&s.node(o).type!=l){let x=f.mapping.map(s.before(o)),w=f.doc.resolve(x);l&&s.node(o-1).canReplaceWith(w.index(),w.index()+1,l)&&f.setNodeMarkup(f.mapping.map(s.before(o)),l)}return n&&n(f.scrollIntoView()),!0}}const xce=yce(),vce=(t,e)=>{let{$from:n,to:s}=t.selection,r,i=n.sharedDepth(s);return i==0?!1:(r=n.before(i),e&&e(t.tr.setSelection(Ve.create(t.doc,r))),!0)};function bce(t,e,n){let s=e.nodeBefore,r=e.nodeAfter,i=e.index();return!s||!r||!s.type.compatibleContent(r.type)?!1:!s.content.size&&e.parent.canReplace(i-1,i)?(n&&n(t.tr.delete(e.pos-s.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(r.isTextblock||Hl(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function Z9(t,e,n,s){let r=e.nodeBefore,i=e.nodeAfter,o,l,u=r.type.spec.isolating||i.type.spec.isolating;if(!u&&bce(t,e,n))return!0;let d=!u&&e.parent.canReplace(e.index(),e.index()+1);if(d&&(o=(l=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&l.matchType(o[0]||i.type).validEnd){if(n){let x=e.pos+i.nodeSize,w=fe.empty;for(let A=o.length-1;A>=0;A--)w=fe.from(o[A].create(null,w));w=fe.from(r.copy(w));let T=t.tr.step(new Wn(e.pos-1,x,e.pos,x,new we(w,1,0),o.length,!0)),S=T.doc.resolve(x+2*o.length);S.nodeAfter&&S.nodeAfter.type==r.type&&Hl(T.doc,S.pos)&&T.join(S.pos),n(T.scrollIntoView())}return!0}let f=i.type.spec.isolating||s>0&&u?null:Je.findFrom(e,1),p=f&&f.$from.blockRange(f.$to),y=p&&vh(p);if(y!=null&&y>=e.depth)return n&&n(t.tr.lift(p,y).scrollIntoView()),!0;if(d&&Wd(i,"start",!0)&&Wd(r,"end")){let x=r,w=[];for(;w.push(x),!x.isTextblock;)x=x.lastChild;let T=i,S=1;for(;!T.isTextblock;T=T.firstChild)S++;if(x.canReplace(x.childCount,x.childCount,T.content)){if(n){let A=fe.empty;for(let P=w.length-1;P>=0;P--)A=fe.from(w[P].copy(A));let N=t.tr.step(new Wn(e.pos-w.length,e.pos+i.nodeSize,e.pos+S,e.pos+i.nodeSize-S,new we(A,w.length,0),0,!0));n(N.scrollIntoView())}return!0}}return!1}function eV(t){return function(e,n){let s=e.selection,r=t<0?s.$from:s.$to,i=r.depth;for(;r.node(i).isInline;){if(!i)return!1;i--}return r.node(i).isTextblock?(n&&n(e.tr.setSelection(Fe.create(e.doc,t<0?r.start(i):r.end(i)))),!0):!1}}const wce=eV(-1),Ece=eV(1);function Sce(t,e=null){return function(n,s){let{$from:r,$to:i}=n.selection,o=r.blockRange(i),l=o&&E2(o,t,e);return l?(s&&s(n.tr.wrap(o,l).scrollIntoView()),!0):!1}}function JD(t,e=null){return function(n,s){let r=!1;for(let i=0;i<n.selection.ranges.length&&!r;i++){let{$from:{pos:o},$to:{pos:l}}=n.selection.ranges[i];n.doc.nodesBetween(o,l,(u,d)=>{if(r)return!1;if(!(!u.isTextblock||u.hasMarkup(t,e)))if(u.type==t)r=!0;else{let f=n.doc.resolve(d),p=f.index();r=f.parent.canReplaceWith(p,p+1,t)}})}if(!r)return!1;if(s){let i=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:l},$to:{pos:u}}=n.selection.ranges[o];i.setBlockType(l,u,t,e)}s(i.scrollIntoView())}return!0}}function k2(...t){return function(e,n,s){for(let r=0;r<t.length;r++)if(t[r](e,n,s))return!0;return!1}}k2(T2,$9,W9);k2(T2,G9,Y9);k2(X9,Q9,J9,xce);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function Tce(t,e=null){return function(n,s){let{$from:r,$to:i}=n.selection,o=r.blockRange(i);if(!o)return!1;let l=s?n.tr:null;return _ce(l,o,t,e)?(s&&s(l.scrollIntoView()),!0):!1}}function _ce(t,e,n,s=null){let r=!1,i=e,o=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let u=o.resolve(e.start-2);i=new Q0(u,u,e.depth),e.endIndex<e.parent.childCount&&(e=new Q0(e.$from,o.resolve(e.$to.end(e.depth)),e.depth)),r=!0}let l=E2(i,n,s,e);return l?(t&&Ace(t,e,l,r,n),!0):!1}function Ace(t,e,n,s,r){let i=fe.empty;for(let f=n.length-1;f>=0;f--)i=fe.from(n[f].type.create(n[f].attrs,i));t.step(new Wn(e.start-(s?2:0),e.end,e.start,e.end,new we(i,0,0),n.length,!0));let o=0;for(let f=0;f<n.length;f++)n[f].type==r&&(o=f+1);let l=n.length-o,u=e.start+n.length-(s?2:0),d=e.parent;for(let f=e.startIndex,p=e.endIndex,y=!0;f<p;f++,y=!1)!y&&Zo(t.doc,u,l)&&(t.split(u,l),u+=2*l),u+=d.child(f).nodeSize;return t}function Cce(t){return function(e,n){let{$from:s,$to:r}=e.selection,i=s.blockRange(r,o=>o.childCount>0&&o.firstChild.type==t);return i?n?s.node(i.depth-1).type==t?kce(e,n,t,i):Nce(e,n,i):!0:!1}}function kce(t,e,n,s){let r=t.tr,i=s.end,o=s.$to.end(s.depth);i<o&&(r.step(new Wn(i-1,o,i,o,new we(fe.from(n.create(null,s.parent.copy())),1,0),1,!0)),s=new Q0(r.doc.resolve(s.$from.pos),r.doc.resolve(o),s.depth));const l=vh(s);if(l==null)return!1;r.lift(s,l);let u=r.doc.resolve(r.mapping.map(i,-1)-1);return Hl(r.doc,u.pos)&&u.nodeBefore.type==u.nodeAfter.type&&r.join(u.pos),e(r.scrollIntoView()),!0}function Nce(t,e,n){let s=t.tr,r=n.parent;for(let x=n.end,w=n.endIndex-1,T=n.startIndex;w>T;w--)x-=r.child(w).nodeSize,s.delete(x-1,x+1);let i=s.doc.resolve(n.start),o=i.nodeAfter;if(s.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,u=n.endIndex==r.childCount,d=i.node(-1),f=i.index(-1);if(!d.canReplace(f+(l?0:1),f+1,o.content.append(u?fe.empty:fe.from(r))))return!1;let p=i.pos,y=p+o.nodeSize;return s.step(new Wn(p-(l?1:0),y+(u?1:0),p+1,y-1,new we((l?fe.empty:fe.from(r.copy(fe.empty))).append(u?fe.empty:fe.from(r.copy(fe.empty))),l?0:1,u?0:1),l?0:1)),e(s.scrollIntoView()),!0}function Rce(t){return function(e,n){let{$from:s,$to:r}=e.selection,i=s.blockRange(r,d=>d.childCount>0&&d.firstChild.type==t);if(!i)return!1;let o=i.startIndex;if(o==0)return!1;let l=i.parent,u=l.child(o-1);if(u.type!=t)return!1;if(n){let d=u.lastChild&&u.lastChild.type==l.type,f=fe.from(d?t.create():null),p=new we(fe.from(t.create(null,fe.from(l.type.create(null,f)))),d?3:1,0),y=i.start,x=i.end;n(e.tr.step(new Wn(y-(d?3:1),x,y,x,p,1,!0)).scrollIntoView())}return!0}}const ss=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Kd=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let PS=null;const qo=function(t,e,n){let s=PS||(PS=document.createRange());return s.setEnd(t,n??t.nodeValue.length),s.setStart(t,e||0),s},Mce=function(){PS=null},nu=function(t,e,n,s){return n&&(ZD(t,e,n,s,-1)||ZD(t,e,n,s,1))},Ice=/^(img|br|input|textarea|hr)$/i;function ZD(t,e,n,s,r){for(var i;;){if(t==n&&e==s)return!0;if(e==(r<0?0:Hr(t))){let o=t.parentNode;if(!o||o.nodeType!=1||Sm(t)||Ice.test(t.nodeName)||t.contentEditable=="false")return!1;e=ss(t)+(r<0?0:1),t=o}else if(t.nodeType==1){let o=t.childNodes[e+(r<0?-1:0)];if(o.nodeType==1&&o.contentEditable=="false")if(!((i=o.pmViewDesc)===null||i===void 0)&&i.ignoreForSelection)e+=r;else return!1;else t=o,e=r<0?Hr(t):0}else return!1}}function Hr(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Dce(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Hr(t)}else if(t.parentNode&&!Sm(t))e=ss(t),t=t.parentNode;else return null}}function Pce(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Sm(t))e=ss(t)+1,t=t.parentNode;else return null}}function Oce(t,e,n){for(let s=e==0,r=e==Hr(t);s||r;){if(t==n)return!0;let i=ss(t);if(t=t.parentNode,!t)return!1;s=s&&i==0,r=r&&i==Hr(t)}}function Sm(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Rv=function(t){return t.focusNode&&nu(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Cc(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function jce(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Lce(t,e,n){if(t.caretPositionFromPoint)try{let s=t.caretPositionFromPoint(e,n);if(s)return{node:s.offsetNode,offset:Math.min(Hr(s.offsetNode),s.offset)}}catch{}if(t.caretRangeFromPoint){let s=t.caretRangeFromPoint(e,n);if(s)return{node:s.startContainer,offset:Math.min(Hr(s.startContainer),s.startOffset)}}}const lo=typeof navigator<"u"?navigator:null,e3=typeof document<"u"?document:null,$l=lo&&lo.userAgent||"",OS=/Edge\/(\d+)/.exec($l),tV=/MSIE \d/.exec($l),jS=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec($l),Js=!!(tV||jS||OS),wl=tV?document.documentMode:jS?+jS[1]:OS?+OS[1]:0,Wr=!Js&&/gecko\/(\d+)/i.test($l);Wr&&+(/Firefox\/(\d+)/.exec($l)||[0,0])[1];const LS=!Js&&/Chrome\/(\d+)/.exec($l),as=!!LS,nV=LS?+LS[1]:0,_s=!Js&&!!lo&&/Apple Computer/.test(lo.vendor),Gd=_s&&(/Mobile\/\w+/.test($l)||!!lo&&lo.maxTouchPoints>2),Ur=Gd||(lo?/Mac/.test(lo.platform):!1),sV=lo?/Win/.test(lo.platform):!1,Go=/Android \d/.test($l),Tm=!!e3&&"webkitFontSmoothing"in e3.documentElement.style,Vce=Tm?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function zce(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Bo(t,e){return typeof t=="number"?t:t[e]}function Bce(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,s=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*s}}function t3(t,e,n){let s=t.someProp("scrollThreshold")||0,r=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument;for(let o=n||t.dom;o;){if(o.nodeType!=1){o=Kd(o);continue}let l=o,u=l==i.body,d=u?zce(i):Bce(l),f=0,p=0;if(e.top<d.top+Bo(s,"top")?p=-(d.top-e.top+Bo(r,"top")):e.bottom>d.bottom-Bo(s,"bottom")&&(p=e.bottom-e.top>d.bottom-d.top?e.top+Bo(r,"top")-d.top:e.bottom-d.bottom+Bo(r,"bottom")),e.left<d.left+Bo(s,"left")?f=-(d.left-e.left+Bo(r,"left")):e.right>d.right-Bo(s,"right")&&(f=e.right-d.right+Bo(r,"right")),f||p)if(u)i.defaultView.scrollBy(f,p);else{let x=l.scrollLeft,w=l.scrollTop;p&&(l.scrollTop+=p),f&&(l.scrollLeft+=f);let T=l.scrollLeft-x,S=l.scrollTop-w;e={left:e.left-T,top:e.top-S,right:e.right-T,bottom:e.bottom-S}}let y=u?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(y))break;o=y=="absolute"?o.offsetParent:Kd(o)}}function Uce(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),s,r;for(let i=(e.left+e.right)/2,o=n+1;o<Math.min(innerHeight,e.bottom);o+=5){let l=t.root.elementFromPoint(i,o);if(!l||l==t.dom||!t.dom.contains(l))continue;let u=l.getBoundingClientRect();if(u.top>=n-20){s=l,r=u.top;break}}return{refDOM:s,refTop:r,stack:rV(t.dom)}}function rV(t){let e=[],n=t.ownerDocument;for(let s=t;s&&(e.push({dom:s,top:s.scrollTop,left:s.scrollLeft}),t!=n);s=Kd(s));return e}function Fce({refDOM:t,refTop:e,stack:n}){let s=t?t.getBoundingClientRect().top:0;iV(n,s==0?0:s-e)}function iV(t,e){for(let n=0;n<t.length;n++){let{dom:s,top:r,left:i}=t[n];s.scrollTop!=r+e&&(s.scrollTop=r+e),s.scrollLeft!=i&&(s.scrollLeft=i)}}let id=null;function Hce(t){if(t.setActive)return t.setActive();if(id)return t.focus(id);let e=rV(t);t.focus(id==null?{get preventScroll(){return id={preventScroll:!0},!0}}:void 0),id||(id=!1,iV(e,0))}function oV(t,e){let n,s=2e8,r,i=0,o=e.top,l=e.top,u,d;for(let f=t.firstChild,p=0;f;f=f.nextSibling,p++){let y;if(f.nodeType==1)y=f.getClientRects();else if(f.nodeType==3)y=qo(f).getClientRects();else continue;for(let x=0;x<y.length;x++){let w=y[x];if(w.top<=o&&w.bottom>=l){o=Math.max(w.bottom,o),l=Math.min(w.top,l);let T=w.left>e.left?w.left-e.left:w.right<e.left?e.left-w.right:0;if(T<s){n=f,s=T,r=T&&n.nodeType==3?{left:w.right<e.left?w.right:w.left,top:e.top}:e,f.nodeType==1&&T&&(i=p+(e.left>=(w.left+w.right)/2?1:0));continue}}else w.top>e.top&&!u&&w.left<=e.left&&w.right>=e.left&&(u=f,d={left:Math.max(w.left,Math.min(w.right,e.left)),top:w.top});!n&&(e.left>=w.right&&e.top>=w.top||e.left>=w.left&&e.top>=w.bottom)&&(i=p+1)}}return!n&&u&&(n=u,r=d,s=0),n&&n.nodeType==3?$ce(n,r):!n||s&&n.nodeType==1?{node:t,offset:i}:oV(n,r)}function $ce(t,e){let n=t.nodeValue.length,s=document.createRange(),r;for(let i=0;i<n;i++){s.setEnd(t,i+1),s.setStart(t,i);let o=Xa(s,1);if(o.top!=o.bottom&&N2(e,o)){r={node:t,offset:i+(e.left>=(o.left+o.right)/2?1:0)};break}}return s.detach(),r||{node:t,offset:0}}function N2(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function qce(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function Wce(t,e,n){let{node:s,offset:r}=oV(e,n),i=-1;if(s.nodeType==1&&!s.firstChild){let o=s.getBoundingClientRect();i=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(s,r,i)}function Kce(t,e,n,s){let r=-1;for(let i=e,o=!1;i!=t.dom;){let l=t.docView.nearestDesc(i,!0),u;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((u=l.dom.getBoundingClientRect()).width||u.height)&&(l.node.isBlock&&l.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(l.dom.nodeName)&&(!o&&u.left>s.left||u.top>s.top?r=l.posBefore:(!o&&u.right<s.left||u.bottom<s.top)&&(r=l.posAfter),o=!0),!l.contentDOM&&r<0&&!l.node.isText))return(l.node.isBlock?s.top<(u.top+u.bottom)/2:s.left<(u.left+u.right)/2)?l.posBefore:l.posAfter;i=l.dom.parentNode}return r>-1?r:t.docView.posFromDOM(e,n,-1)}function aV(t,e,n){let s=t.childNodes.length;if(s&&n.top<n.bottom)for(let r=Math.max(0,Math.min(s-1,Math.floor(s*(e.top-n.top)/(n.bottom-n.top))-2)),i=r;;){let o=t.childNodes[i];if(o.nodeType==1){let l=o.getClientRects();for(let u=0;u<l.length;u++){let d=l[u];if(N2(e,d))return aV(o,e,d)}}if((i=(i+1)%s)==r)break}return t}function Gce(t,e){let n=t.dom.ownerDocument,s,r=0,i=Lce(n,e.left,e.top);i&&({node:s,offset:r}=i);let o=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),l;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let d=t.dom.getBoundingClientRect();if(!N2(e,d)||(o=aV(t.dom,e,d),!o))return null}if(_s)for(let d=o;s&&d;d=Kd(d))d.draggable&&(s=void 0);if(o=qce(o,e),s){if(Wr&&s.nodeType==1&&(r=Math.min(r,s.childNodes.length),r<s.childNodes.length)){let f=s.childNodes[r],p;f.nodeName=="IMG"&&(p=f.getBoundingClientRect()).right<=e.left&&p.bottom>e.top&&r++}let d;Tm&&r&&s.nodeType==1&&(d=s.childNodes[r-1]).nodeType==1&&d.contentEditable=="false"&&d.getBoundingClientRect().top>=e.top&&r--,s==t.dom&&r==s.childNodes.length-1&&s.lastChild.nodeType==1&&e.top>s.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:(r==0||s.nodeType!=1||s.childNodes[r-1].nodeName!="BR")&&(l=Kce(t,s,r,e))}l==null&&(l=Wce(t,o,e));let u=t.docView.nearestDesc(o,!0);return{pos:l,inside:u?u.posAtStart-u.border:-1}}function n3(t){return t.top<t.bottom||t.left<t.right}function Xa(t,e){let n=t.getClientRects();if(n.length){let s=n[e<0?0:n.length-1];if(n3(s))return s}return Array.prototype.find.call(n,n3)||t.getBoundingClientRect()}const Yce=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function lV(t,e,n){let{node:s,offset:r,atom:i}=t.docView.domFromPos(e,n<0?-1:1),o=Tm||Wr;if(s.nodeType==3)if(o&&(Yce.test(s.nodeValue)||(n<0?!r:r==s.nodeValue.length))){let u=Xa(qo(s,r,r),n);if(Wr&&r&&/\s/.test(s.nodeValue[r-1])&&r<s.nodeValue.length){let d=Xa(qo(s,r-1,r-1),-1);if(d.top==u.top){let f=Xa(qo(s,r,r+1),-1);if(f.top!=u.top)return Nf(f,f.left<d.left)}}return u}else{let u=r,d=r,f=n<0?1:-1;return n<0&&!r?(d++,f=-1):n>=0&&r==s.nodeValue.length?(u--,f=1):n<0?u--:d++,Nf(Xa(qo(s,u,d),f),f<0)}if(!t.state.doc.resolve(e-(i||0)).parent.inlineContent){if(i==null&&r&&(n<0||r==Hr(s))){let u=s.childNodes[r-1];if(u.nodeType==1)return qw(u.getBoundingClientRect(),!1)}if(i==null&&r<Hr(s)){let u=s.childNodes[r];if(u.nodeType==1)return qw(u.getBoundingClientRect(),!0)}return qw(s.getBoundingClientRect(),n>=0)}if(i==null&&r&&(n<0||r==Hr(s))){let u=s.childNodes[r-1],d=u.nodeType==3?qo(u,Hr(u)-(o?0:1)):u.nodeType==1&&(u.nodeName!="BR"||!u.nextSibling)?u:null;if(d)return Nf(Xa(d,1),!1)}if(i==null&&r<Hr(s)){let u=s.childNodes[r];for(;u.pmViewDesc&&u.pmViewDesc.ignoreForCoords;)u=u.nextSibling;let d=u?u.nodeType==3?qo(u,0,o?0:1):u.nodeType==1?u:null:null;if(d)return Nf(Xa(d,-1),!0)}return Nf(Xa(s.nodeType==3?qo(s):s,-n),n>=0)}function Nf(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function qw(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function cV(t,e,n){let s=t.state,r=t.root.activeElement;s!=e&&t.updateState(e),r!=t.dom&&t.focus();try{return n()}finally{s!=e&&t.updateState(s),r!=t.dom&&r&&r.focus()}}function Xce(t,e,n){let s=e.selection,r=n=="up"?s.$from:s.$to;return cV(t,e,()=>{let{node:i}=t.docView.domFromPos(r.pos,n=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(i,!0);if(!l)break;if(l.node.isBlock){i=l.contentDOM||l.dom;break}i=l.dom.parentNode}let o=lV(t,r.pos,1);for(let l=i.firstChild;l;l=l.nextSibling){let u;if(l.nodeType==1)u=l.getClientRects();else if(l.nodeType==3)u=qo(l,0,l.nodeValue.length).getClientRects();else continue;for(let d=0;d<u.length;d++){let f=u[d];if(f.bottom>f.top+1&&(n=="up"?o.top-f.top>(f.bottom-o.top)*2:f.bottom-o.bottom>(o.bottom-f.top)*2))return!1}}return!0})}const Qce=/[\u0590-\u08ac]/;function Jce(t,e,n){let{$head:s}=e.selection;if(!s.parent.isTextblock)return!1;let r=s.parentOffset,i=!r,o=r==s.parent.content.size,l=t.domSelection();return l?!Qce.test(s.parent.textContent)||!l.modify?n=="left"||n=="backward"?i:o:cV(t,e,()=>{let{focusNode:u,focusOffset:d,anchorNode:f,anchorOffset:p}=t.domSelectionRange(),y=l.caretBidiLevel;l.modify("move",n,"character");let x=s.depth?t.docView.domAfterPos(s.before()):t.dom,{focusNode:w,focusOffset:T}=t.domSelectionRange(),S=w&&!x.contains(w.nodeType==1?w:w.parentNode)||u==w&&d==T;try{l.collapse(f,p),u&&(u!=f||d!=p)&&l.extend&&l.extend(u,d)}catch{}return y!=null&&(l.caretBidiLevel=y),S}):s.pos==s.start()||s.pos==s.end()}let s3=null,r3=null,i3=!1;function Zce(t,e,n){return s3==e&&r3==n?i3:(s3=e,r3=n,i3=n=="up"||n=="down"?Xce(t,e,n):Jce(t,e,n))}const Kr=0,o3=1,Mc=2,co=3;class _m{constructor(e,n,s,r){this.parent=e,this.children=n,this.dom=s,this.contentDOM=r,this.dirty=Kr,s.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,s){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,s=this.posAtStart;;n++){let r=this.children[n];if(r==e)return s;s+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,s){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(s<0){let i,o;if(e==this.contentDOM)i=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(o)+o.size:this.posAtStart}else{let i,o;if(e==this.contentDOM)i=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(o):this.posAtEnd}let r;if(e==this.dom&&this.contentDOM)r=n>ss(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let i=e;;i=i.parentNode){if(i==this.dom){r=!1;break}if(i.previousSibling)break}if(r==null&&n==e.childNodes.length)for(let i=e;;i=i.parentNode){if(i==this.dom){r=!0;break}if(i.nextSibling)break}}return r??s>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let s=!0,r=e;r;r=r.parentNode){let i=this.getDesc(r),o;if(i&&(!n||i.node))if(s&&(o=i.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))s=!1;else return i}}getDesc(e){let n=e.pmViewDesc;for(let s=n;s;s=s.parent)if(s==this)return n}posFromDOM(e,n,s){for(let r=e;r;r=r.parentNode){let i=this.getDesc(r);if(i)return i.localPosFromDOM(e,n,s)}return-1}descAt(e){for(let n=0,s=0;n<this.children.length;n++){let r=this.children[n],i=s+r.size;if(s==e&&i!=s){for(;!r.border&&r.children.length;)for(let o=0;o<r.children.length;o++){let l=r.children[o];if(l.size){r=l;break}}return r}if(e<i)return r.descAt(e-s-r.border);s=i}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let s=0,r=0;for(let i=0;s<this.children.length;s++){let o=this.children[s],l=i+o.size;if(l>e||o instanceof dV){r=e-i;break}i=l}if(r)return this.children[s].domFromPos(r-this.children[s].border,n);for(let i;s&&!(i=this.children[s-1]).size&&i instanceof uV&&i.side>=0;s--);if(n<=0){let i,o=!0;for(;i=s?this.children[s-1]:null,!(!i||i.dom.parentNode==this.contentDOM);s--,o=!1);return i&&n&&o&&!i.border&&!i.domAtom?i.domFromPos(i.size,n):{node:this.contentDOM,offset:i?ss(i.dom)+1:0}}else{let i,o=!0;for(;i=s<this.children.length?this.children[s]:null,!(!i||i.dom.parentNode==this.contentDOM);s++,o=!1);return i&&o&&!i.border&&!i.domAtom?i.domFromPos(0,n):{node:this.contentDOM,offset:i?ss(i.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,s=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,i=-1;for(let o=s,l=0;;l++){let u=this.children[l],d=o+u.size;if(r==-1&&e<=d){let f=o+u.border;if(e>=f&&n<=d-u.border&&u.node&&u.contentDOM&&this.contentDOM.contains(u.contentDOM))return u.parseRange(e,n,f);e=o;for(let p=l;p>0;p--){let y=this.children[p-1];if(y.size&&y.dom.parentNode==this.contentDOM&&!y.emptyChildAt(1)){r=ss(y.dom)+1;break}e-=y.size}r==-1&&(r=0)}if(r>-1&&(d>n||l==this.children.length-1)){n=d;for(let f=l+1;f<this.children.length;f++){let p=this.children[f];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(-1)){i=ss(p.dom);break}n+=p.size}i==-1&&(i=this.contentDOM.childNodes.length);break}o=d}return{node:this.contentDOM,from:e,to:n,fromOffset:r,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:s}=this.domFromPos(e,0);if(n.nodeType!=1||s==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[s]}setSelection(e,n,s,r=!1){let i=Math.min(e,n),o=Math.max(e,n);for(let x=0,w=0;x<this.children.length;x++){let T=this.children[x],S=w+T.size;if(i>w&&o<S)return T.setSelection(e-w-T.border,n-w-T.border,s,r);w=S}let l=this.domFromPos(e,e?-1:1),u=n==e?l:this.domFromPos(n,n?-1:1),d=s.root.getSelection(),f=s.domSelectionRange(),p=!1;if((Wr||_s)&&e==n){let{node:x,offset:w}=l;if(x.nodeType==3){if(p=!!(w&&x.nodeValue[w-1]==`
`),p&&w==x.nodeValue.length)for(let T=x,S;T;T=T.parentNode){if(S=T.nextSibling){S.nodeName=="BR"&&(l=u={node:S.parentNode,offset:ss(S)+1});break}let A=T.pmViewDesc;if(A&&A.node&&A.node.isBlock)break}}else{let T=x.childNodes[w-1];p=T&&(T.nodeName=="BR"||T.contentEditable=="false")}}if(Wr&&f.focusNode&&f.focusNode!=u.node&&f.focusNode.nodeType==1){let x=f.focusNode.childNodes[f.focusOffset];x&&x.contentEditable=="false"&&(r=!0)}if(!(r||p&&_s)&&nu(l.node,l.offset,f.anchorNode,f.anchorOffset)&&nu(u.node,u.offset,f.focusNode,f.focusOffset))return;let y=!1;if((d.extend||e==n)&&!(p&&Wr)){d.collapse(l.node,l.offset);try{e!=n&&d.extend(u.node,u.offset),y=!0}catch{}}if(!y){if(e>n){let w=l;l=u,u=w}let x=document.createRange();x.setEnd(u.node,u.offset),x.setStart(l.node,l.offset),d.removeAllRanges(),d.addRange(x)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let s=0,r=0;r<this.children.length;r++){let i=this.children[r],o=s+i.size;if(s==o?e<=o&&n>=s:e<o&&n>s){let l=s+i.border,u=o-i.border;if(e>=l&&n<=u){this.dirty=e==s||n==o?Mc:o3,e==l&&n==u&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=co:i.markDirty(e-l,n-l);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?Mc:co}s=o}this.dirty=Mc}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let s=e==1?Mc:o3;n.dirty<s&&(n.dirty=s)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class uV extends _m{constructor(e,n,s,r){let i,o=n.type.toDOM;if(typeof o=="function"&&(o=o(s,()=>{if(!i)return r;if(i.parent)return i.parent.posBeforeChild(i)})),!n.type.spec.raw){if(o.nodeType!=1){let l=document.createElement("span");l.appendChild(o),o=l}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=n,this.widget=n,i=this}matchesWidget(e){return this.dirty==Kr&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class eue extends _m{constructor(e,n,s,r){super(e,[],n,null),this.textDOM=s,this.text=r}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class su extends _m{constructor(e,n,s,r,i){super(e,[],s,r),this.mark=n,this.spec=i}static create(e,n,s,r){let i=r.nodeViews[n.type.name],o=i&&i(n,r,s);return(!o||!o.dom)&&(o=fu.renderSpec(document,n.type.spec.toDOM(n,s),null,n.attrs)),new su(e,n,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&co||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=co&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Kr){let s=this.parent;for(;!s.node;)s=s.parent;s.dirty<this.dirty&&(s.dirty=this.dirty),this.dirty=Kr}}slice(e,n,s){let r=su.create(this.parent,this.mark,!0,s),i=this.children,o=this.size;n<o&&(i=zS(i,n,o,s)),e>0&&(i=zS(i,0,e,s));for(let l=0;l<i.length;l++)i[l].parent=r;return r.children=i,r}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class El extends _m{constructor(e,n,s,r,i,o,l,u,d){super(e,[],i,o),this.node=n,this.outerDeco=s,this.innerDeco=r,this.nodeDOM=l}static create(e,n,s,r,i,o){let l=i.nodeViews[n.type.name],u,d=l&&l(n,i,()=>{if(!u)return o;if(u.parent)return u.parent.posBeforeChild(u)},s,r),f=d&&d.dom,p=d&&d.contentDOM;if(n.isText){if(!f)f=document.createTextNode(n.text);else if(f.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else f||({dom:f,contentDOM:p}=fu.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!p&&!n.isText&&f.nodeName!="BR"&&(f.hasAttribute("contenteditable")||(f.contentEditable="false"),n.type.spec.draggable&&(f.draggable=!0));let y=f;return f=pV(f,s,n),d?u=new tue(e,n,s,r,f,p||null,y,d,i,o+1):n.isText?new Mv(e,n,s,r,f,y,i):new El(e,n,s,r,f,p||null,y,i,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let s=this.children[n];if(this.dom.contains(s.dom.parentNode)){e.contentElement=s.dom.parentNode;break}}e.contentElement||(e.getContent=()=>fe.empty)}return e}matchesNode(e,n,s){return this.dirty==Kr&&e.eq(this.node)&&Z0(n,this.outerDeco)&&s.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let s=this.node.inlineContent,r=n,i=e.composing?this.localCompositionInfo(e,n):null,o=i&&i.pos>-1?i:null,l=i&&i.pos<0,u=new sue(this,o&&o.node,e);oue(this.node,this.innerDeco,(d,f,p)=>{d.spec.marks?u.syncToMarks(d.spec.marks,s,e,f):d.type.side>=0&&!p&&u.syncToMarks(f==this.node.childCount?Nt.none:this.node.child(f).marks,s,e,f),u.placeWidget(d,e,r)},(d,f,p,y)=>{u.syncToMarks(d.marks,s,e,y);let x;u.findNodeMatch(d,f,p,y)||l&&e.state.selection.from>r&&e.state.selection.to<r+d.nodeSize&&(x=u.findIndexWithChild(i.node))>-1&&u.updateNodeAt(d,f,p,x,e)||u.updateNextNode(d,f,p,e,y,r)||u.addNode(d,f,p,e,r),r+=d.nodeSize}),u.syncToMarks([],s,e,0),this.node.isTextblock&&u.addTextblockHacks(),u.destroyRest(),(u.changed||this.dirty==Mc)&&(o&&this.protectLocalComposition(e,o),hV(this.contentDOM,this.children,e),Gd&&aue(this.dom))}localCompositionInfo(e,n){let{from:s,to:r}=e.state.selection;if(!(e.state.selection instanceof Fe)||s<n||r>n+this.node.content.size)return null;let i=e.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let o=i.nodeValue,l=lue(this.node.content,o,s-n,r-n);return l<0?null:{node:i,pos:l,text:o}}else return{node:i,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:s,text:r}){if(this.getDesc(n))return;let i=n;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let o=new eue(this,i,n,r);e.input.compositionNodes.push(o),this.children=zS(this.children,s,s+r.length,e,o)}update(e,n,s,r){return this.dirty==co||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,s,r),!0)}updateInner(e,n,s,r){this.updateOuterDeco(n),this.node=e,this.innerDeco=s,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=Kr}updateOuterDeco(e){if(Z0(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,s=this.dom;this.dom=fV(this.dom,this.nodeDOM,VS(this.outerDeco,this.node,n),VS(e,this.node,n)),this.dom!=s&&(s.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function a3(t,e,n,s,r){pV(s,e,t);let i=new El(void 0,t,e,n,s,s,s,r,0);return i.contentDOM&&i.updateChildren(r,0),i}class Mv extends El{constructor(e,n,s,r,i,o,l){super(e,n,s,r,i,null,o,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,s,r){return this.dirty==co||this.dirty!=Kr&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Kr||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=Kr,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,s){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,s)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,s){let r=this.node.cut(e,n),i=document.createTextNode(r.text);return new Mv(this.parent,r,this.outerDeco,this.innerDeco,i,i,s)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=co)}get domAtom(){return!1}isText(e){return this.node.text==e}}class dV extends _m{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Kr&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class tue extends El{constructor(e,n,s,r,i,o,l,u,d,f){super(e,n,s,r,i,o,l,d,f),this.spec=u}update(e,n,s,r){if(this.dirty==co)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let i=this.spec.update(e,n,s);return i&&this.updateInner(e,n,s,r),i}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,s,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,s,r){this.spec.setSelection?this.spec.setSelection(e,n,s.root):super.setSelection(e,n,s,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function hV(t,e,n){let s=t.firstChild,r=!1;for(let i=0;i<e.length;i++){let o=e[i],l=o.dom;if(l.parentNode==t){for(;l!=s;)s=l3(s),r=!0;s=s.nextSibling}else r=!0,t.insertBefore(l,s);if(o instanceof su){let u=s?s.previousSibling:t.lastChild;hV(o.contentDOM,o.children,n),s=u?u.nextSibling:t.firstChild}}for(;s;)s=l3(s),r=!0;r&&n.trackWrites==t&&(n.trackWrites=null)}const up=function(t){t&&(this.nodeName=t)};up.prototype=Object.create(null);const Ic=[new up];function VS(t,e,n){if(t.length==0)return Ic;let s=n?Ic[0]:new up,r=[s];for(let i=0;i<t.length;i++){let o=t[i].type.attrs;if(o){o.nodeName&&r.push(s=new up(o.nodeName));for(let l in o){let u=o[l];u!=null&&(n&&r.length==1&&r.push(s=new up(e.isInline?"span":"div")),l=="class"?s.class=(s.class?s.class+" ":"")+u:l=="style"?s.style=(s.style?s.style+";":"")+u:l!="nodeName"&&(s[l]=u))}}}return r}function fV(t,e,n,s){if(n==Ic&&s==Ic)return e;let r=e;for(let i=0;i<s.length;i++){let o=s[i],l=n[i];if(i){let u;l&&l.nodeName==o.nodeName&&r!=t&&(u=r.parentNode)&&u.nodeName.toLowerCase()==o.nodeName||(u=document.createElement(o.nodeName),u.pmIsDeco=!0,u.appendChild(r),l=Ic[0]),r=u}nue(r,l||Ic[0],o)}return r}function nue(t,e,n){for(let s in e)s!="class"&&s!="style"&&s!="nodeName"&&!(s in n)&&t.removeAttribute(s);for(let s in n)s!="class"&&s!="style"&&s!="nodeName"&&n[s]!=e[s]&&t.setAttribute(s,n[s]);if(e.class!=n.class){let s=e.class?e.class.split(" ").filter(Boolean):[],r=n.class?n.class.split(" ").filter(Boolean):[];for(let i=0;i<s.length;i++)r.indexOf(s[i])==-1&&t.classList.remove(s[i]);for(let i=0;i<r.length;i++)s.indexOf(r[i])==-1&&t.classList.add(r[i]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let s=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,r;for(;r=s.exec(e.style);)t.style.removeProperty(r[1])}n.style&&(t.style.cssText+=n.style)}}function pV(t,e,n){return fV(t,t,Ic,VS(e,n,t.nodeType!=1))}function Z0(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function l3(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class sue{constructor(e,n,s){this.lock=n,this.view=s,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=rue(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let s=e;s<n;s++)this.top.children[s].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,s,r){let i=0,o=this.stack.length>>1,l=Math.min(o,e.length);for(;i<l&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=Kr,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let u=-1,d=this.top.children.length;r<this.preMatch.index&&(d=Math.min(this.index+3,d));for(let f=this.index;f<d;f++){let p=this.top.children[f];if(p.matchesMark(e[o])&&!this.isLocked(p.dom)){u=f;break}}if(u>-1)u>this.index&&(this.changed=!0,this.destroyBetween(this.index,u)),this.top=this.top.children[this.index];else{let f=su.create(this.top,e[o],n,s);this.top.children.splice(this.index,0,f),this.top=f,this.changed=!0}this.index=0,o++}}findNodeMatch(e,n,s,r){let i=-1,o;if(r>=this.preMatch.index&&(o=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&o.matchesNode(e,n,s))i=this.top.children.indexOf(o,this.index);else for(let l=this.index,u=Math.min(this.top.children.length,l+5);l<u;l++){let d=this.top.children[l];if(d.matchesNode(e,n,s)&&!this.preMatch.matched.has(d)){i=l;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,n,s,r,i){let o=this.top.children[r];return o.dirty==co&&o.dom==o.contentDOM&&(o.dirty=Mc),o.update(e,n,s,i)?(this.destroyBetween(this.index,r),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let s=e.pmViewDesc;if(s){for(let r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==s)return r}return-1}e=n}}updateNextNode(e,n,s,r,i,o){for(let l=this.index;l<this.top.children.length;l++){let u=this.top.children[l];if(u instanceof El){let d=this.preMatch.matched.get(u);if(d!=null&&d!=i)return!1;let f=u.dom,p,y=this.isLocked(f)&&!(e.isText&&u.node&&u.node.isText&&u.nodeDOM.nodeValue==e.text&&u.dirty!=co&&Z0(n,u.outerDeco));if(!y&&u.update(e,n,s,r))return this.destroyBetween(this.index,l),u.dom!=f&&(this.changed=!0),this.index++,!0;if(!y&&(p=this.recreateWrapper(u,e,n,s,r,o)))return this.destroyBetween(this.index,l),this.top.children[this.index]=p,p.contentDOM&&(p.dirty=Mc,p.updateChildren(r,o+1),p.dirty=Kr),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,s,r,i,o){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Z0(s,e.outerDeco)||!r.eq(e.innerDeco))return null;let l=El.create(this.top,n,s,r,i,o);if(l.contentDOM){l.children=e.children,e.children=[];for(let u of l.children)u.parent=l}return e.destroy(),l}addNode(e,n,s,r,i){let o=El.create(this.top,e,n,s,r,i);o.contentDOM&&o.updateChildren(r,i+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,n,s){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(r&&r.matchesWidget(e)&&(e==r.widget||!r.widget.type.toDOM.parentNode))this.index++;else{let i=new uV(this.top,e,n,s);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof su;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Mv)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((_s||as)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let s=document.createElement(e);e=="IMG"&&(s.className="ProseMirror-separator",s.alt=""),e=="BR"&&(s.className="ProseMirror-trailingBreak");let r=new dV(this.top,[],s,null);n!=this.top?n.children.push(r):n.children.splice(this.index++,0,r),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function rue(t,e){let n=e,s=n.children.length,r=t.childCount,i=new Map,o=[];e:for(;r>0;){let l;for(;;)if(s){let d=n.children[s-1];if(d instanceof su)n=d,s=d.children.length;else{l=d,s--;break}}else{if(n==e)break e;s=n.parent.children.indexOf(n),n=n.parent}let u=l.node;if(u){if(u!=t.child(r-1))break;--r,i.set(l,r),o.push(l)}}return{index:r,matched:i,matches:o.reverse()}}function iue(t,e){return t.type.side-e.type.side}function oue(t,e,n,s){let r=e.locals(t),i=0;if(r.length==0){for(let d=0;d<t.childCount;d++){let f=t.child(d);s(f,r,e.forChild(i,f),d),i+=f.nodeSize}return}let o=0,l=[],u=null;for(let d=0;;){let f,p;for(;o<r.length&&r[o].to==i;){let S=r[o++];S.widget&&(f?(p||(p=[f])).push(S):f=S)}if(f)if(p){p.sort(iue);for(let S=0;S<p.length;S++)n(p[S],d,!!u)}else n(f,d,!!u);let y,x;if(u)x=-1,y=u,u=null;else if(d<t.childCount)x=d,y=t.child(d++);else break;for(let S=0;S<l.length;S++)l[S].to<=i&&l.splice(S--,1);for(;o<r.length&&r[o].from<=i&&r[o].to>i;)l.push(r[o++]);let w=i+y.nodeSize;if(y.isText){let S=w;o<r.length&&r[o].from<S&&(S=r[o].from);for(let A=0;A<l.length;A++)l[A].to<S&&(S=l[A].to);S<w&&(u=y.cut(S-i),y=y.cut(0,S-i),w=S,x=-1)}else for(;o<r.length&&r[o].to<w;)o++;let T=y.isInline&&!y.isLeaf?l.filter(S=>!S.inline):l.slice();s(y,T,e.forChild(i,y),x),i=w}}function aue(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function lue(t,e,n,s){for(let r=0,i=0;r<t.childCount&&i<=s;){let o=t.child(r++),l=i;if(i+=o.nodeSize,!o.isText)continue;let u=o.text;for(;r<t.childCount;){let d=t.child(r++);if(i+=d.nodeSize,!d.isText)break;u+=d.text}if(i>=n){if(i>=s&&u.slice(s-e.length-l,s-l)==e)return s-e.length;let d=l<s?u.lastIndexOf(e,s-l-1):-1;if(d>=0&&d+e.length+l>=n)return l+d;if(n==s&&u.length>=s+e.length-l&&u.slice(s-l,s-l+e.length)==e)return s}}return-1}function zS(t,e,n,s,r){let i=[];for(let o=0,l=0;o<t.length;o++){let u=t[o],d=l,f=l+=u.size;d>=n||f<=e?i.push(u):(d<e&&i.push(u.slice(0,e-d,s)),r&&(i.push(r),r=void 0),f>n&&i.push(u.slice(n-d,u.size,s)))}return i}function R2(t,e=null){let n=t.domSelectionRange(),s=t.state.doc;if(!n.focusNode)return null;let r=t.docView.nearestDesc(n.focusNode),i=r&&r.size==0,o=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let l=s.resolve(o),u,d;if(Rv(n)){for(u=o;r&&!r.node;)r=r.parent;let p=r.node;if(r&&p.isAtom&&Ve.isSelectable(p)&&r.parent&&!(p.isInline&&Oce(n.focusNode,n.focusOffset,r.dom))){let y=r.posBefore;d=new Ve(o==y?l:s.resolve(y))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let p=o,y=o;for(let x=0;x<n.rangeCount;x++){let w=n.getRangeAt(x);p=Math.min(p,t.docView.posFromDOM(w.startContainer,w.startOffset,1)),y=Math.max(y,t.docView.posFromDOM(w.endContainer,w.endOffset,-1))}if(p<0)return null;[u,o]=y==t.state.selection.anchor?[y,p]:[p,y],l=s.resolve(o)}else u=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(u<0)return null}let f=s.resolve(u);if(!d){let p=e=="pointer"||t.state.selection.head<l.pos&&!i?1:-1;d=M2(t,f,l,p)}return d}function mV(t){return t.editable?t.hasFocus():yV(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function ea(t,e=!1){let n=t.state.selection;if(gV(t,n),!!mV(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&as){let s=t.domSelectionRange(),r=t.domObserver.currentSelection;if(s.anchorNode&&r.anchorNode&&nu(s.anchorNode,s.anchorOffset,r.anchorNode,r.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)uue(t);else{let{anchor:s,head:r}=n,i,o;c3&&!(n instanceof Fe)&&(n.$from.parent.inlineContent||(i=u3(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=u3(t,n.to))),t.docView.setSelection(s,r,t,e),c3&&(i&&d3(i),o&&d3(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&cue(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const c3=_s||as&&nV<63;function u3(t,e){let{node:n,offset:s}=t.docView.domFromPos(e,0),r=s<n.childNodes.length?n.childNodes[s]:null,i=s?n.childNodes[s-1]:null;if(_s&&r&&r.contentEditable=="false")return Ww(r);if((!r||r.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(r)return Ww(r);if(i)return Ww(i)}}function Ww(t){return t.contentEditable="true",_s&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function d3(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function cue(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),s=n.anchorNode,r=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=s||n.anchorOffset!=r)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!mV(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function uue(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,s=n.nodeName=="IMG";s?e.collapse(n.parentNode,ss(n)+1):e.collapse(n,0),!s&&!t.state.selection.visible&&Js&&wl<=11&&(n.disabled=!0,n.disabled=!1)}function gV(t,e){if(e instanceof Ve){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(h3(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else h3(t)}function h3(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function M2(t,e,n,s){return t.someProp("createSelectionBetween",r=>r(t,e,n))||Fe.between(e,n,s)}function f3(t){return t.editable&&!t.hasFocus()?!1:yV(t)}function yV(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function due(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return nu(e.node,e.offset,n.anchorNode,n.anchorOffset)}function BS(t,e){let{$anchor:n,$head:s}=t.selection,r=e>0?n.max(s):n.min(s),i=r.parent.inlineContent?r.depth?t.doc.resolve(e>0?r.after():r.before()):null:r;return i&&Je.findFrom(i,e)}function Za(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function p3(t,e,n){let s=t.state.selection;if(s instanceof Fe)if(n.indexOf("s")>-1){let{$head:r}=s,i=r.textOffset?null:e<0?r.nodeBefore:r.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let o=t.state.doc.resolve(r.pos+i.nodeSize*(e<0?-1:1));return Za(t,new Fe(s.$anchor,o))}else if(s.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let r=BS(t.state,e);return r&&r instanceof Ve?Za(t,r):!1}else if(!(Ur&&n.indexOf("m")>-1)){let r=s.$head,i=r.textOffset?null:e<0?r.nodeBefore:r.nodeAfter,o;if(!i||i.isText)return!1;let l=e<0?r.pos-i.nodeSize:r.pos;return i.isAtom||(o=t.docView.descAt(l))&&!o.contentDOM?Ve.isSelectable(i)?Za(t,new Ve(e<0?t.state.doc.resolve(r.pos-i.nodeSize):r)):Tm?Za(t,new Fe(t.state.doc.resolve(e<0?l:l+i.nodeSize))):!1:!1}}else return!1;else{if(s instanceof Ve&&s.node.isInline)return Za(t,new Fe(e>0?s.$to:s.$from));{let r=BS(t.state,e);return r?Za(t,r):!1}}}function ex(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function dp(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function od(t,e){return e<0?hue(t):fue(t)}function hue(t){let e=t.domSelectionRange(),n=e.focusNode,s=e.focusOffset;if(!n)return;let r,i,o=!1;for(Wr&&n.nodeType==1&&s<ex(n)&&dp(n.childNodes[s],-1)&&(o=!0);;)if(s>0){if(n.nodeType!=1)break;{let l=n.childNodes[s-1];if(dp(l,-1))r=n,i=--s;else if(l.nodeType==3)n=l,s=n.nodeValue.length;else break}}else{if(xV(n))break;{let l=n.previousSibling;for(;l&&dp(l,-1);)r=n.parentNode,i=ss(l),l=l.previousSibling;if(l)n=l,s=ex(n);else{if(n=n.parentNode,n==t.dom)break;s=0}}}o?US(t,n,s):r&&US(t,r,i)}function fue(t){let e=t.domSelectionRange(),n=e.focusNode,s=e.focusOffset;if(!n)return;let r=ex(n),i,o;for(;;)if(s<r){if(n.nodeType!=1)break;let l=n.childNodes[s];if(dp(l,1))i=n,o=++s;else break}else{if(xV(n))break;{let l=n.nextSibling;for(;l&&dp(l,1);)i=l.parentNode,o=ss(l)+1,l=l.nextSibling;if(l)n=l,s=0,r=ex(n);else{if(n=n.parentNode,n==t.dom)break;s=r=0}}}i&&US(t,i,o)}function xV(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function pue(t,e){for(;t&&e==t.childNodes.length&&!Sm(t);)e=ss(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function mue(t,e){for(;t&&!e&&!Sm(t);)e=ss(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function US(t,e,n){if(e.nodeType!=3){let i,o;(o=pue(e,n))?(e=o,n=0):(i=mue(e,n))&&(e=i,n=i.nodeValue.length)}let s=t.domSelection();if(!s)return;if(Rv(s)){let i=document.createRange();i.setEnd(e,n),i.setStart(e,n),s.removeAllRanges(),s.addRange(i)}else s.extend&&s.extend(e,n);t.domObserver.setCurSelection();let{state:r}=t;setTimeout(()=>{t.state==r&&ea(t)},50)}function m3(t,e){let n=t.state.doc.resolve(e);if(!(as||sV)&&n.parent.inlineContent){let r=t.coordsAtPos(e);if(e>n.start()){let i=t.coordsAtPos(e-1),o=(i.top+i.bottom)/2;if(o>r.top&&o<r.bottom&&Math.abs(i.left-r.left)>1)return i.left<r.left?"ltr":"rtl"}if(e<n.end()){let i=t.coordsAtPos(e+1),o=(i.top+i.bottom)/2;if(o>r.top&&o<r.bottom&&Math.abs(i.left-r.left)>1)return i.left>r.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function g3(t,e,n){let s=t.state.selection;if(s instanceof Fe&&!s.empty||n.indexOf("s")>-1||Ur&&n.indexOf("m")>-1)return!1;let{$from:r,$to:i}=s;if(!r.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=BS(t.state,e);if(o&&o instanceof Ve)return Za(t,o)}if(!r.parent.inlineContent){let o=e<0?r:i,l=s instanceof br?Je.near(o,e):Je.findFrom(o,e);return l?Za(t,l):!1}return!1}function y3(t,e){if(!(t.state.selection instanceof Fe))return!0;let{$head:n,$anchor:s,empty:r}=t.state.selection;if(!n.sameParent(s))return!0;if(!r)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let i=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let o=t.state.tr;return e<0?o.delete(n.pos-i.nodeSize,n.pos):o.delete(n.pos,n.pos+i.nodeSize),t.dispatch(o),!0}return!1}function x3(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function gue(t){if(!_s||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let s=e.firstChild;x3(t,s,"true"),setTimeout(()=>x3(t,s,"false"),20)}return!1}function yue(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function xue(t,e){let n=e.keyCode,s=yue(e);if(n==8||Ur&&n==72&&s=="c")return y3(t,-1)||od(t,-1);if(n==46&&!e.shiftKey||Ur&&n==68&&s=="c")return y3(t,1)||od(t,1);if(n==13||n==27)return!0;if(n==37||Ur&&n==66&&s=="c"){let r=n==37?m3(t,t.state.selection.from)=="ltr"?-1:1:-1;return p3(t,r,s)||od(t,r)}else if(n==39||Ur&&n==70&&s=="c"){let r=n==39?m3(t,t.state.selection.from)=="ltr"?1:-1:1;return p3(t,r,s)||od(t,r)}else{if(n==38||Ur&&n==80&&s=="c")return g3(t,-1,s)||od(t,-1);if(n==40||Ur&&n==78&&s=="c")return gue(t)||g3(t,1,s)||od(t,1);if(s==(Ur?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function I2(t,e){t.someProp("transformCopied",x=>{e=x(e,t)});let n=[],{content:s,openStart:r,openEnd:i}=e;for(;r>1&&i>1&&s.childCount==1&&s.firstChild.childCount==1;){r--,i--;let x=s.firstChild;n.push(x.type.name,x.attrs!=x.type.defaultAttrs?x.attrs:null),s=x.content}let o=t.someProp("clipboardSerializer")||fu.fromSchema(t.state.schema),l=TV(),u=l.createElement("div");u.appendChild(o.serializeFragment(s,{document:l}));let d=u.firstChild,f,p=0;for(;d&&d.nodeType==1&&(f=SV[d.nodeName.toLowerCase()]);){for(let x=f.length-1;x>=0;x--){let w=l.createElement(f[x]);for(;u.firstChild;)w.appendChild(u.firstChild);u.appendChild(w),p++}d=u.firstChild}d&&d.nodeType==1&&d.setAttribute("data-pm-slice",`${r} ${i}${p?` -${p}`:""} ${JSON.stringify(n)}`);let y=t.someProp("clipboardTextSerializer",x=>x(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:u,text:y,slice:e}}function vV(t,e,n,s,r){let i=r.parent.type.spec.code,o,l;if(!n&&!e)return null;let u=!!e&&(s||i||!n);if(u){if(t.someProp("transformPastedText",y=>{e=y(e,i||s,t)}),i)return l=new we(fe.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",y=>{l=y(l,t,!0)}),l;let p=t.someProp("clipboardTextParser",y=>y(e,r,s,t));if(p)l=p;else{let y=r.marks(),{schema:x}=t.state,w=fu.fromSchema(x);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(T=>{let S=o.appendChild(document.createElement("p"));T&&S.appendChild(w.serializeNode(x.text(T,y)))})}}else t.someProp("transformPastedHTML",p=>{n=p(n,t)}),o=Eue(n),Tm&&Sue(o);let d=o&&o.querySelector("[data-pm-slice]"),f=d&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(d.getAttribute("data-pm-slice")||"");if(f&&f[3])for(let p=+f[3];p>0;p--){let y=o.firstChild;for(;y&&y.nodeType!=1;)y=y.nextSibling;if(!y)break;o=y}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||bl.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(u||f),context:r,ruleFromNode(y){return y.nodeName=="BR"&&!y.nextSibling&&y.parentNode&&!vue.test(y.parentNode.nodeName)?{ignore:!0}:null}})),f)l=Tue(v3(l,+f[1],+f[2]),f[4]);else if(l=we.maxOpen(bue(l.content,r),!0),l.openStart||l.openEnd){let p=0,y=0;for(let x=l.content.firstChild;p<l.openStart&&!x.type.spec.isolating;p++,x=x.firstChild);for(let x=l.content.lastChild;y<l.openEnd&&!x.type.spec.isolating;y++,x=x.lastChild);l=v3(l,p,y)}return t.someProp("transformPasted",p=>{l=p(l,t,u)}),l}const vue=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function bue(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.index(n)),i,o=[];if(t.forEach(l=>{if(!o)return;let u=r.findWrapping(l.type),d;if(!u)return o=null;if(d=o.length&&i.length&&wV(u,i,l,o[o.length-1],0))o[o.length-1]=d;else{o.length&&(o[o.length-1]=EV(o[o.length-1],i.length));let f=bV(l,u);o.push(f),r=r.matchType(f.type),i=u}}),o)return fe.from(o)}return t}function bV(t,e,n=0){for(let s=e.length-1;s>=n;s--)t=e[s].create(null,fe.from(t));return t}function wV(t,e,n,s,r){if(r<t.length&&r<e.length&&t[r]==e[r]){let i=wV(t,e,n,s.lastChild,r+1);if(i)return s.copy(s.content.replaceChild(s.childCount-1,i));if(s.contentMatchAt(s.childCount).matchType(r==t.length-1?n.type:t[r+1]))return s.copy(s.content.append(fe.from(bV(n,t,r+1))))}}function EV(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,EV(t.lastChild,e-1)),s=t.contentMatchAt(t.childCount).fillBefore(fe.empty,!0);return t.copy(n.append(s))}function FS(t,e,n,s,r,i){let o=e<0?t.firstChild:t.lastChild,l=o.content;return t.childCount>1&&(i=0),r<s-1&&(l=FS(l,e,n,s,r+1,i)),r>=n&&(l=e<0?o.contentMatchAt(0).fillBefore(l,i<=r).append(l):l.append(o.contentMatchAt(o.childCount).fillBefore(fe.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(l))}function v3(t,e,n){return e<t.openStart&&(t=new we(FS(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new we(FS(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const SV={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let b3=null;function TV(){return b3||(b3=document.implementation.createHTMLDocument("title"))}let Kw=null;function wue(t){let e=window.trustedTypes;return e?(Kw||(Kw=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),Kw.createHTML(t)):t}function Eue(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=TV().createElement("div"),s=/<([a-z][^>\s]+)/i.exec(t),r;if((r=s&&SV[s[1].toLowerCase()])&&(t=r.map(i=>"<"+i+">").join("")+t+r.map(i=>"</"+i+">").reverse().join("")),n.innerHTML=wue(t),r)for(let i=0;i<r.length;i++)n=n.querySelector(r[i])||n;return n}function Sue(t){let e=t.querySelectorAll(as?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let s=e[n];s.childNodes.length==1&&s.textContent==""&&s.parentNode&&s.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),s)}}function Tue(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,s;try{s=JSON.parse(e)}catch{return t}let{content:r,openStart:i,openEnd:o}=t;for(let l=s.length-2;l>=0;l-=2){let u=n.nodes[s[l]];if(!u||u.hasRequiredAttrs())break;r=fe.from(u.create(s[l+1],r)),i++,o++}return new we(r,i,o)}const Ls={},Vs={},_ue={touchstart:!0,touchmove:!0};class Aue{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.badSafariComposition=!1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Cue(t){for(let e in Ls){let n=Ls[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=s=>{Nue(t,s)&&!D2(t,s)&&(t.editable||!(s.type in Vs))&&n(t,s)},_ue[e]?{passive:!0}:void 0)}_s&&t.dom.addEventListener("input",()=>null),HS(t)}function fl(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function kue(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function HS(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=s=>D2(t,s))})}function D2(t,e){return t.someProp("handleDOMEvents",n=>{let s=n[e.type];return s?s(t,e)||e.defaultPrevented:!1})}function Nue(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function Rue(t,e){!D2(t,e)&&Ls[e.type]&&(t.editable||!(e.type in Vs))&&Ls[e.type](t,e)}Vs.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!AV(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Go&&as&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Gd&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let s=Date.now();t.input.lastIOSEnter=s,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==s&&(t.someProp("handleKeyDown",r=>r(t,Cc(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",s=>s(t,n))||xue(t,n)?n.preventDefault():fl(t,"key")};Vs.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Vs.keypress=(t,e)=>{let n=e;if(AV(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Ur&&n.metaKey)return;if(t.someProp("handleKeyPress",r=>r(t,n))){n.preventDefault();return}let s=t.state.selection;if(!(s instanceof Fe)||!s.$from.sameParent(s.$to)){let r=String.fromCharCode(n.charCode),i=()=>t.state.tr.insertText(r).scrollIntoView();!/[\r\n]/.test(r)&&!t.someProp("handleTextInput",o=>o(t,s.$from.pos,s.$to.pos,r,i))&&t.dispatch(i()),n.preventDefault()}};function Iv(t){return{left:t.clientX,top:t.clientY}}function Mue(t,e){let n=e.x-t.clientX,s=e.y-t.clientY;return n*n+s*s<100}function P2(t,e,n,s,r){if(s==-1)return!1;let i=t.state.doc.resolve(s);for(let o=i.depth+1;o>0;o--)if(t.someProp(e,l=>o>i.depth?l(t,n,i.nodeAfter,i.before(o),r,!0):l(t,n,i.node(o),i.before(o),r,!1)))return!0;return!1}function Pd(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let s=t.state.tr.setSelection(e);s.setMeta("pointer",!0),t.dispatch(s)}function Iue(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),s=n.nodeAfter;return s&&s.isAtom&&Ve.isSelectable(s)?(Pd(t,new Ve(n)),!0):!1}function Due(t,e){if(e==-1)return!1;let n=t.state.selection,s,r;n instanceof Ve&&(s=n.node);let i=t.state.doc.resolve(e);for(let o=i.depth+1;o>0;o--){let l=o>i.depth?i.nodeAfter:i.node(o);if(Ve.isSelectable(l)){s&&n.$from.depth>0&&o>=n.$from.depth&&i.before(n.$from.depth+1)==n.$from.pos?r=i.before(n.$from.depth):r=i.before(o);break}}return r!=null?(Pd(t,Ve.create(t.state.doc,r)),!0):!1}function Pue(t,e,n,s,r){return P2(t,"handleClickOn",e,n,s)||t.someProp("handleClick",i=>i(t,e,s))||(r?Due(t,n):Iue(t,n))}function Oue(t,e,n,s){return P2(t,"handleDoubleClickOn",e,n,s)||t.someProp("handleDoubleClick",r=>r(t,e,s))}function jue(t,e,n,s){return P2(t,"handleTripleClickOn",e,n,s)||t.someProp("handleTripleClick",r=>r(t,e,s))||Lue(t,n,s)}function Lue(t,e,n){if(n.button!=0)return!1;let s=t.state.doc;if(e==-1)return s.inlineContent?(Pd(t,Fe.create(s,0,s.content.size)),!0):!1;let r=s.resolve(e);for(let i=r.depth+1;i>0;i--){let o=i>r.depth?r.nodeAfter:r.node(i),l=r.before(i);if(o.inlineContent)Pd(t,Fe.create(s,l+1,l+1+o.content.size));else if(Ve.isSelectable(o))Pd(t,Ve.create(s,l));else continue;return!0}}function O2(t){return tx(t)}const _V=Ur?"metaKey":"ctrlKey";Ls.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let s=O2(t),r=Date.now(),i="singleClick";r-t.input.lastClick.time<500&&Mue(n,t.input.lastClick)&&!n[_V]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?i="doubleClick":t.input.lastClick.type=="doubleClick"&&(i="tripleClick")),t.input.lastClick={time:r,x:n.clientX,y:n.clientY,type:i,button:n.button};let o=t.posAtCoords(Iv(n));o&&(i=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new Vue(t,o,n,!!s)):(i=="doubleClick"?Oue:jue)(t,o.pos,o.inside,n)?n.preventDefault():fl(t,"pointer"))};class Vue{constructor(e,n,s,r){this.view=e,this.pos=n,this.event=s,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!s[_V],this.allowDefault=s.shiftKey;let i,o;if(n.inside>-1)i=e.state.doc.nodeAt(n.inside),o=n.inside;else{let f=e.state.doc.resolve(n.pos);i=f.parent,o=f.depth?f.before():0}const l=r?null:s.target,u=l?e.docView.nearestDesc(l,!0):null;this.target=u&&u.nodeDOM.nodeType==1?u.nodeDOM:null;let{selection:d}=e.state;(s.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||d instanceof Ve&&d.from<=o&&d.to>o)&&(this.mightDrag={node:i,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Wr&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),fl(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>ea(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Iv(e))),this.updateAllowDefault(e),this.allowDefault||!n?fl(this.view,"pointer"):Pue(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||_s&&this.mightDrag&&!this.mightDrag.node.isAtom||as&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Pd(this.view,Je.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):fl(this.view,"pointer")}move(e){this.updateAllowDefault(e),fl(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Ls.touchstart=t=>{t.input.lastTouch=Date.now(),O2(t),fl(t,"pointer")};Ls.touchmove=t=>{t.input.lastTouch=Date.now(),fl(t,"pointer")};Ls.contextmenu=t=>O2(t);function AV(t,e){return t.composing?!0:_s&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const zue=Go?5e3:-1;Vs.compositionstart=Vs.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof Fe&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(s=>s.type.spec.inclusive===!1)||as&&sV&&Bue(t)))t.markCursor=t.state.storedMarks||n.marks(),tx(t,!0),t.markCursor=null;else if(tx(t,!e.selection.empty),Wr&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let s=t.domSelectionRange();for(let r=s.focusNode,i=s.focusOffset;r&&r.nodeType==1&&i!=0;){let o=i<0?r.lastChild:r.childNodes[i-1];if(!o)break;if(o.nodeType==3){let l=t.domSelection();l&&l.collapse(o,o.nodeValue.length);break}else r=o,i=-1}}t.input.composing=!0}CV(t,zue)};function Bue(t){let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(!e||e.nodeType!=1||n>=e.childNodes.length)return!1;let s=e.childNodes[n];return s.nodeType==1&&s.contentEditable=="false"}Vs.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.badSafariComposition?t.domObserver.forceFlush():t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,CV(t,20))};function CV(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>tx(t),e))}function kV(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=Fue());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function Uue(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=Dce(e.focusNode,e.focusOffset),s=Pce(e.focusNode,e.focusOffset);if(n&&s&&n!=s){let r=s.pmViewDesc,i=t.domObserver.lastChangedTextNode;if(n==i||s==i)return i;if(!r||!r.isText(s.nodeValue))return s;if(t.input.compositionNode==s){let o=n.pmViewDesc;if(!(!o||!o.isText(n.nodeValue)))return s}}return n||s}function Fue(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function tx(t,e=!1){if(!(Go&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),kV(t),e||t.docView&&t.docView.dirty){let n=R2(t),s=t.state.selection;return n&&!n.eq(s)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!s.$from.node(s.$from.sharedDepth(s.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function Hue(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let s=getSelection(),r=document.createRange();r.selectNodeContents(e),t.dom.blur(),s.removeAllRanges(),s.addRange(r),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Hp=Js&&wl<15||Gd&&Vce<604;Ls.copy=Vs.cut=(t,e)=>{let n=e,s=t.state.selection,r=n.type=="cut";if(s.empty)return;let i=Hp?null:n.clipboardData,o=s.content(),{dom:l,text:u}=I2(t,o);i?(n.preventDefault(),i.clearData(),i.setData("text/html",l.innerHTML),i.setData("text/plain",u)):Hue(t,l),r&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function $ue(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function que(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,s=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(s.contentEditable="true"),s.style.cssText="position: fixed; left: -10000px; top: 10px",s.focus();let r=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),s.parentNode&&s.parentNode.removeChild(s),n?$p(t,s.value,null,r,e):$p(t,s.textContent,s.innerHTML,r,e)},50)}function $p(t,e,n,s,r){let i=vV(t,e,n,s,t.state.selection.$from);if(t.someProp("handlePaste",u=>u(t,r,i||we.empty)))return!0;if(!i)return!1;let o=$ue(i),l=o?t.state.tr.replaceSelectionWith(o,s):t.state.tr.replaceSelection(i);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function NV(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Vs.paste=(t,e)=>{let n=e;if(t.composing&&!Go)return;let s=Hp?null:n.clipboardData,r=t.input.shiftKey&&t.input.lastKeyCode!=45;s&&$p(t,NV(s),s.getData("text/html"),r,n)?n.preventDefault():que(t,n)};class RV{constructor(e,n,s){this.slice=e,this.move=n,this.node=s}}const Wue=Ur?"altKey":"ctrlKey";function MV(t,e){let n=t.someProp("dragCopies",s=>!s(e));return n??!e[Wue]}Ls.dragstart=(t,e)=>{let n=e,s=t.input.mouseDown;if(s&&s.done(),!n.dataTransfer)return;let r=t.state.selection,i=r.empty?null:t.posAtCoords(Iv(n)),o;if(!(i&&i.pos>=r.from&&i.pos<=(r instanceof Ve?r.to-1:r.to))){if(s&&s.mightDrag)o=Ve.create(t.state.doc,s.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let p=t.docView.nearestDesc(n.target,!0);p&&p.node.type.spec.draggable&&p!=t.docView&&(o=Ve.create(t.state.doc,p.posBefore))}}let l=(o||t.state.selection).content(),{dom:u,text:d,slice:f}=I2(t,l);(!n.dataTransfer.files.length||!as||nV>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Hp?"Text":"text/html",u.innerHTML),n.dataTransfer.effectAllowed="copyMove",Hp||n.dataTransfer.setData("text/plain",d),t.dragging=new RV(f,MV(t,n),o)};Ls.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Vs.dragover=Vs.dragenter=(t,e)=>e.preventDefault();Vs.drop=(t,e)=>{try{Kue(t,e,t.dragging)}finally{t.dragging=null}};function Kue(t,e,n){if(!e.dataTransfer)return;let s=t.posAtCoords(Iv(e));if(!s)return;let r=t.state.doc.resolve(s.pos),i=n&&n.slice;i?t.someProp("transformPasted",x=>{i=x(i,t,!1)}):i=vV(t,NV(e.dataTransfer),Hp?null:e.dataTransfer.getData("text/html"),!1,r);let o=!!(n&&MV(t,e));if(t.someProp("handleDrop",x=>x(t,e,i||we.empty,o))){e.preventDefault();return}if(!i)return;e.preventDefault();let l=i?O9(t.state.doc,r.pos,i):r.pos;l==null&&(l=r.pos);let u=t.state.tr;if(o){let{node:x}=n;x?x.replace(u):u.deleteSelection()}let d=u.mapping.map(l),f=i.openStart==0&&i.openEnd==0&&i.content.childCount==1,p=u.doc;if(f?u.replaceRangeWith(d,d,i.content.firstChild):u.replaceRange(d,d,i),u.doc.eq(p))return;let y=u.doc.resolve(d);if(f&&Ve.isSelectable(i.content.firstChild)&&y.nodeAfter&&y.nodeAfter.sameMarkup(i.content.firstChild))u.setSelection(new Ve(y));else{let x=u.mapping.map(l);u.mapping.maps[u.mapping.maps.length-1].forEach((w,T,S,A)=>x=A),u.setSelection(M2(t,y,u.doc.resolve(x)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))}Ls.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&ea(t)},20))};Ls.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Ls.beforeinput=(t,e)=>{if(as&&Go&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:s}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=s||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",i=>i(t,Cc(8,"Backspace")))))return;let{$cursor:r}=t.state.selection;r&&r.pos>0&&t.dispatch(t.state.tr.delete(r.pos-1,r.pos).scrollIntoView())},50)}};for(let t in Vs)Ls[t]=Vs[t];function qp(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class nx{constructor(e,n){this.toDOM=e,this.spec=n||Uc,this.side=this.spec.side||0}map(e,n,s,r){let{pos:i,deleted:o}=e.mapResult(n.from+r,this.side<0?-1:1);return o?null:new js(i-s,i-s,this)}valid(){return!0}eq(e){return this==e||e instanceof nx&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&qp(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Sl{constructor(e,n){this.attrs=e,this.spec=n||Uc}map(e,n,s,r){let i=e.map(n.from+r,this.spec.inclusiveStart?-1:1)-s,o=e.map(n.to+r,this.spec.inclusiveEnd?1:-1)-s;return i>=o?null:new js(i,o,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Sl&&qp(this.attrs,e.attrs)&&qp(this.spec,e.spec)}static is(e){return e.type instanceof Sl}destroy(){}}class j2{constructor(e,n){this.attrs=e,this.spec=n||Uc}map(e,n,s,r){let i=e.mapResult(n.from+r,1);if(i.deleted)return null;let o=e.mapResult(n.to+r,-1);return o.deleted||o.pos<=i.pos?null:new js(i.pos-s,o.pos-s,this)}valid(e,n){let{index:s,offset:r}=e.content.findIndex(n.from),i;return r==n.from&&!(i=e.child(s)).isText&&r+i.nodeSize==n.to}eq(e){return this==e||e instanceof j2&&qp(this.attrs,e.attrs)&&qp(this.spec,e.spec)}destroy(){}}class js{constructor(e,n,s){this.from=e,this.to=n,this.type=s}copy(e,n){return new js(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,s){return this.type.map(e,this,n,s)}static widget(e,n,s){return new js(e,e,new nx(n,s))}static inline(e,n,s,r){return new js(e,n,new Sl(s,r))}static node(e,n,s,r){return new js(e,n,new j2(s,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof Sl}get widget(){return this.type instanceof nx}}const gd=[],Uc={};class $t{constructor(e,n){this.local=e.length?e:gd,this.children=n.length?n:gd}static create(e,n){return n.length?sx(n,e,0,Uc):ys}find(e,n,s){let r=[];return this.findInner(e??0,n??1e9,r,0,s),r}findInner(e,n,s,r,i){for(let o=0;o<this.local.length;o++){let l=this.local[o];l.from<=n&&l.to>=e&&(!i||i(l.spec))&&s.push(l.copy(l.from+r,l.to+r))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>e){let l=this.children[o]+1;this.children[o+2].findInner(e-l,n-l,s,r+l,i)}}map(e,n,s){return this==ys||e.maps.length==0?this:this.mapInner(e,n,0,0,s||Uc)}mapInner(e,n,s,r,i){let o;for(let l=0;l<this.local.length;l++){let u=this.local[l].map(e,s,r);u&&u.type.valid(n,u)?(o||(o=[])).push(u):i.onRemove&&i.onRemove(this.local[l].spec)}return this.children.length?Gue(this.children,o||[],e,n,s,r,i):o?new $t(o.sort(Fc),gd):ys}add(e,n){return n.length?this==ys?$t.create(e,n):this.addInner(e,n,0):this}addInner(e,n,s){let r,i=0;e.forEach((l,u)=>{let d=u+s,f;if(f=DV(n,l,d)){for(r||(r=this.children.slice());i<r.length&&r[i]<u;)i+=3;r[i]==u?r[i+2]=r[i+2].addInner(l,f,d+1):r.splice(i,0,u,u+l.nodeSize,sx(f,l,d+1,Uc)),i+=3}});let o=IV(i?PV(n):n,-s);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||o.splice(l--,1);return new $t(o.length?this.local.concat(o).sort(Fc):this.local,r||this.children)}remove(e){return e.length==0||this==ys?this:this.removeInner(e,0)}removeInner(e,n){let s=this.children,r=this.local;for(let i=0;i<s.length;i+=3){let o,l=s[i]+n,u=s[i+1]+n;for(let f=0,p;f<e.length;f++)(p=e[f])&&p.from>l&&p.to<u&&(e[f]=null,(o||(o=[])).push(p));if(!o)continue;s==this.children&&(s=this.children.slice());let d=s[i+2].removeInner(o,l+1);d!=ys?s[i+2]=d:(s.splice(i,3),i-=3)}if(r.length){for(let i=0,o;i<e.length;i++)if(o=e[i])for(let l=0;l<r.length;l++)r[l].eq(o,n)&&(r==this.local&&(r=this.local.slice()),r.splice(l--,1))}return s==this.children&&r==this.local?this:r.length||s.length?new $t(r,s):ys}forChild(e,n){if(this==ys)return this;if(n.isLeaf)return $t.empty;let s,r;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(s=this.children[l+2]);break}let i=e+1,o=i+n.content.size;for(let l=0;l<this.local.length;l++){let u=this.local[l];if(u.from<o&&u.to>i&&u.type instanceof Sl){let d=Math.max(i,u.from)-i,f=Math.min(o,u.to)-i;d<f&&(r||(r=[])).push(u.copy(d,f))}}if(r){let l=new $t(r.sort(Fc),gd);return s?new al([l,s]):l}return s||ys}eq(e){if(this==e)return!0;if(!(e instanceof $t)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return L2(this.localsInner(e))}localsInner(e){if(this==ys)return gd;if(e.inlineContent||!this.local.some(Sl.is))return this.local;let n=[];for(let s=0;s<this.local.length;s++)this.local[s].type instanceof Sl||n.push(this.local[s]);return n}forEachSet(e){e(this)}}$t.empty=new $t([],[]);$t.removeOverlap=L2;const ys=$t.empty;class al{constructor(e){this.members=e}map(e,n){const s=this.members.map(r=>r.map(e,n,Uc));return al.from(s)}forChild(e,n){if(n.isLeaf)return $t.empty;let s=[];for(let r=0;r<this.members.length;r++){let i=this.members[r].forChild(e,n);i!=ys&&(i instanceof al?s=s.concat(i.members):s.push(i))}return al.from(s)}eq(e){if(!(e instanceof al)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,s=!0;for(let r=0;r<this.members.length;r++){let i=this.members[r].localsInner(e);if(i.length)if(!n)n=i;else{s&&(n=n.slice(),s=!1);for(let o=0;o<i.length;o++)n.push(i[o])}}return n?L2(s?n:n.sort(Fc)):gd}static from(e){switch(e.length){case 0:return ys;case 1:return e[0];default:return new al(e.every(n=>n instanceof $t)?e:e.reduce((n,s)=>n.concat(s instanceof $t?s:s.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function Gue(t,e,n,s,r,i,o){let l=t.slice();for(let d=0,f=i;d<n.maps.length;d++){let p=0;n.maps[d].forEach((y,x,w,T)=>{let S=T-w-(x-y);for(let A=0;A<l.length;A+=3){let N=l[A+1];if(N<0||y>N+f-p)continue;let P=l[A]+f-p;x>=P?l[A+1]=y<=P?-2:-1:y>=f&&S&&(l[A]+=S,l[A+1]+=S)}p+=S}),f=n.maps[d].map(f,-1)}let u=!1;for(let d=0;d<l.length;d+=3)if(l[d+1]<0){if(l[d+1]==-2){u=!0,l[d+1]=-1;continue}let f=n.map(t[d]+i),p=f-r;if(p<0||p>=s.content.size){u=!0;continue}let y=n.map(t[d+1]+i,-1),x=y-r,{index:w,offset:T}=s.content.findIndex(p),S=s.maybeChild(w);if(S&&T==p&&T+S.nodeSize==x){let A=l[d+2].mapInner(n,S,f+1,t[d]+i+1,o);A!=ys?(l[d]=p,l[d+1]=x,l[d+2]=A):(l[d+1]=-2,u=!0)}else u=!0}if(u){let d=Yue(l,t,e,n,r,i,o),f=sx(d,s,0,o);e=f.local;for(let p=0;p<l.length;p+=3)l[p+1]<0&&(l.splice(p,3),p-=3);for(let p=0,y=0;p<f.children.length;p+=3){let x=f.children[p];for(;y<l.length&&l[y]<x;)y+=3;l.splice(y,0,f.children[p],f.children[p+1],f.children[p+2])}}return new $t(e.sort(Fc),l)}function IV(t,e){if(!e||!t.length)return t;let n=[];for(let s=0;s<t.length;s++){let r=t[s];n.push(new js(r.from+e,r.to+e,r.type))}return n}function Yue(t,e,n,s,r,i,o){function l(u,d){for(let f=0;f<u.local.length;f++){let p=u.local[f].map(s,r,d);p?n.push(p):o.onRemove&&o.onRemove(u.local[f].spec)}for(let f=0;f<u.children.length;f+=3)l(u.children[f+2],u.children[f]+d+1)}for(let u=0;u<t.length;u+=3)t[u+1]==-1&&l(t[u+2],e[u]+i+1);return n}function DV(t,e,n){if(e.isLeaf)return null;let s=n+e.nodeSize,r=null;for(let i=0,o;i<t.length;i++)(o=t[i])&&o.from>n&&o.to<s&&((r||(r=[])).push(o),t[i]=null);return r}function PV(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function sx(t,e,n,s){let r=[],i=!1;e.forEach((l,u)=>{let d=DV(t,l,u+n);if(d){i=!0;let f=sx(d,l,n+u+1,s);f!=ys&&r.push(u,u+l.nodeSize,f)}});let o=IV(i?PV(t):t,-n).sort(Fc);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||(s.onRemove&&s.onRemove(o[l].spec),o.splice(l--,1));return o.length||r.length?new $t(o,r):ys}function Fc(t,e){return t.from-e.from||t.to-e.to}function L2(t){let e=t;for(let n=0;n<e.length-1;n++){let s=e[n];if(s.from!=s.to)for(let r=n+1;r<e.length;r++){let i=e[r];if(i.from==s.from){i.to!=s.to&&(e==t&&(e=t.slice()),e[r]=i.copy(i.from,s.to),w3(e,r+1,i.copy(s.to,i.to)));continue}else{i.from<s.to&&(e==t&&(e=t.slice()),e[n]=s.copy(s.from,i.from),w3(e,r,s.copy(i.from,s.to)));break}}}return e}function w3(t,e,n){for(;e<t.length&&Fc(n,t[e])>0;)e++;t.splice(e,0,n)}function Gw(t){let e=[];return t.someProp("decorations",n=>{let s=n(t.state);s&&s!=ys&&e.push(s)}),t.cursorWrapper&&e.push($t.create(t.state.doc,[t.cursorWrapper.deco])),al.from(e)}const Xue={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Que=Js&&wl<=11;class Jue{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Zue{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Jue,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(s=>{for(let r=0;r<s.length;r++)this.queue.push(s[r]);Js&&wl<=11&&s.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():_s&&e.composing&&s.some(r=>r.type=="childList"&&r.target.nodeName=="TR")?(e.input.badSafariComposition=!0,this.flushSoon()):this.flush()}),Que&&(this.onCharData=s=>{this.queue.push({target:s.target,type:"characterData",oldValue:s.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Xue)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(f3(this.view)){if(this.suppressingSelectionUpdates)return ea(this.view);if(Js&&wl<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&nu(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,s;for(let i=e.focusNode;i;i=Kd(i))n.add(i);for(let i=e.anchorNode;i;i=Kd(i))if(n.has(i)){s=i;break}let r=s&&this.view.docView.nearestDesc(s);if(r&&r.ignoreMutation({type:"selection",target:s.nodeType==3?s.parentNode:s}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let s=e.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(s)&&f3(e)&&!this.ignoreSelectionChange(s),i=-1,o=-1,l=!1,u=[];if(e.editable)for(let f=0;f<n.length;f++){let p=this.registerMutation(n[f],u);p&&(i=i<0?p.from:Math.min(p.from,i),o=o<0?p.to:Math.max(p.to,o),p.typeOver&&(l=!0))}if(u.some(f=>f.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let f of u)if(f.nodeName=="BR"&&f.parentNode){let p=f.nextSibling;p&&p.nodeType==1&&p.contentEditable=="false"&&f.parentNode.removeChild(f)}}else if(Wr&&u.length){let f=u.filter(p=>p.nodeName=="BR");if(f.length==2){let[p,y]=f;p.parentNode&&p.parentNode.parentNode==y.parentNode?y.remove():p.remove()}else{let{focusNode:p}=this.currentSelection;for(let y of f){let x=y.parentNode;x&&x.nodeName=="LI"&&(!p||nde(e,p)!=x)&&y.remove()}}}let d=null;i<0&&r&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Rv(s)&&(d=R2(e))&&d.eq(Je.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,ea(e),this.currentSelection.set(s),e.scrollToSelection()):(i>-1||r)&&(i>-1&&(e.docView.markDirty(i,o),ede(e)),e.input.badSafariComposition&&(e.input.badSafariComposition=!1,sde(e,u)),this.handleDOMChange(i,o,l,u),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(s)||ea(e),this.currentSelection.set(s))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let s=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(s==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!s||s.ignoreMutation(e))return null;if(e.type=="childList"){for(let f=0;f<e.addedNodes.length;f++){let p=e.addedNodes[f];n.push(p),p.nodeType==3&&(this.lastChangedTextNode=p)}if(s.contentDOM&&s.contentDOM!=s.dom&&!s.contentDOM.contains(e.target))return{from:s.posBefore,to:s.posAfter};let r=e.previousSibling,i=e.nextSibling;if(Js&&wl<=11&&e.addedNodes.length)for(let f=0;f<e.addedNodes.length;f++){let{previousSibling:p,nextSibling:y}=e.addedNodes[f];(!p||Array.prototype.indexOf.call(e.addedNodes,p)<0)&&(r=p),(!y||Array.prototype.indexOf.call(e.addedNodes,y)<0)&&(i=y)}let o=r&&r.parentNode==e.target?ss(r)+1:0,l=s.localPosFromDOM(e.target,o,-1),u=i&&i.parentNode==e.target?ss(i):e.target.childNodes.length,d=s.localPosFromDOM(e.target,u,1);return{from:l,to:d}}else return e.type=="attributes"?{from:s.posAtStart-s.border,to:s.posAtEnd+s.border}:(this.lastChangedTextNode=e.target,{from:s.posAtStart,to:s.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let E3=new WeakMap,S3=!1;function ede(t){if(!E3.has(t)&&(E3.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Wr,S3)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),S3=!0}}function T3(t,e){let n=e.startContainer,s=e.startOffset,r=e.endContainer,i=e.endOffset,o=t.domAtPos(t.state.selection.anchor);return nu(o.node,o.offset,r,i)&&([n,s,r,i]=[r,i,n,s]),{anchorNode:n,anchorOffset:s,focusNode:r,focusOffset:i}}function tde(t,e){if(e.getComposedRanges){let r=e.getComposedRanges(t.root)[0];if(r)return T3(t,r)}let n;function s(r){r.preventDefault(),r.stopImmediatePropagation(),n=r.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",s,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",s,!0),n?T3(t,n):null}function nde(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let s=t.docView.nearestDesc(n,!0);if(s&&s.node.isBlock)return n}return null}function sde(t,e){var n;let{focusNode:s,focusOffset:r}=t.domSelectionRange();for(let i of e)if(((n=i.parentNode)===null||n===void 0?void 0:n.nodeName)=="TR"){let o=i.nextSibling;for(;o&&o.nodeName!="TD"&&o.nodeName!="TH";)o=o.nextSibling;if(o){let l=o;for(;;){let u=l.firstChild;if(!u||u.nodeType!=1||u.contentEditable=="false"||/^(BR|IMG)$/.test(u.nodeName))break;l=u}l.insertBefore(i,l.firstChild),s==i&&t.domSelection().collapse(i,r)}else i.parentNode.removeChild(i)}}function rde(t,e,n){let{node:s,fromOffset:r,toOffset:i,from:o,to:l}=t.docView.parseRange(e,n),u=t.domSelectionRange(),d,f=u.anchorNode;if(f&&t.dom.contains(f.nodeType==1?f:f.parentNode)&&(d=[{node:f,offset:u.anchorOffset}],Rv(u)||d.push({node:u.focusNode,offset:u.focusOffset})),as&&t.input.lastKeyCode===8)for(let S=i;S>r;S--){let A=s.childNodes[S-1],N=A.pmViewDesc;if(A.nodeName=="BR"&&!N){i=S;break}if(!N||N.size)break}let p=t.state.doc,y=t.someProp("domParser")||bl.fromSchema(t.state.schema),x=p.resolve(o),w=null,T=y.parse(s,{topNode:x.parent,topMatch:x.parent.contentMatchAt(x.index()),topOpen:!0,from:r,to:i,preserveWhitespace:x.parent.type.whitespace=="pre"?"full":!0,findPositions:d,ruleFromNode:ide,context:x});if(d&&d[0].pos!=null){let S=d[0].pos,A=d[1]&&d[1].pos;A==null&&(A=S),w={anchor:S+o,head:A+o}}return{doc:T,sel:w,from:o,to:l}}function ide(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(_s&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||_s&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const ode=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function ade(t,e,n,s,r){let i=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let I=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,R=R2(t,I);if(R&&!t.state.selection.eq(R)){if(as&&Go&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",z=>z(t,Cc(13,"Enter"))))return;let D=t.state.tr.setSelection(R);I=="pointer"?D.setMeta("pointer",!0):I=="key"&&D.scrollIntoView(),i&&D.setMeta("composition",i),t.dispatch(D)}return}let o=t.state.doc.resolve(e),l=o.sharedDepth(n);e=o.before(l+1),n=t.state.doc.resolve(n).after(l+1);let u=t.state.selection,d=rde(t,e,n),f=t.state.doc,p=f.slice(d.from,d.to),y,x;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(y=t.state.selection.to,x="end"):(y=t.state.selection.from,x="start"),t.input.lastKeyCode=null;let w=ude(p.content,d.doc.content,d.from,y,x);if(w&&t.input.domChangeCount++,(Gd&&t.input.lastIOSEnter>Date.now()-225||Go)&&r.some(I=>I.nodeType==1&&!ode.test(I.nodeName))&&(!w||w.endA>=w.endB)&&t.someProp("handleKeyDown",I=>I(t,Cc(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!w)if(s&&u instanceof Fe&&!u.empty&&u.$head.sameParent(u.$anchor)&&!t.composing&&!(d.sel&&d.sel.anchor!=d.sel.head))w={start:u.from,endA:u.to,endB:u.to};else{if(d.sel){let I=_3(t,t.state.doc,d.sel);if(I&&!I.eq(t.state.selection)){let R=t.state.tr.setSelection(I);i&&R.setMeta("composition",i),t.dispatch(R)}}return}t.state.selection.from<t.state.selection.to&&w.start==w.endB&&t.state.selection instanceof Fe&&(w.start>t.state.selection.from&&w.start<=t.state.selection.from+2&&t.state.selection.from>=d.from?w.start=t.state.selection.from:w.endA<t.state.selection.to&&w.endA>=t.state.selection.to-2&&t.state.selection.to<=d.to&&(w.endB+=t.state.selection.to-w.endA,w.endA=t.state.selection.to)),Js&&wl<=11&&w.endB==w.start+1&&w.endA==w.start&&w.start>d.from&&d.doc.textBetween(w.start-d.from-1,w.start-d.from+1)==" "&&(w.start--,w.endA--,w.endB--);let T=d.doc.resolveNoCache(w.start-d.from),S=d.doc.resolveNoCache(w.endB-d.from),A=f.resolve(w.start),N=T.sameParent(S)&&T.parent.inlineContent&&A.end()>=w.endA;if((Gd&&t.input.lastIOSEnter>Date.now()-225&&(!N||r.some(I=>I.nodeName=="DIV"||I.nodeName=="P"))||!N&&T.pos<d.doc.content.size&&(!T.sameParent(S)||!T.parent.inlineContent)&&T.pos<S.pos&&!/\S/.test(d.doc.textBetween(T.pos,S.pos,"","")))&&t.someProp("handleKeyDown",I=>I(t,Cc(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>w.start&&cde(f,w.start,w.endA,T,S)&&t.someProp("handleKeyDown",I=>I(t,Cc(8,"Backspace")))){Go&&as&&t.domObserver.suppressSelectionUpdates();return}as&&w.endB==w.start&&(t.input.lastChromeDelete=Date.now()),Go&&!N&&T.start()!=S.start()&&S.parentOffset==0&&T.depth==S.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==w.endA&&(w.endB-=2,S=d.doc.resolveNoCache(w.endB-d.from),setTimeout(()=>{t.someProp("handleKeyDown",function(I){return I(t,Cc(13,"Enter"))})},20));let P=w.start,O=w.endA,L=I=>{let R=I||t.state.tr.replace(P,O,d.doc.slice(w.start-d.from,w.endB-d.from));if(d.sel){let D=_3(t,R.doc,d.sel);D&&!(as&&t.composing&&D.empty&&(w.start!=w.endB||t.input.lastChromeDelete<Date.now()-100)&&(D.head==P||D.head==R.mapping.map(O)-1)||Js&&D.empty&&D.head==P)&&R.setSelection(D)}return i&&R.setMeta("composition",i),R.scrollIntoView()},F;if(N)if(T.pos==S.pos){Js&&wl<=11&&T.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>ea(t),20));let I=L(t.state.tr.delete(P,O)),R=f.resolve(w.start).marksAcross(f.resolve(w.endA));R&&I.ensureMarks(R),t.dispatch(I)}else if(w.endA==w.endB&&(F=lde(T.parent.content.cut(T.parentOffset,S.parentOffset),A.parent.content.cut(A.parentOffset,w.endA-A.start())))){let I=L(t.state.tr);F.type=="add"?I.addMark(P,O,F.mark):I.removeMark(P,O,F.mark),t.dispatch(I)}else if(T.parent.child(T.index()).isText&&T.index()==S.index()-(S.textOffset?0:1)){let I=T.parent.textBetween(T.parentOffset,S.parentOffset),R=()=>L(t.state.tr.insertText(I,P,O));t.someProp("handleTextInput",D=>D(t,P,O,I,R))||t.dispatch(R())}else t.dispatch(L());else t.dispatch(L())}function _3(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:M2(t,e.resolve(n.anchor),e.resolve(n.head))}function lde(t,e){let n=t.firstChild.marks,s=e.firstChild.marks,r=n,i=s,o,l,u;for(let f=0;f<s.length;f++)r=s[f].removeFromSet(r);for(let f=0;f<n.length;f++)i=n[f].removeFromSet(i);if(r.length==1&&i.length==0)l=r[0],o="add",u=f=>f.mark(l.addToSet(f.marks));else if(r.length==0&&i.length==1)l=i[0],o="remove",u=f=>f.mark(l.removeFromSet(f.marks));else return null;let d=[];for(let f=0;f<e.childCount;f++)d.push(u(e.child(f)));if(fe.from(d).eq(t))return{mark:l,type:o}}function cde(t,e,n,s,r){if(n-e<=r.pos-s.pos||Yw(s,!0,!1)<r.pos)return!1;let i=t.resolve(e);if(!s.parent.isTextblock){let l=i.nodeAfter;return l!=null&&n==e+l.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let o=t.resolve(Yw(i,!0,!0));return!o.parent.isTextblock||o.pos>n||Yw(o,!0,!1)<n?!1:s.parent.content.cut(s.parentOffset).eq(o.parent.content)}function Yw(t,e,n){let s=t.depth,r=e?t.end():t.pos;for(;s>0&&(e||t.indexAfter(s)==t.node(s).childCount);)s--,r++,e=!1;if(n){let i=t.node(s).maybeChild(t.indexAfter(s));for(;i&&!i.isLeaf;)i=i.firstChild,r++}return r}function ude(t,e,n,s,r){let i=t.findDiffStart(e,n);if(i==null)return null;let{a:o,b:l}=t.findDiffEnd(e,n+t.size,n+e.size);if(r=="end"){let u=Math.max(0,i-Math.min(o,l));s-=o+u-i}if(o<i&&t.size<e.size){let u=s<=i&&s>=o?i-s:0;i-=u,i&&i<e.size&&A3(e.textBetween(i-1,i+1))&&(i+=u?1:-1),l=i+(l-o),o=i}else if(l<i){let u=s<=i&&s>=l?i-s:0;i-=u,i&&i<t.size&&A3(t.textBetween(i-1,i+1))&&(i+=u?1:-1),o=i+(o-l),l=i}return{start:i,endA:o,endB:l}}function A3(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class OV{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Aue,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(M3),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=N3(this),k3(this),this.nodeViews=R3(this),this.docView=a3(this.state.doc,C3(this),Gw(this),this.dom,this),this.domObserver=new Zue(this,(s,r,i,o)=>ade(this,s,r,i,o)),this.domObserver.start(),Cue(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&HS(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(M3),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let s in this._props)n[s]=this._props[s];n.state=this.state;for(let s in e)n[s]=e[s];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var s;let r=this.state,i=!1,o=!1;e.storedMarks&&this.composing&&(kV(this),o=!0),this.state=e;let l=r.plugins!=e.plugins||this._props.plugins!=n.plugins;if(l||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let x=R3(this);hde(x,this.nodeViews)&&(this.nodeViews=x,i=!0)}(l||n.handleDOMEvents!=this._props.handleDOMEvents)&&HS(this),this.editable=N3(this),k3(this);let u=Gw(this),d=C3(this),f=r.plugins!=e.plugins&&!r.doc.eq(e.doc)?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",p=i||!this.docView.matchesNode(e.doc,d,u);(p||!e.selection.eq(r.selection))&&(o=!0);let y=f=="preserve"&&o&&this.dom.style.overflowAnchor==null&&Uce(this);if(o){this.domObserver.stop();let x=p&&(Js||as)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&dde(r.selection,e.selection);if(p){let w=as?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Uue(this)),(i||!this.docView.update(e.doc,d,u,this))&&(this.docView.updateOuterDeco(d),this.docView.destroy(),this.docView=a3(e.doc,d,u,this.dom,this)),w&&(!this.trackWrites||!this.dom.contains(this.trackWrites))&&(x=!0)}x||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&due(this))?ea(this,x):(gV(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),!((s=this.dragging)===null||s===void 0)&&s.node&&!r.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,r),f=="reset"?this.dom.scrollTop=0:f=="to selection"?this.scrollToSelection():y&&Fce(y)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Ve){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&t3(this,n.getBoundingClientRect(),e)}else t3(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let s=this.directPlugins[n];s.spec.view&&this.pluginViews.push(s.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let s=this.state.plugins[n];s.spec.view&&this.pluginViews.push(s.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let s=this.pluginViews[n];s.update&&s.update(this,e)}}updateDraggedNode(e,n){let s=e.node,r=-1;if(this.state.doc.nodeAt(s.from)==s.node)r=s.from;else{let i=s.from+(this.state.doc.content.size-n.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==s.node&&(r=i)}this.dragging=new RV(e.slice,e.move,r<0?void 0:Ve.create(this.state.doc,r))}someProp(e,n){let s=this._props&&this._props[e],r;if(s!=null&&(r=n?n(s):s))return r;for(let o=0;o<this.directPlugins.length;o++){let l=this.directPlugins[o].props[e];if(l!=null&&(r=n?n(l):l))return r}let i=this.state.plugins;if(i)for(let o=0;o<i.length;o++){let l=i[o].props[e];if(l!=null&&(r=n?n(l):l))return r}}hasFocus(){if(Js){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Hce(this.dom),ea(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return Gce(this,e)}coordsAtPos(e,n=1){return lV(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,s=-1){let r=this.docView.posFromDOM(e,n,s);if(r==null)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(e,n){return Zce(this,n||this.state,e)}pasteHTML(e,n){return $p(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return $p(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return I2(this,e)}destroy(){this.docView&&(kue(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Gw(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,Mce())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return Rue(this,e)}domSelectionRange(){let e=this.domSelection();return e?_s&&this.root.nodeType===11&&jce(this.dom.ownerDocument)==this.dom&&tde(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}OV.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function C3(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let s in n)s=="class"?e.class+=" "+n[s]:s=="style"?e.style=(e.style?e.style+";":"")+n[s]:!e[s]&&s!="contenteditable"&&s!="nodeName"&&(e[s]=String(n[s]))}),e.translate||(e.translate="no"),[js.node(0,t.state.doc.content.size,e)]}function k3(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:js.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function N3(t){return!t.someProp("editable",e=>e(t.state)===!1)}function dde(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function R3(t){let e=Object.create(null);function n(s){for(let r in s)Object.prototype.hasOwnProperty.call(e,r)||(e[r]=s[r])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function hde(t,e){let n=0,s=0;for(let r in t){if(t[r]!=e[r])return!0;n++}for(let r in e)s++;return n!=s}function M3(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Dl={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},rx={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},fde=typeof navigator<"u"&&/Mac/.test(navigator.platform),pde=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var rs=0;rs<10;rs++)Dl[48+rs]=Dl[96+rs]=String(rs);for(var rs=1;rs<=24;rs++)Dl[rs+111]="F"+rs;for(var rs=65;rs<=90;rs++)Dl[rs]=String.fromCharCode(rs+32),rx[rs]=String.fromCharCode(rs);for(var Xw in Dl)rx.hasOwnProperty(Xw)||(rx[Xw]=Dl[Xw]);function mde(t){var e=fde&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||pde&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?rx:Dl)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const gde=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),yde=typeof navigator<"u"&&/Win/.test(navigator.platform);function xde(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let s,r,i,o;for(let l=0;l<e.length-1;l++){let u=e[l];if(/^(cmd|meta|m)$/i.test(u))o=!0;else if(/^a(lt)?$/i.test(u))s=!0;else if(/^(c|ctrl|control)$/i.test(u))r=!0;else if(/^s(hift)?$/i.test(u))i=!0;else if(/^mod$/i.test(u))gde?o=!0:r=!0;else throw new Error("Unrecognized modifier name: "+u)}return s&&(n="Alt-"+n),r&&(n="Ctrl-"+n),o&&(n="Meta-"+n),i&&(n="Shift-"+n),n}function vde(t){let e=Object.create(null);for(let n in t)e[xde(n)]=t[n];return e}function Qw(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function bde(t){return new Gt({props:{handleKeyDown:jV(t)}})}function jV(t){let e=vde(t);return function(n,s){let r=mde(s),i,o=e[Qw(r,s)];if(o&&o(n.state,n.dispatch,n))return!0;if(r.length==1&&r!=" "){if(s.shiftKey){let l=e[Qw(r,s,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((s.altKey||s.metaKey||s.ctrlKey)&&!(yde&&s.ctrlKey&&s.altKey)&&(i=Dl[s.keyCode])&&i!=r){let l=e[Qw(i,s)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}var wde=Object.defineProperty,V2=(t,e)=>{for(var n in e)wde(t,n,{get:e[n],enumerable:!0})};function Dv(t){const{state:e,transaction:n}=t;let{selection:s}=n,{doc:r}=n,{storedMarks:i}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return s},get doc(){return r},get tr(){return s=n.selection,r=n.doc,i=n.storedMarks,n}}}var Pv=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:s}=e,{tr:r}=n,i=this.buildProps(r);return Object.fromEntries(Object.entries(t).map(([o,l])=>[o,(...d)=>{const f=l(...d)(i);return!r.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(r),f}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:s,state:r}=this,{view:i}=s,o=[],l=!!t,u=t||r.tr,d=()=>(!l&&e&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(u),o.every(p=>p===!0)),f={...Object.fromEntries(Object.entries(n).map(([p,y])=>[p,(...w)=>{const T=this.buildProps(u,e),S=y(...w)(T);return o.push(S),f}])),run:d};return f}createCan(t){const{rawCommands:e,state:n}=this,s=!1,r=t||n.tr,i=this.buildProps(r,s);return{...Object.fromEntries(Object.entries(e).map(([l,u])=>[l,(...d)=>u(...d)({...i,dispatch:void 0})])),chain:()=>this.createChain(r,s)}}buildProps(t,e=!0){const{rawCommands:n,editor:s,state:r}=this,{view:i}=s,o={tr:t,editor:s,view:i,state:Dv({state:r,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([l,u])=>[l,(...d)=>u(...d)(o)]))}};return o}},LV={};V2(LV,{blur:()=>Ede,clearContent:()=>Sde,clearNodes:()=>Tde,command:()=>_de,createParagraphNear:()=>Ade,cut:()=>Cde,deleteCurrentNode:()=>kde,deleteNode:()=>Nde,deleteRange:()=>Rde,deleteSelection:()=>Mde,enter:()=>Ide,exitCode:()=>Dde,extendMarkRange:()=>Pde,first:()=>Ode,focus:()=>Lde,forEach:()=>Vde,insertContent:()=>zde,insertContentAt:()=>Fde,joinBackward:()=>qde,joinDown:()=>$de,joinForward:()=>Wde,joinItemBackward:()=>Kde,joinItemForward:()=>Gde,joinTextblockBackward:()=>Yde,joinTextblockForward:()=>Xde,joinUp:()=>Hde,keyboardShortcut:()=>Jde,lift:()=>Zde,liftEmptyBlock:()=>ehe,liftListItem:()=>the,newlineInCode:()=>nhe,resetAttributes:()=>she,scrollIntoView:()=>rhe,selectAll:()=>ihe,selectNodeBackward:()=>ohe,selectNodeForward:()=>ahe,selectParentNode:()=>lhe,selectTextblockEnd:()=>che,selectTextblockStart:()=>uhe,setContent:()=>dhe,setMark:()=>Mhe,setMeta:()=>Ihe,setNode:()=>Dhe,setNodeSelection:()=>Phe,setTextDirection:()=>Ohe,setTextSelection:()=>jhe,sinkListItem:()=>Lhe,splitBlock:()=>Vhe,splitListItem:()=>zhe,toggleList:()=>Bhe,toggleMark:()=>Uhe,toggleNode:()=>Fhe,toggleWrap:()=>Hhe,undoInputRule:()=>$he,unsetAllMarks:()=>qhe,unsetMark:()=>Whe,unsetTextDirection:()=>Khe,updateAttributes:()=>Ghe,wrapIn:()=>Yhe,wrapInList:()=>Xhe});var Ede=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),Sde=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),Tde=()=>({state:t,tr:e,dispatch:n})=>{const{selection:s}=e,{ranges:r}=s;return n&&r.forEach(({$from:i,$to:o})=>{t.doc.nodesBetween(i.pos,o.pos,(l,u)=>{if(l.type.isText)return;const{doc:d,mapping:f}=e,p=d.resolve(f.map(u)),y=d.resolve(f.map(u+l.nodeSize)),x=p.blockRange(y);if(!x)return;const w=vh(x);if(l.type.isTextblock){const{defaultType:T}=p.parent.contentMatchAt(p.index());e.setNodeMarkup(x.start,T)}(w||w===0)&&e.lift(x,w)})}),!0},_de=t=>e=>t(e),Ade=()=>({state:t,dispatch:e})=>Q9(t,e),Cde=(t,e)=>({editor:n,tr:s})=>{const{state:r}=n,i=r.doc.slice(t.from,t.to);s.deleteRange(t.from,t.to);const o=s.mapping.map(e);return s.insert(o,i.content),s.setSelection(new Fe(s.doc.resolve(Math.max(o-1,0)))),!0},kde=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,s=n.$anchor.node();if(s.content.size>0)return!1;const r=t.selection.$anchor;for(let i=r.depth;i>0;i-=1)if(r.node(i).type===s.type){if(e){const l=r.before(i),u=r.after(i);t.delete(l,u).scrollIntoView()}return!0}return!1};function kn(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var Nde=t=>({tr:e,state:n,dispatch:s})=>{const r=kn(t,n.schema),i=e.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===r){if(s){const u=i.before(o),d=i.after(o);e.delete(u,d).scrollIntoView()}return!0}return!1},Rde=t=>({tr:e,dispatch:n})=>{const{from:s,to:r}=t;return n&&e.delete(s,r),!0},Mde=()=>({state:t,dispatch:e})=>T2(t,e),Ide=()=>({commands:t})=>t.keyboardShortcut("Enter"),Dde=()=>({state:t,dispatch:e})=>gce(t,e);function z2(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function ix(t,e,n={strict:!0}){const s=Object.keys(e);return s.length?s.every(r=>n.strict?e[r]===t[r]:z2(e[r])?e[r].test(t[r]):e[r]===t[r]):!0}function VV(t,e,n={}){return t.find(s=>s.type===e&&ix(Object.fromEntries(Object.keys(n).map(r=>[r,s.attrs[r]])),n))}function I3(t,e,n={}){return!!VV(t,e,n)}function B2(t,e,n){var s;if(!t||!e)return;let r=t.parent.childAfter(t.parentOffset);if((!r.node||!r.node.marks.some(f=>f.type===e))&&(r=t.parent.childBefore(t.parentOffset)),!r.node||!r.node.marks.some(f=>f.type===e)||(n=n||((s=r.node.marks[0])==null?void 0:s.attrs),!VV([...r.node.marks],e,n)))return;let o=r.index,l=t.start()+r.offset,u=o+1,d=l+r.node.nodeSize;for(;o>0&&I3([...t.parent.child(o-1).marks],e,n);)o-=1,l-=t.parent.child(o).nodeSize;for(;u<t.parent.childCount&&I3([...t.parent.child(u).marks],e,n);)d+=t.parent.child(u).nodeSize,u+=1;return{from:l,to:d}}function da(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var Pde=(t,e={})=>({tr:n,state:s,dispatch:r})=>{const i=da(t,s.schema),{doc:o,selection:l}=n,{$from:u,from:d,to:f}=l;if(r){const p=B2(u,i,e);if(p&&p.from<=d&&p.to>=f){const y=Fe.create(o,p.from,p.to);n.setSelection(y)}}return!0},Ode=t=>e=>{const n=typeof t=="function"?t(e):t;for(let s=0;s<n.length;s+=1)if(n[s](e))return!0;return!1};function zV(t){return t instanceof Fe}function Dc(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function BV(t,e=null){if(!e)return null;const n=Je.atStart(t),s=Je.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return s;const r=n.from,i=s.to;return e==="all"?Fe.create(t,Dc(0,r,i),Dc(t.content.size,r,i)):Fe.create(t,Dc(e,r,i),Dc(e,r,i))}function D3(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function ox(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function jde(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var Lde=(t=null,e={})=>({editor:n,view:s,tr:r,dispatch:i})=>{e={scrollIntoView:!0,...e};const o=()=>{(ox()||D3())&&s.dom.focus(),jde()&&!ox()&&!D3()&&s.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{n.isDestroyed||(s.focus(),e?.scrollIntoView&&n.commands.scrollIntoView())})};try{if(s.hasFocus()&&t===null||t===!1)return!0}catch{return!1}if(i&&t===null&&!zV(n.state.selection))return o(),!0;const l=BV(r.doc,t)||n.state.selection,u=n.state.selection.eq(l);return i&&(u||r.setSelection(l),u&&r.storedMarks&&r.setStoredMarks(r.storedMarks),o()),!0},Vde=(t,e)=>n=>t.every((s,r)=>e(s,{...n,index:r})),zde=(t,e)=>({tr:n,commands:s})=>s.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),UV=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const s=e[n];s.nodeType===3&&s.nodeValue&&/^(\n\s\s|\n)$/.test(s.nodeValue)?t.removeChild(s):s.nodeType===1&&UV(s)}return t};function my(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return UV(n)}function Wp(t,e,n){if(t instanceof vl||t instanceof fe)return t;n={slice:!0,parseOptions:{},...n};const s=typeof t=="object"&&t!==null,r=typeof t=="string";if(s)try{if(Array.isArray(t)&&t.length>0)return fe.fromArray(t.map(l=>e.nodeFromJSON(l)));const o=e.nodeFromJSON(t);return n.errorOnInvalidContent&&o.check(),o}catch(i){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",i),Wp("",e,n)}if(r){if(n.errorOnInvalidContent){let o=!1,l="";const u=new T9({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:d=>(o=!0,l=typeof d=="string"?d:d.outerHTML,null)}]}})});if(n.slice?bl.fromSchema(u).parseSlice(my(t),n.parseOptions):bl.fromSchema(u).parse(my(t),n.parseOptions),n.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)})}const i=bl.fromSchema(e);return n.slice?i.parseSlice(my(t),n.parseOptions).content:i.parse(my(t),n.parseOptions)}return Wp("",e,n)}function Bde(t,e,n){const s=t.steps.length-1;if(s<e)return;const r=t.steps[s];if(!(r instanceof qn||r instanceof Wn))return;const i=t.mapping.maps[s];let o=0;i.forEach((l,u,d,f)=>{o===0&&(o=f)}),t.setSelection(Je.near(t.doc.resolve(o),n))}var Ude=t=>!("type"in t),Fde=(t,e,n)=>({tr:s,dispatch:r,editor:i})=>{var o;if(r){n={parseOptions:i.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let l;const u=S=>{i.emit("contentError",{editor:i,error:S,disableCollaboration:()=>{"collaboration"in i.storage&&typeof i.storage.collaboration=="object"&&i.storage.collaboration&&(i.storage.collaboration.isDisabled=!0)}})},d={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!i.options.enableContentCheck&&i.options.emitContentError)try{Wp(e,i.schema,{parseOptions:d,errorOnInvalidContent:!0})}catch(S){u(S)}try{l=Wp(e,i.schema,{parseOptions:d,errorOnInvalidContent:(o=n.errorOnInvalidContent)!=null?o:i.options.enableContentCheck})}catch(S){return u(S),!1}let{from:f,to:p}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},y=!0,x=!0;if((Ude(l)?l:[l]).forEach(S=>{S.check(),y=y?S.isText&&S.marks.length===0:!1,x=x?S.isBlock:!1}),f===p&&x){const{parent:S}=s.doc.resolve(f);S.isTextblock&&!S.type.spec.code&&!S.childCount&&(f-=1,p+=1)}let T;if(y){if(Array.isArray(e))T=e.map(S=>S.text||"").join("");else if(e instanceof fe){let S="";e.forEach(A=>{A.text&&(S+=A.text)}),T=S}else typeof e=="object"&&e&&e.text?T=e.text:T=e;s.insertText(T,f,p)}else{T=l;const S=s.doc.resolve(f),A=S.node(),N=S.parentOffset===0,P=A.isText||A.isTextblock,O=A.content.size>0;N&&P&&O&&(f=Math.max(0,f-1)),s.replaceWith(f,p,T)}n.updateSelection&&Bde(s,s.steps.length-1,-1),n.applyInputRules&&s.setMeta("applyInputRules",{from:f,text:T}),n.applyPasteRules&&s.setMeta("applyPasteRules",{from:f,text:T})}return!0},Hde=()=>({state:t,dispatch:e})=>fce(t,e),$de=()=>({state:t,dispatch:e})=>pce(t,e),qde=()=>({state:t,dispatch:e})=>$9(t,e),Wde=()=>({state:t,dispatch:e})=>G9(t,e),Kde=()=>({state:t,dispatch:e,tr:n})=>{try{const s=Cv(t.doc,t.selection.$from.pos,-1);return s==null?!1:(n.join(s,2),e&&e(n),!0)}catch{return!1}},Gde=()=>({state:t,dispatch:e,tr:n})=>{try{const s=Cv(t.doc,t.selection.$from.pos,1);return s==null?!1:(n.join(s,2),e&&e(n),!0)}catch{return!1}},Yde=()=>({state:t,dispatch:e})=>dce(t,e),Xde=()=>({state:t,dispatch:e})=>hce(t,e);function FV(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function Qde(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let s,r,i,o;for(let l=0;l<e.length-1;l+=1){const u=e[l];if(/^(cmd|meta|m)$/i.test(u))o=!0;else if(/^a(lt)?$/i.test(u))s=!0;else if(/^(c|ctrl|control)$/i.test(u))r=!0;else if(/^s(hift)?$/i.test(u))i=!0;else if(/^mod$/i.test(u))ox()||FV()?o=!0:r=!0;else throw new Error(`Unrecognized modifier name: ${u}`)}return s&&(n=`Alt-${n}`),r&&(n=`Ctrl-${n}`),o&&(n=`Meta-${n}`),i&&(n=`Shift-${n}`),n}var Jde=t=>({editor:e,view:n,tr:s,dispatch:r})=>{const i=Qde(t).split(/-(?!$)/),o=i.find(d=>!["Alt","Ctrl","Meta","Shift"].includes(d)),l=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),u=e.captureTransaction(()=>{n.someProp("handleKeyDown",d=>d(n,l))});return u?.steps.forEach(d=>{const f=d.map(s.mapping);f&&r&&s.maybeStep(f)}),!0};function Pl(t,e,n={}){const{from:s,to:r,empty:i}=t.selection,o=e?kn(e,t.schema):null,l=[];t.doc.nodesBetween(s,r,(p,y)=>{if(p.isText)return;const x=Math.max(s,y),w=Math.min(r,y+p.nodeSize);l.push({node:p,from:x,to:w})});const u=r-s,d=l.filter(p=>o?o.name===p.node.type.name:!0).filter(p=>ix(p.node.attrs,n,{strict:!1}));return i?!!d.length:d.reduce((p,y)=>p+y.to-y.from,0)>=u}var Zde=(t,e={})=>({state:n,dispatch:s})=>{const r=kn(t,n.schema);return Pl(n,r,e)?mce(n,s):!1},ehe=()=>({state:t,dispatch:e})=>J9(t,e),the=t=>({state:e,dispatch:n})=>{const s=kn(t,e.schema);return Cce(s)(e,n)},nhe=()=>({state:t,dispatch:e})=>X9(t,e);function Ov(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function P3(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((s,r)=>(n.includes(r)||(s[r]=t[r]),s),{})}var she=(t,e)=>({tr:n,state:s,dispatch:r})=>{let i=null,o=null;const l=Ov(typeof t=="string"?t:t.name,s.schema);if(!l)return!1;l==="node"&&(i=kn(t,s.schema)),l==="mark"&&(o=da(t,s.schema));let u=!1;return n.selection.ranges.forEach(d=>{s.doc.nodesBetween(d.$from.pos,d.$to.pos,(f,p)=>{i&&i===f.type&&(u=!0,r&&n.setNodeMarkup(p,void 0,P3(f.attrs,e))),o&&f.marks.length&&f.marks.forEach(y=>{o===y.type&&(u=!0,r&&n.addMark(p,p+f.nodeSize,o.create(P3(y.attrs,e))))})})}),u},rhe=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),ihe=()=>({tr:t,dispatch:e})=>{if(e){const n=new br(t.doc);t.setSelection(n)}return!0},ohe=()=>({state:t,dispatch:e})=>W9(t,e),ahe=()=>({state:t,dispatch:e})=>Y9(t,e),lhe=()=>({state:t,dispatch:e})=>vce(t,e),che=()=>({state:t,dispatch:e})=>Ece(t,e),uhe=()=>({state:t,dispatch:e})=>wce(t,e);function $S(t,e,n={},s={}){return Wp(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:s.errorOnInvalidContent})}var dhe=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:s={}}={})=>({editor:r,tr:i,dispatch:o,commands:l})=>{const{doc:u}=i;if(s.preserveWhitespace!=="full"){const d=$S(t,r.schema,s,{errorOnInvalidContent:e??r.options.enableContentCheck});return o&&i.replaceWith(0,u.content.size,d).setMeta("preventUpdate",!n),!0}return o&&i.setMeta("preventUpdate",!n),l.insertContentAt({from:0,to:u.content.size},t,{parseOptions:s,errorOnInvalidContent:e??r.options.enableContentCheck})};function HV(t,e){const n=da(e,t.schema),{from:s,to:r,empty:i}=t.selection,o=[];i?(t.storedMarks&&o.push(...t.storedMarks),o.push(...t.selection.$head.marks())):t.doc.nodesBetween(s,r,u=>{o.push(...u.marks)});const l=o.find(u=>u.type.name===n.name);return l?{...l.attrs}:{}}function $V(t,e){const n=new B9(t);return e.forEach(s=>{s.steps.forEach(r=>{n.step(r)})}),n}function hhe(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function fhe(t,e,n){const s=[];return t.nodesBetween(e.from,e.to,(r,i)=>{n(r)&&s.push({node:r,pos:i})}),s}function phe(t,e){for(let n=t.depth;n>0;n-=1){const s=t.node(n);if(e(s))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:s}}}function jv(t){return e=>phe(e.$from,t)}function Ie(t,e,n){return t.config[e]===void 0&&t.parent?Ie(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?Ie(t.parent,e,n):null}):t.config[e]}function U2(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},s=Ie(e,"addExtensions",n);return s?[e,...U2(s())]:e}).flat(10)}function F2(t,e){const n=fu.fromSchema(e).serializeFragment(t),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(n),r.innerHTML}function qV(t){return typeof t=="function"}function bt(t,e=void 0,...n){return qV(t)?e?t.bind(e)(...n):t(...n):t}function mhe(t={}){return Object.keys(t).length===0&&t.constructor===Object}function Yd(t){const e=t.filter(r=>r.type==="extension"),n=t.filter(r=>r.type==="node"),s=t.filter(r=>r.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:s}}function WV(t){const e=[],{nodeExtensions:n,markExtensions:s}=Yd(t),r=[...n,...s],i={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1},o=n.filter(d=>d.name!=="text").map(d=>d.name),l=s.map(d=>d.name),u=[...o,...l];return t.forEach(d=>{const f={name:d.name,options:d.options,storage:d.storage,extensions:r},p=Ie(d,"addGlobalAttributes",f);if(!p)return;p().forEach(x=>{let w;Array.isArray(x.types)?w=x.types:x.types==="*"?w=u:x.types==="nodes"?w=o:x.types==="marks"?w=l:w=[],w.forEach(T=>{Object.entries(x.attributes).forEach(([S,A])=>{e.push({type:T,name:S,attribute:{...i,...A}})})})})}),r.forEach(d=>{const f={name:d.name,options:d.options,storage:d.storage},p=Ie(d,"addAttributes",f);if(!p)return;const y=p();Object.entries(y).forEach(([x,w])=>{const T={...i,...w};typeof T?.default=="function"&&(T.default=T.default()),T?.isRequired&&T?.default===void 0&&delete T.default,e.push({type:d.name,name:x,attribute:T})})}),e}function un(...t){return t.filter(e=>!!e).reduce((e,n)=>{const s={...e};return Object.entries(n).forEach(([r,i])=>{if(!s[r]){s[r]=i;return}if(r==="class"){const l=i?String(i).split(" "):[],u=s[r]?s[r].split(" "):[],d=l.filter(f=>!u.includes(f));s[r]=[...u,...d].join(" ")}else if(r==="style"){const l=i?i.split(";").map(f=>f.trim()).filter(Boolean):[],u=s[r]?s[r].split(";").map(f=>f.trim()).filter(Boolean):[],d=new Map;u.forEach(f=>{const[p,y]=f.split(":").map(x=>x.trim());d.set(p,y)}),l.forEach(f=>{const[p,y]=f.split(":").map(x=>x.trim());d.set(p,y)}),s[r]=Array.from(d.entries()).map(([f,p])=>`${f}: ${p}`).join("; ")}else s[r]=i}),s},{})}function Kp(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,s)=>un(n,s),{})}function ghe(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function O3(t,e){return"style"in t?t:{...t,getAttrs:n=>{const s=t.getAttrs?t.getAttrs(n):t.attrs;if(s===!1)return!1;const r=e.reduce((i,o)=>{const l=o.attribute.parseHTML?o.attribute.parseHTML(n):ghe(n.getAttribute(o.name));return l==null?i:{...i,[o.name]:l}},{});return{...s,...r}}}}function j3(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&mhe(n)?!1:n!=null))}function L3(t){var e,n;const s={};return!((e=t?.attribute)!=null&&e.isRequired)&&"default"in(t?.attribute||{})&&(s.default=t.attribute.default),((n=t?.attribute)==null?void 0:n.validate)!==void 0&&(s.validate=t.attribute.validate),[t.name,s]}function yhe(t,e){var n;const s=WV(t),{nodeExtensions:r,markExtensions:i}=Yd(t),o=(n=r.find(d=>Ie(d,"topNode")))==null?void 0:n.name,l=Object.fromEntries(r.map(d=>{const f=s.filter(A=>A.type===d.name),p={name:d.name,options:d.options,storage:d.storage,editor:e},y=t.reduce((A,N)=>{const P=Ie(N,"extendNodeSchema",p);return{...A,...P?P(d):{}}},{}),x=j3({...y,content:bt(Ie(d,"content",p)),marks:bt(Ie(d,"marks",p)),group:bt(Ie(d,"group",p)),inline:bt(Ie(d,"inline",p)),atom:bt(Ie(d,"atom",p)),selectable:bt(Ie(d,"selectable",p)),draggable:bt(Ie(d,"draggable",p)),code:bt(Ie(d,"code",p)),whitespace:bt(Ie(d,"whitespace",p)),linebreakReplacement:bt(Ie(d,"linebreakReplacement",p)),defining:bt(Ie(d,"defining",p)),isolating:bt(Ie(d,"isolating",p)),attrs:Object.fromEntries(f.map(L3))}),w=bt(Ie(d,"parseHTML",p));w&&(x.parseDOM=w.map(A=>O3(A,f)));const T=Ie(d,"renderHTML",p);T&&(x.toDOM=A=>T({node:A,HTMLAttributes:Kp(A,f)}));const S=Ie(d,"renderText",p);return S&&(x.toText=S),[d.name,x]})),u=Object.fromEntries(i.map(d=>{const f=s.filter(S=>S.type===d.name),p={name:d.name,options:d.options,storage:d.storage,editor:e},y=t.reduce((S,A)=>{const N=Ie(A,"extendMarkSchema",p);return{...S,...N?N(d):{}}},{}),x=j3({...y,inclusive:bt(Ie(d,"inclusive",p)),excludes:bt(Ie(d,"excludes",p)),group:bt(Ie(d,"group",p)),spanning:bt(Ie(d,"spanning",p)),code:bt(Ie(d,"code",p)),attrs:Object.fromEntries(f.map(L3))}),w=bt(Ie(d,"parseHTML",p));w&&(x.parseDOM=w.map(S=>O3(S,f)));const T=Ie(d,"renderHTML",p);return T&&(x.toDOM=S=>T({mark:S,HTMLAttributes:Kp(S,f)})),[d.name,x]}));return new T9({topNode:o,nodes:l,marks:u})}function xhe(t){const e=t.filter((n,s)=>t.indexOf(n)!==s);return Array.from(new Set(e))}function hp(t){return t.sort((n,s)=>{const r=Ie(n,"priority")||100,i=Ie(s,"priority")||100;return r>i?-1:r<i?1:0})}function KV(t){const e=hp(U2(t)),n=xhe(e.map(s=>s.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(s=>`'${s}'`).join(", ")}]. This can lead to issues.`),e}function GV(t,e,n){const{from:s,to:r}=e,{blockSeparator:i=`

`,textSerializers:o={}}=n||{};let l="";return t.nodesBetween(s,r,(u,d,f,p)=>{var y;u.isBlock&&d>s&&(l+=i);const x=o?.[u.type.name];if(x)return f&&(l+=x({node:u,pos:d,parent:f,index:p,range:e})),!1;u.isText&&(l+=(y=u?.text)==null?void 0:y.slice(Math.max(s,d)-d,r-d))}),l}function vhe(t,e){const n={from:0,to:t.content.size};return GV(t,n,e)}function YV(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function bhe(t,e){const n=kn(e,t.schema),{from:s,to:r}=t.selection,i=[];t.doc.nodesBetween(s,r,l=>{i.push(l)});const o=i.reverse().find(l=>l.type.name===n.name);return o?{...o.attrs}:{}}function XV(t,e){const n=Ov(typeof e=="string"?e:e.name,t.schema);return n==="node"?bhe(t,e):n==="mark"?HV(t,e):{}}function whe(t,e=JSON.stringify){const n={};return t.filter(s=>{const r=e(s);return Object.prototype.hasOwnProperty.call(n,r)?!1:n[r]=!0})}function Ehe(t){const e=whe(t);return e.length===1?e:e.filter((n,s)=>!e.filter((i,o)=>o!==s).some(i=>n.oldRange.from>=i.oldRange.from&&n.oldRange.to<=i.oldRange.to&&n.newRange.from>=i.newRange.from&&n.newRange.to<=i.newRange.to))}function QV(t){const{mapping:e,steps:n}=t,s=[];return e.maps.forEach((r,i)=>{const o=[];if(r.ranges.length)r.forEach((l,u)=>{o.push({from:l,to:u})});else{const{from:l,to:u}=n[i];if(l===void 0||u===void 0)return;o.push({from:l,to:u})}o.forEach(({from:l,to:u})=>{const d=e.slice(i).map(l,-1),f=e.slice(i).map(u),p=e.invert().map(d,-1),y=e.invert().map(f);s.push({oldRange:{from:p,to:y},newRange:{from:d,to:f}})})}),Ehe(s)}function H2(t,e,n){const s=[];return t===e?n.resolve(t).marks().forEach(r=>{const i=n.resolve(t),o=B2(i,r.type);o&&s.push({mark:r,...o})}):n.nodesBetween(t,e,(r,i)=>{!r||r?.nodeSize===void 0||s.push(...r.marks.map(o=>({from:i,to:i+r.nodeSize,mark:o})))}),s}var She=(t,e,n,s=20)=>{const r=t.doc.resolve(n);let i=s,o=null;for(;i>0&&o===null;){const l=r.node(i);l?.type.name===e?o=l:i-=1}return[o,i]};function Rf(t,e){return e.nodes[t]||e.marks[t]||null}function e0(t,e,n){return Object.fromEntries(Object.entries(n).filter(([s])=>{const r=t.find(i=>i.type===e&&i.name===s);return r?r.attribute.keepOnSplit:!1}))}var The=(t,e=500)=>{let n="";const s=t.parentOffset;return t.parent.nodesBetween(Math.max(0,s-e),s,(r,i,o,l)=>{var u,d;const f=((d=(u=r.type.spec).toText)==null?void 0:d.call(u,{node:r,pos:i,parent:o,index:l}))||r.textContent||"%leaf%";n+=r.isAtom&&!r.isText?f:f.slice(0,Math.max(0,s-i))}),n};function qS(t,e,n={}){const{empty:s,ranges:r}=t.selection,i=e?da(e,t.schema):null;if(s)return!!(t.storedMarks||t.selection.$from.marks()).filter(p=>i?i.name===p.type.name:!0).find(p=>ix(p.attrs,n,{strict:!1}));let o=0;const l=[];if(r.forEach(({$from:p,$to:y})=>{const x=p.pos,w=y.pos;t.doc.nodesBetween(x,w,(T,S)=>{if(i&&T.inlineContent&&!T.type.allowsMarkType(i))return!1;if(!T.isText&&!T.marks.length)return;const A=Math.max(x,S),N=Math.min(w,S+T.nodeSize),P=N-A;o+=P,l.push(...T.marks.map(O=>({mark:O,from:A,to:N})))})}),o===0)return!1;const u=l.filter(p=>i?i.name===p.mark.type.name:!0).filter(p=>ix(p.mark.attrs,n,{strict:!1})).reduce((p,y)=>p+y.to-y.from,0),d=l.filter(p=>i?p.mark.type!==i&&p.mark.type.excludes(i):!0).reduce((p,y)=>p+y.to-y.from,0);return(u>0?u+d:u)>=o}function _he(t,e,n={}){if(!e)return Pl(t,null,n)||qS(t,null,n);const s=Ov(e,t.schema);return s==="node"?Pl(t,e,n):s==="mark"?qS(t,e,n):!1}var Ahe=(t,e)=>{const{$from:n,$to:s,$anchor:r}=t.selection;if(e){const i=jv(l=>l.type.name===e)(t.selection);if(!i)return!1;const o=t.doc.resolve(i.pos+1);return r.pos+1===o.end()}return!(s.parentOffset<s.parent.nodeSize-2||n.pos!==s.pos)},Che=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function V3(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function z3(t,e){const{nodeExtensions:n}=Yd(e),s=n.find(o=>o.name===t);if(!s)return!1;const r={name:s.name,options:s.options,storage:s.storage},i=bt(Ie(s,"group",r));return typeof i!="string"?!1:i.split(" ").includes("list")}function Lv(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var s;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((s=t.text)!=null?s:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let r=!0;return t.content.forEach(i=>{r!==!1&&(Lv(i,{ignoreWhitespace:n,checkChildren:e})||(r=!1))}),r}return!1}function JV(t){return t instanceof Ve}var ZV=class ez{constructor(e){this.position=e}static fromJSON(e){return new ez(e.position)}toJSON(){return{position:this.position}}};function khe(t,e){const n=e.mapping.mapResult(t.position);return{position:new ZV(n.pos),mapResult:n}}function Nhe(t){return new ZV(t)}function Rhe(t,e,n){var s;const{selection:r}=e;let i=null;if(zV(r)&&(i=r.$cursor),i){const l=(s=t.storedMarks)!=null?s:i.marks();return i.parent.type.allowsMarkType(n)&&(!!n.isInSet(l)||!l.some(d=>d.type.excludes(n)))}const{ranges:o}=r;return o.some(({$from:l,$to:u})=>{let d=l.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(l.pos,u.pos,(f,p,y)=>{if(d)return!1;if(f.isInline){const x=!y||y.type.allowsMarkType(n),w=!!n.isInSet(f.marks)||!f.marks.some(T=>T.type.excludes(n));d=x&&w}return!d}),d})}var Mhe=(t,e={})=>({tr:n,state:s,dispatch:r})=>{const{selection:i}=n,{empty:o,ranges:l}=i,u=da(t,s.schema);if(r)if(o){const d=HV(s,u);n.addStoredMark(u.create({...d,...e}))}else l.forEach(d=>{const f=d.$from.pos,p=d.$to.pos;s.doc.nodesBetween(f,p,(y,x)=>{const w=Math.max(x,f),T=Math.min(x+y.nodeSize,p);y.marks.find(A=>A.type===u)?y.marks.forEach(A=>{u===A.type&&n.addMark(w,T,u.create({...A.attrs,...e}))}):n.addMark(w,T,u.create(e))})});return Rhe(s,n,u)},Ihe=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),Dhe=(t,e={})=>({state:n,dispatch:s,chain:r})=>{const i=kn(t,n.schema);let o;return n.selection.$anchor.sameParent(n.selection.$head)&&(o=n.selection.$anchor.parent.attrs),i.isTextblock?r().command(({commands:l})=>JD(i,{...o,...e})(n)?!0:l.clearNodes()).command(({state:l})=>JD(i,{...o,...e})(l,s)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},Phe=t=>({tr:e,dispatch:n})=>{if(n){const{doc:s}=e,r=Dc(t,0,s.content.size),i=Ve.create(s,r);e.setSelection(i)}return!0},Ohe=(t,e)=>({tr:n,state:s,dispatch:r})=>{const{selection:i}=s;let o,l;return typeof e=="number"?(o=e,l=e):e&&"from"in e&&"to"in e?(o=e.from,l=e.to):(o=i.from,l=i.to),r&&n.doc.nodesBetween(o,l,(u,d)=>{u.isText||n.setNodeMarkup(d,void 0,{...u.attrs,dir:t})}),!0},jhe=t=>({tr:e,dispatch:n})=>{if(n){const{doc:s}=e,{from:r,to:i}=typeof t=="number"?{from:t,to:t}:t,o=Fe.atStart(s).from,l=Fe.atEnd(s).to,u=Dc(r,o,l),d=Dc(i,o,l),f=Fe.create(s,u,d);e.setSelection(f)}return!0},Lhe=t=>({state:e,dispatch:n})=>{const s=kn(t,e.schema);return Rce(s)(e,n)};function B3(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const s=n.filter(r=>e?.includes(r.type.name));t.tr.ensureMarks(s)}}var Vhe=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:s,editor:r})=>{const{selection:i,doc:o}=e,{$from:l,$to:u}=i,d=r.extensionManager.attributes,f=e0(d,l.node().type.name,l.node().attrs);if(i instanceof Ve&&i.node.isBlock)return!l.parentOffset||!Zo(o,l.pos)?!1:(s&&(t&&B3(n,r.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const p=u.parentOffset===u.parent.content.size,y=l.depth===0?void 0:hhe(l.node(-1).contentMatchAt(l.indexAfter(-1)));let x=p&&y?[{type:y,attrs:f}]:void 0,w=Zo(e.doc,e.mapping.map(l.pos),1,x);if(!x&&!w&&Zo(e.doc,e.mapping.map(l.pos),1,y?[{type:y}]:void 0)&&(w=!0,x=y?[{type:y,attrs:f}]:void 0),s){if(w&&(i instanceof Fe&&e.deleteSelection(),e.split(e.mapping.map(l.pos),1,x),y&&!p&&!l.parentOffset&&l.parent.type!==y)){const T=e.mapping.map(l.before()),S=e.doc.resolve(T);l.node(-1).canReplaceWith(S.index(),S.index()+1,y)&&e.setNodeMarkup(e.mapping.map(l.before()),y)}t&&B3(n,r.extensionManager.splittableMarks),e.scrollIntoView()}return w},zhe=(t,e={})=>({tr:n,state:s,dispatch:r,editor:i})=>{var o;const l=kn(t,s.schema),{$from:u,$to:d}=s.selection,f=s.selection.node;if(f&&f.isBlock||u.depth<2||!u.sameParent(d))return!1;const p=u.node(-1);if(p.type!==l)return!1;const y=i.extensionManager.attributes;if(u.parent.content.size===0&&u.node(-1).childCount===u.indexAfter(-1)){if(u.depth===2||u.node(-3).type!==l||u.index(-2)!==u.node(-2).childCount-1)return!1;if(r){let A=fe.empty;const N=u.index(-1)?1:u.index(-2)?2:3;for(let R=u.depth-N;R>=u.depth-3;R-=1)A=fe.from(u.node(R).copy(A));const P=u.indexAfter(-1)<u.node(-2).childCount?1:u.indexAfter(-2)<u.node(-3).childCount?2:3,O={...e0(y,u.node().type.name,u.node().attrs),...e},L=((o=l.contentMatch.defaultType)==null?void 0:o.createAndFill(O))||void 0;A=A.append(fe.from(l.createAndFill(null,L)||void 0));const F=u.before(u.depth-(N-1));n.replace(F,u.after(-P),new we(A,4-N,0));let I=-1;n.doc.nodesBetween(F,n.doc.content.size,(R,D)=>{if(I>-1)return!1;R.isTextblock&&R.content.size===0&&(I=D+1)}),I>-1&&n.setSelection(Fe.near(n.doc.resolve(I))),n.scrollIntoView()}return!0}const x=d.pos===u.end()?p.contentMatchAt(0).defaultType:null,w={...e0(y,p.type.name,p.attrs),...e},T={...e0(y,u.node().type.name,u.node().attrs),...e};n.delete(u.pos,d.pos);const S=x?[{type:l,attrs:w},{type:x,attrs:T}]:[{type:l,attrs:w}];if(!Zo(n.doc,u.pos,2))return!1;if(r){const{selection:A,storedMarks:N}=s,{splittableMarks:P}=i.extensionManager,O=N||A.$to.parentOffset&&A.$from.marks();if(n.split(u.pos,2,S).scrollIntoView(),!O||!r)return!0;const L=O.filter(F=>P.includes(F.type.name));n.ensureMarks(L)}return!0},Jw=(t,e)=>{const n=jv(o=>o.type===e)(t.selection);if(!n)return!0;const s=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(s===void 0)return!0;const r=t.doc.nodeAt(s);return n.node.type===r?.type&&Hl(t.doc,n.pos)&&t.join(n.pos),!0},Zw=(t,e)=>{const n=jv(o=>o.type===e)(t.selection);if(!n)return!0;const s=t.doc.resolve(n.start).after(n.depth);if(s===void 0)return!0;const r=t.doc.nodeAt(s);return n.node.type===r?.type&&Hl(t.doc,s)&&t.join(s),!0},Bhe=(t,e,n,s={})=>({editor:r,tr:i,state:o,dispatch:l,chain:u,commands:d,can:f})=>{const{extensions:p,splittableMarks:y}=r.extensionManager,x=kn(t,o.schema),w=kn(e,o.schema),{selection:T,storedMarks:S}=o,{$from:A,$to:N}=T,P=A.blockRange(N),O=S||T.$to.parentOffset&&T.$from.marks();if(!P)return!1;const L=jv(F=>z3(F.type.name,p))(T);if(P.depth>=1&&L&&P.depth-L.depth<=1){if(L.node.type===x)return d.liftListItem(w);if(z3(L.node.type.name,p)&&x.validContent(L.node.content)&&l)return u().command(()=>(i.setNodeMarkup(L.pos,x),!0)).command(()=>Jw(i,x)).command(()=>Zw(i,x)).run()}return!n||!O||!l?u().command(()=>f().wrapInList(x,s)?!0:d.clearNodes()).wrapInList(x,s).command(()=>Jw(i,x)).command(()=>Zw(i,x)).run():u().command(()=>{const F=f().wrapInList(x,s),I=O.filter(R=>y.includes(R.type.name));return i.ensureMarks(I),F?!0:d.clearNodes()}).wrapInList(x,s).command(()=>Jw(i,x)).command(()=>Zw(i,x)).run()},Uhe=(t,e={},n={})=>({state:s,commands:r})=>{const{extendEmptyMarkRange:i=!1}=n,o=da(t,s.schema);return qS(s,o,e)?r.unsetMark(o,{extendEmptyMarkRange:i}):r.setMark(o,e)},Fhe=(t,e,n={})=>({state:s,commands:r})=>{const i=kn(t,s.schema),o=kn(e,s.schema),l=Pl(s,i,n);let u;return s.selection.$anchor.sameParent(s.selection.$head)&&(u=s.selection.$anchor.parent.attrs),l?r.setNode(o,u):r.setNode(i,{...u,...n})},Hhe=(t,e={})=>({state:n,commands:s})=>{const r=kn(t,n.schema);return Pl(n,r,e)?s.lift(r):s.wrapIn(r,e)},$he=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let s=0;s<n.length;s+=1){const r=n[s];let i;if(r.spec.isInputRules&&(i=r.getState(t))){if(e){const o=t.tr,l=i.transform;for(let u=l.steps.length-1;u>=0;u-=1)o.step(l.steps[u].invert(l.docs[u]));if(i.text){const u=o.doc.resolve(i.from).marks();o.replaceWith(i.from,i.to,t.schema.text(i.text,u))}else o.delete(i.from,i.to)}return!0}}return!1},qhe=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:s,ranges:r}=n;return s||e&&r.forEach(i=>{t.removeMark(i.$from.pos,i.$to.pos)}),!0},Whe=(t,e={})=>({tr:n,state:s,dispatch:r})=>{var i;const{extendEmptyMarkRange:o=!1}=e,{selection:l}=n,u=da(t,s.schema),{$from:d,empty:f,ranges:p}=l;if(!r)return!0;if(f&&o){let{from:y,to:x}=l;const w=(i=d.marks().find(S=>S.type===u))==null?void 0:i.attrs,T=B2(d,u,w);T&&(y=T.from,x=T.to),n.removeMark(y,x,u)}else p.forEach(y=>{n.removeMark(y.$from.pos,y.$to.pos,u)});return n.removeStoredMark(u),!0},Khe=t=>({tr:e,state:n,dispatch:s})=>{const{selection:r}=n;let i,o;return typeof t=="number"?(i=t,o=t):t&&"from"in t&&"to"in t?(i=t.from,o=t.to):(i=r.from,o=r.to),s&&e.doc.nodesBetween(i,o,(l,u)=>{if(l.isText)return;const d={...l.attrs};delete d.dir,e.setNodeMarkup(u,void 0,d)}),!0},Ghe=(t,e={})=>({tr:n,state:s,dispatch:r})=>{let i=null,o=null;const l=Ov(typeof t=="string"?t:t.name,s.schema);if(!l)return!1;l==="node"&&(i=kn(t,s.schema)),l==="mark"&&(o=da(t,s.schema));let u=!1;return n.selection.ranges.forEach(d=>{const f=d.$from.pos,p=d.$to.pos;let y,x,w,T;n.selection.empty?s.doc.nodesBetween(f,p,(S,A)=>{i&&i===S.type&&(u=!0,w=Math.max(A,f),T=Math.min(A+S.nodeSize,p),y=A,x=S)}):s.doc.nodesBetween(f,p,(S,A)=>{A<f&&i&&i===S.type&&(u=!0,w=Math.max(A,f),T=Math.min(A+S.nodeSize,p),y=A,x=S),A>=f&&A<=p&&(i&&i===S.type&&(u=!0,r&&n.setNodeMarkup(A,void 0,{...S.attrs,...e})),o&&S.marks.length&&S.marks.forEach(N=>{if(o===N.type&&(u=!0,r)){const P=Math.max(A,f),O=Math.min(A+S.nodeSize,p);n.addMark(P,O,o.create({...N.attrs,...e}))}}))}),x&&(y!==void 0&&r&&n.setNodeMarkup(y,void 0,{...x.attrs,...e}),o&&x.marks.length&&x.marks.forEach(S=>{o===S.type&&r&&n.addMark(w,T,o.create({...S.attrs,...e}))}))}),u},Yhe=(t,e={})=>({state:n,dispatch:s})=>{const r=kn(t,n.schema);return Sce(r,e)(n,s)},Xhe=(t,e={})=>({state:n,dispatch:s})=>{const r=kn(t,n.schema);return Tce(r,e)(n,s)},Qhe=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(s=>s.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(s=>s!==e):delete this.callbacks[t]),this}once(t,e){const n=(...s)=>{this.off(t,n),e.apply(this,s)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}},Vv=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},Jhe=(t,e)=>{if(z2(e))return e.exec(t);const n=e(t);if(!n)return null;const s=[n.text];return s.index=n.index,s.input=t,s.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),s.push(n.replaceWith)),s};function gy(t){var e;const{editor:n,from:s,to:r,text:i,rules:o,plugin:l}=t,{view:u}=n;if(u.composing)return!1;const d=u.state.doc.resolve(s);if(d.parent.type.spec.code||(e=d.nodeBefore||d.nodeAfter)!=null&&e.marks.find(y=>y.type.spec.code))return!1;let f=!1;const p=The(d)+i;return o.forEach(y=>{if(f)return;const x=Jhe(p,y.find);if(!x)return;const w=u.state.tr,T=Dv({state:u.state,transaction:w}),S={from:s-(x[0].length-i.length),to:r},{commands:A,chain:N,can:P}=new Pv({editor:n,state:T});y.handler({state:T,range:S,match:x,commands:A,chain:N,can:P})===null||!w.steps.length||(y.undoable&&w.setMeta(l,{transform:w,from:s,to:r,text:i}),u.dispatch(w),f=!0)}),f}function Zhe(t){const{editor:e,rules:n}=t,s=new Gt({state:{init(){return null},apply(r,i,o){const l=r.getMeta(s);if(l)return l;const u=r.getMeta("applyInputRules");return u&&setTimeout(()=>{let{text:f}=u;typeof f=="string"?f=f:f=F2(fe.from(f),o.schema);const{from:p}=u,y=p+f.length;gy({editor:e,from:p,to:y,text:f,rules:n,plugin:s})}),r.selectionSet||r.docChanged?null:i}},props:{handleTextInput(r,i,o,l){return gy({editor:e,from:i,to:o,text:l,rules:n,plugin:s})},handleDOMEvents:{compositionend:r=>(setTimeout(()=>{const{$cursor:i}=r.state.selection;i&&gy({editor:e,from:i.pos,to:i.pos,text:"",rules:n,plugin:s})}),!1)},handleKeyDown(r,i){if(i.key!=="Enter")return!1;const{$cursor:o}=r.state.selection;return o?gy({editor:e,from:o.pos,to:o.pos,text:`
`,rules:n,plugin:s}):!1}},isInputRules:!0});return s}function efe(t){return Object.prototype.toString.call(t).slice(8,-1)}function yy(t){return efe(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function tz(t,e){const n={...t};return yy(t)&&yy(e)&&Object.keys(e).forEach(s=>{yy(e[s])&&yy(t[s])?n[s]=tz(t[s],e[s]):n[s]=e[s]}),n}var $2=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...bt(Ie(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...bt(Ie(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>tz(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},pu=class nz extends $2{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new nz(n)}static handleExit({editor:e,mark:n}){const{tr:s}=e.state,r=e.state.selection.$from;if(r.pos===r.end()){const o=r.marks();if(!!!o.find(d=>d?.type.name===n.name))return!1;const u=o.find(d=>d?.type.name===n.name);return u&&s.removeStoredMark(u),s.insertText(" ",r.pos),e.view.dispatch(s),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function tfe(t){return typeof t=="number"}var nfe=class{constructor(t){this.find=t.find,this.handler=t.handler}},sfe=(t,e,n)=>{if(z2(e))return[...t.matchAll(e)];const s=e(t,n);return s?s.map(r=>{const i=[r.text];return i.index=r.index,i.input=t,i.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(r.replaceWith)),i}):[]};function rfe(t){const{editor:e,state:n,from:s,to:r,rule:i,pasteEvent:o,dropEvent:l}=t,{commands:u,chain:d,can:f}=new Pv({editor:e,state:n}),p=[];return n.doc.nodesBetween(s,r,(x,w)=>{var T,S,A,N,P;if((S=(T=x.type)==null?void 0:T.spec)!=null&&S.code||!(x.isText||x.isTextblock||x.isInline))return;const O=(P=(N=(A=x.content)==null?void 0:A.size)!=null?N:x.nodeSize)!=null?P:0,L=Math.max(s,w),F=Math.min(r,w+O);if(L>=F)return;const I=x.isText?x.text||"":x.textBetween(L-w,F-w,void 0,"");sfe(I,i.find,o).forEach(D=>{if(D.index===void 0)return;const z=L+D.index+1,B=z+D[0].length,H={from:n.tr.mapping.map(z),to:n.tr.mapping.map(B)},U=i.handler({state:n,range:H,match:D,commands:u,chain:d,can:f,pasteEvent:o,dropEvent:l});p.push(U)})}),p.every(x=>x!==null)}var xy=null,ife=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function ofe(t){const{editor:e,rules:n}=t;let s=null,r=!1,i=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l;try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}const u=({state:f,from:p,to:y,rule:x,pasteEvt:w})=>{const T=f.tr,S=Dv({state:f,transaction:T});if(!(!rfe({editor:e,state:S,from:Math.max(p-1,0),to:y.b-1,rule:x,pasteEvent:w,dropEvent:l})||!T.steps.length)){try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,T}};return n.map(f=>new Gt({view(p){const y=w=>{var T;s=(T=p.dom.parentElement)!=null&&T.contains(w.target)?p.dom.parentElement:null,s&&(xy=e)},x=()=>{xy&&(xy=null)};return window.addEventListener("dragstart",y),window.addEventListener("dragend",x),{destroy(){window.removeEventListener("dragstart",y),window.removeEventListener("dragend",x)}}},props:{handleDOMEvents:{drop:(p,y)=>{if(i=s===p.dom.parentElement,l=y,!i){const x=xy;x?.isEditable&&setTimeout(()=>{const w=x.state.selection;w&&x.commands.deleteRange({from:w.from,to:w.to})},10)}return!1},paste:(p,y)=>{var x;const w=(x=y.clipboardData)==null?void 0:x.getData("text/html");return o=y,r=!!w?.includes("data-pm-slice"),!1}}},appendTransaction:(p,y,x)=>{const w=p[0],T=w.getMeta("uiEvent")==="paste"&&!r,S=w.getMeta("uiEvent")==="drop"&&!i,A=w.getMeta("applyPasteRules"),N=!!A;if(!T&&!S&&!N)return;if(N){let{text:L}=A;typeof L=="string"?L=L:L=F2(fe.from(L),x.schema);const{from:F}=A,I=F+L.length,R=ife(L);return u({rule:f,state:x,from:F,to:{b:I},pasteEvt:R})}const P=y.doc.content.findDiffStart(x.doc.content),O=y.doc.content.findDiffEnd(x.doc.content);if(!(!tfe(P)||!O||P===O.b))return u({rule:f,state:x,from:P,to:O,pasteEvt:o})}}))}var zv=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=KV(t),this.schema=yhe(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Rf(e.name,this.schema)},s=Ie(e,"addCommands",n);return s?{...t,...s()}:t},{})}get plugins(){const{editor:t}=this;return hp([...this.extensions].reverse()).flatMap(s=>{const r={name:s.name,options:s.options,storage:this.editor.extensionStorage[s.name],editor:t,type:Rf(s.name,this.schema)},i=[],o=Ie(s,"addKeyboardShortcuts",r);let l={};if(s.type==="mark"&&Ie(s,"exitable",r)&&(l.ArrowRight=()=>pu.handleExit({editor:t,mark:s})),o){const y=Object.fromEntries(Object.entries(o()).map(([x,w])=>[x,()=>w({editor:t})]));l={...l,...y}}const u=bde(l);i.push(u);const d=Ie(s,"addInputRules",r);if(V3(s,t.options.enableInputRules)&&d){const y=d();if(y&&y.length){const x=Zhe({editor:t,rules:y}),w=Array.isArray(x)?x:[x];i.push(...w)}}const f=Ie(s,"addPasteRules",r);if(V3(s,t.options.enablePasteRules)&&f){const y=f();if(y&&y.length){const x=ofe({editor:t,rules:y});i.push(...x)}}const p=Ie(s,"addProseMirrorPlugins",r);if(p){const y=p();i.push(...y)}return i})}get attributes(){return WV(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=Yd(this.extensions);return Object.fromEntries(e.filter(n=>!!Ie(n,"addNodeView")).map(n=>{const s=this.attributes.filter(u=>u.type===n.name),r={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:kn(n.name,this.schema)},i=Ie(n,"addNodeView",r);if(!i)return[];const o=i();if(!o)return[];const l=(u,d,f,p,y)=>{const x=Kp(u,s);return o({node:u,view:d,getPos:f,decorations:p,innerDecorations:y,editor:t,extension:n,HTMLAttributes:x})};return[n.name,l]}))}dispatchTransaction(t){const{editor:e}=this;return hp([...this.extensions].reverse()).reduceRight((s,r)=>{const i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:e,type:Rf(r.name,this.schema)},o=Ie(r,"dispatchTransaction",i);return o?l=>{o.call(i,{transaction:l,next:s})}:s},t)}transformPastedHTML(t){const{editor:e}=this;return hp([...this.extensions]).reduce((s,r)=>{const i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:e,type:Rf(r.name,this.schema)},o=Ie(r,"transformPastedHTML",i);return o?(l,u)=>{const d=s(l,u);return o.call(i,d)}:s},t||(s=>s))}get markViews(){const{editor:t}=this,{markExtensions:e}=Yd(this.extensions);return Object.fromEntries(e.filter(n=>!!Ie(n,"addMarkView")).map(n=>{const s=this.attributes.filter(l=>l.type===n.name),r={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:da(n.name,this.schema)},i=Ie(n,"addMarkView",r);if(!i)return[];const o=(l,u,d)=>{const f=Kp(l,s);return i()({mark:l,view:u,inline:d,editor:t,extension:n,HTMLAttributes:f,updateAttributes:p=>{wfe(l,t,p)}})};return[n.name,o]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const s={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Rf(e.name,this.schema)};e.type==="mark"&&((n=bt(Ie(e,"keepOnSplit",s)))==null||n)&&this.splittableMarks.push(e.name);const r=Ie(e,"onBeforeCreate",s),i=Ie(e,"onCreate",s),o=Ie(e,"onUpdate",s),l=Ie(e,"onSelectionUpdate",s),u=Ie(e,"onTransaction",s),d=Ie(e,"onFocus",s),f=Ie(e,"onBlur",s),p=Ie(e,"onDestroy",s);r&&this.editor.on("beforeCreate",r),i&&this.editor.on("create",i),o&&this.editor.on("update",o),l&&this.editor.on("selectionUpdate",l),u&&this.editor.on("transaction",u),d&&this.editor.on("focus",d),f&&this.editor.on("blur",f),p&&this.editor.on("destroy",p)})}};zv.resolve=KV;zv.sort=hp;zv.flatten=U2;var afe={};V2(afe,{ClipboardTextSerializer:()=>rz,Commands:()=>iz,Delete:()=>oz,Drop:()=>az,Editable:()=>lz,FocusEvents:()=>uz,Keymap:()=>dz,Paste:()=>hz,Tabindex:()=>fz,TextDirection:()=>pz,focusEventsPluginKey:()=>cz});var dn=class sz extends $2{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new sz(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},rz=dn.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Gt({key:new jn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:s,selection:r}=e,{ranges:i}=r,o=Math.min(...i.map(f=>f.$from.pos)),l=Math.max(...i.map(f=>f.$to.pos)),u=YV(n);return GV(s,{from:o,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:u})}}})]}}),iz=dn.create({name:"commands",addCommands(){return{...LV}}}),oz=dn.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,s,r;const i=()=>{var o,l,u,d;if((d=(u=(l=(o=this.editor.options.coreExtensionOptions)==null?void 0:o.delete)==null?void 0:l.filterTransaction)==null?void 0:u.call(l,t))!=null?d:t.getMeta("y-sync$"))return;const f=$V(t.before,[t,...e]);QV(f).forEach(x=>{f.mapping.mapResult(x.oldRange.from).deletedAfter&&f.mapping.mapResult(x.oldRange.to).deletedBefore&&f.before.nodesBetween(x.oldRange.from,x.oldRange.to,(w,T)=>{const S=T+w.nodeSize-2,A=x.oldRange.from<=T&&S<=x.oldRange.to;this.editor.emit("delete",{type:"node",node:w,from:T,to:S,newFrom:f.mapping.map(T),newTo:f.mapping.map(S),deletedRange:x.oldRange,newRange:x.newRange,partial:!A,editor:this.editor,transaction:t,combinedTransform:f})})});const y=f.mapping;f.steps.forEach((x,w)=>{var T,S;if(x instanceof ui){const A=y.slice(w).map(x.from,-1),N=y.slice(w).map(x.to),P=y.invert().map(A,-1),O=y.invert().map(N),L=(T=f.doc.nodeAt(A-1))==null?void 0:T.marks.some(I=>I.eq(x.mark)),F=(S=f.doc.nodeAt(N))==null?void 0:S.marks.some(I=>I.eq(x.mark));this.editor.emit("delete",{type:"mark",mark:x.mark,from:x.from,to:x.to,deletedRange:{from:P,to:O},newRange:{from:A,to:N},partial:!!(F||L),editor:this.editor,transaction:t,combinedTransform:f})}})};(r=(s=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:s.async)==null||r?setTimeout(i,0):i()}}),az=dn.create({name:"drop",addProseMirrorPlugins(){return[new Gt({key:new jn("tiptapDrop"),props:{handleDrop:(t,e,n,s)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:s})}}})]}}),lz=dn.create({name:"editable",addProseMirrorPlugins(){return[new Gt({key:new jn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),cz=new jn("focusEvents"),uz=dn.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Gt({key:cz,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const s=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(s),!1},blur:(e,n)=>{t.isFocused=!1;const s=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(s),!1}}}})]}}),dz=dn.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:l})=>{const{selection:u,doc:d}=l,{empty:f,$anchor:p}=u,{pos:y,parent:x}=p,w=p.parent.isTextblock&&y>0?l.doc.resolve(y-1):p,T=w.parent.type.spec.isolating,S=p.pos-p.parentOffset,A=T&&w.parent.childCount===1?S===p.pos:Je.atStart(d).from===y;return!f||!x.type.isTextblock||x.textContent.length||!A||A&&p.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),s={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},r={...s},i={...s,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return ox()||FV()?i:r},addProseMirrorPlugins(){return[new Gt({key:new jn("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(T=>T.getMeta("composition")))return;const s=t.some(T=>T.docChanged)&&!e.doc.eq(n.doc),r=t.some(T=>T.getMeta("preventClearDocument"));if(!s||r)return;const{empty:i,from:o,to:l}=e.selection,u=Je.atStart(e.doc).from,d=Je.atEnd(e.doc).to;if(i||!(o===u&&l===d)||!Lv(n.doc))return;const y=n.tr,x=Dv({state:n,transaction:y}),{commands:w}=new Pv({editor:this.editor,state:x});if(w.clearNodes(),!!y.steps.length)return y}})]}}),hz=dn.create({name:"paste",addProseMirrorPlugins(){return[new Gt({key:new jn("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),fz=dn.create({name:"tabindex",addProseMirrorPlugins(){return[new Gt({key:new jn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),pz=dn.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:t}=Yd(this.extensions);return[{types:t.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const n=e.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new Gt({key:new jn("textDirection"),props:{attributes:()=>{const t=this.options.direction;return t?{dir:t}:{}}}})]}}),lfe=class Hf{constructor(e,n,s=!1,r=null){this.currentNode=null,this.actualDepth=null,this.isBlock=s,this.resolvedPos=e,this.editor=n,this.currentNode=r}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,s=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,s=this.to-1}this.editor.commands.insertContentAt({from:n,to:s},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Hf(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Hf(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Hf(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,s)=>{const r=n.isBlock&&!n.isTextblock,i=n.isAtom&&!n.isText,o=n.isInline,l=this.pos+s+(i?0:1);if(l<0||l>this.resolvedPos.doc.nodeSize-2)return;const u=this.resolvedPos.doc.resolve(l);if(!r&&!o&&u.depth<=this.depth)return;const d=new Hf(u,this.editor,r,r||o?n:null);r&&(d.actualDepth=this.depth+1),e.push(d)}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let s=null,r=this.parent;for(;r&&!s;){if(r.node.type.name===e)if(Object.keys(n).length>0){const i=r.node.attrs,o=Object.keys(n);for(let l=0;l<o.length;l+=1){const u=o[l];if(i[u]!==n[u])break}}else s=r;r=r.parent}return s}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},s=!1){let r=[];if(!this.children||this.children.length===0)return r;const i=Object.keys(n);return this.children.forEach(o=>{s&&r.length>0||(o.node.type.name===e&&i.every(u=>n[u]===o.node.attrs[u])&&r.push(o),!(s&&r.length>0)&&(r=r.concat(o.querySelectorAll(e,n,s))))}),r}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},cfe=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function ufe(t,e,n){const s=document.querySelector("style[data-tiptap-style]");if(s!==null)return s;const r=document.createElement("style");return e&&r.setAttribute("nonce",e),r.setAttribute("data-tiptap-style",""),r.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(r),r}var dfe=class extends Qhe{constructor(t={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:s})=>{throw s},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null,enableExtensionDispatchTransaction:!0},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:khe,createMappablePosition:Nhe},this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:s,slice:r,moved:i})=>this.options.onDrop(s,r,i)),this.on("paste",({event:s,slice:r})=>this.options.onPaste(s,r)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=BV(e,this.options.autofocus);this.editorState=Td.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t?.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=ufe(cfe,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=qV(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],s=this.state.reconfigure({plugins:n});return this.view.updateState(s),s}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(r=>{const i=typeof r=="string"?`${r}$`:r.key;n=n.filter(o=>!o.key.startsWith(i))}),e.length===n.length)return;const s=this.state.reconfigure({plugins:n});return this.view.updateState(s),s}createExtensionManager(){var t,e;const s=[...this.options.enableCoreExtensions?[lz,rz.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),iz,uz,dz,fz,az,hz,oz,pz.configure({direction:this.options.textDirection})].filter(r=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[r.name]!==!1:!0):[],...this.options.extensions].filter(r=>["extension","node","mark"].includes(r?.type));this.extensionManager=new zv(s,this)}createCommandManager(){this.commandManager=new Pv({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=$S(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=$S(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){const{editorProps:e,enableExtensionDispatchTransaction:n}=this.options,s=e.dispatchTransaction||this.dispatchTransaction.bind(this),r=n?this.extensionManager.dispatchTransaction(s):s,i=e.transformPastedHTML,o=this.extensionManager.transformPastedHTML(i);this.editorView=new OV(t,{...e,attributes:{role:"textbox",...e?.attributes},dispatchTransaction:r,transformPastedHTML:o,state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const l=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(l),this.prependClass(),this.injectCSS();const u=this.view.dom;u.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(d=>{var f;return(f=this.capturedTransaction)==null?void 0:f.step(d)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),s=!this.state.selection.eq(e.selection),r=n.includes(t),i=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!r)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),s&&this.emit("selectionUpdate",{editor:this,transaction:t});const o=n.findLast(d=>d.getMeta("focus")||d.getMeta("blur")),l=o?.getMeta("focus"),u=o?.getMeta("blur");l&&this.emit("focus",{editor:this,event:l.event,transaction:o}),u&&this.emit("blur",{editor:this,event:u.event,transaction:o}),!(t.getMeta("preventUpdate")||!n.some(d=>d.docChanged)||i.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return XV(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,s=typeof t=="string"?e:t;return _he(this.state,n,s)}getJSON(){return this.state.doc.toJSON()}getHTML(){return F2(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return vhe(this.state.doc,{blockSeparator:e,textSerializers:{...YV(this.schema),...n}})}get isEmpty(){return Lv(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new lfe(e,this)}get $doc(){return this.$pos(0)}};function Xd(t){return new Vv({find:t.find,handler:({state:e,range:n,match:s})=>{const r=bt(t.getAttributes,void 0,s);if(r===!1||r===null)return null;const{tr:i}=e,o=s[s.length-1],l=s[0];if(o){const u=l.search(/\S/),d=n.from+l.indexOf(o),f=d+o.length;if(H2(n.from,n.to,e.doc).filter(x=>x.mark.type.excluded.find(T=>T===t.type&&T!==x.mark.type)).filter(x=>x.to>d).length)return null;f<n.to&&i.delete(f,n.to),d>n.from&&i.delete(n.from+u,d);const y=n.from+u+o.length;i.addMark(n.from+u,y,t.type.create(r||{})),i.removeStoredMark(t.type)}},undoable:t.undoable})}function mz(t){return new Vv({find:t.find,handler:({state:e,range:n,match:s})=>{const r=bt(t.getAttributes,void 0,s)||{},{tr:i}=e,o=n.from;let l=n.to;const u=t.type.create(r);if(s[1]){const d=s[0].lastIndexOf(s[1]);let f=o+d;f>l?f=l:l=f+s[1].length;const p=s[0][s[0].length-1];i.insertText(p,o+s[0].length-1),i.replaceWith(f,l,u)}else if(s[0]){const d=t.type.isInline?o:o-1;i.insert(d,t.type.create(r)).delete(i.mapping.map(o),i.mapping.map(l))}i.scrollIntoView()},undoable:t.undoable})}function WS(t){return new Vv({find:t.find,handler:({state:e,range:n,match:s})=>{const r=e.doc.resolve(n.from),i=bt(t.getAttributes,void 0,s)||{};if(!r.node(-1).canReplaceWith(r.index(-1),r.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,i)},undoable:t.undoable})}function Qd(t){return new Vv({find:t.find,handler:({state:e,range:n,match:s,chain:r})=>{const i=bt(t.getAttributes,void 0,s)||{},o=e.tr.delete(n.from,n.to),u=o.doc.resolve(n.from).blockRange(),d=u&&E2(u,t.type,i);if(!d)return null;if(o.wrap(u,d),t.keepMarks&&t.editor){const{selection:p,storedMarks:y}=e,{splittableMarks:x}=t.editor.extensionManager,w=y||p.$to.parentOffset&&p.$from.marks();if(w){const T=w.filter(S=>x.includes(S.type.name));o.ensureMarks(T)}}if(t.keepAttributes){const p=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";r().updateAttributes(p,i).run()}const f=o.doc.resolve(n.from-1).nodeBefore;f&&f.type===t.type&&Hl(o.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(s,f))&&o.join(n.from-1)},undoable:t.undoable})}var hfe=t=>"touches"in t,ffe=class{constructor(t){this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.lastEditableState=void 0,this.handleMap=new Map,this.handleMouseMove=l=>{if(!this.isResizing||!this.activeHandle)return;const u=l.clientX-this.startX,d=l.clientY-this.startY;this.handleResize(u,d)},this.handleTouchMove=l=>{if(!this.isResizing||!this.activeHandle)return;const u=l.touches[0];if(!u)return;const d=u.clientX-this.startX,f=u.clientY-this.startY;this.handleResize(d,f)},this.handleMouseUp=()=>{if(!this.isResizing)return;const l=this.element.offsetWidth,u=this.element.offsetHeight;this.onCommit(l,u),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=l=>{l.key==="Shift"&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=l=>{l.key==="Shift"&&(this.isShiftKeyPressed=!1)};var e,n,s,r,i,o;this.node=t.node,this.editor=t.editor,this.element=t.element,this.contentElement=t.contentElement,this.getPos=t.getPos,this.onResize=t.onResize,this.onCommit=t.onCommit,this.onUpdate=t.onUpdate,(e=t.options)!=null&&e.min&&(this.minSize={...this.minSize,...t.options.min}),(n=t.options)!=null&&n.max&&(this.maxSize=t.options.max),(s=t?.options)!=null&&s.directions&&(this.directions=t.options.directions),(r=t.options)!=null&&r.preserveAspectRatio&&(this.preserveAspectRatio=t.options.preserveAspectRatio),(i=t.options)!=null&&i.className&&(this.classNames={container:t.options.className.container||"",wrapper:t.options.className.wrapper||"",handle:t.options.className.handle||"",resizing:t.options.className.resizing||""}),(o=t.options)!=null&&o.createCustomHandle&&(this.createCustomHandle=t.options.createCustomHandle),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles(),this.editor.on("update",this.handleEditorUpdate.bind(this))}get dom(){return this.container}get contentDOM(){var t;return(t=this.contentElement)!=null?t:null}handleEditorUpdate(){const t=this.editor.isEditable;t!==this.lastEditableState&&(this.lastEditableState=t,t?t&&this.handleMap.size===0&&this.attachHandles():this.removeHandles())}update(t,e,n){return t.type!==this.node.type?!1:(this.node=t,this.onUpdate?this.onUpdate(t,e,n):!0)}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.editor.off("update",this.handleEditorUpdate.bind(this)),this.container.remove()}createContainer(){const t=document.createElement("div");return t.dataset.resizeContainer="",t.dataset.node=this.node.type.name,t.style.display="flex",this.classNames.container&&(t.className=this.classNames.container),t.appendChild(this.wrapper),t}createWrapper(){const t=document.createElement("div");return t.style.position="relative",t.style.display="block",t.dataset.resizeWrapper="",this.classNames.wrapper&&(t.className=this.classNames.wrapper),t.appendChild(this.element),t}createHandle(t){const e=document.createElement("div");return e.dataset.resizeHandle=t,e.style.position="absolute",this.classNames.handle&&(e.className=this.classNames.handle),e}positionHandle(t,e){const n=e.includes("top"),s=e.includes("bottom"),r=e.includes("left"),i=e.includes("right");n&&(t.style.top="0"),s&&(t.style.bottom="0"),r&&(t.style.left="0"),i&&(t.style.right="0"),(e==="top"||e==="bottom")&&(t.style.left="0",t.style.right="0"),(e==="left"||e==="right")&&(t.style.top="0",t.style.bottom="0")}attachHandles(){this.directions.forEach(t=>{let e;this.createCustomHandle?e=this.createCustomHandle(t):e=this.createHandle(t),e instanceof HTMLElement||(console.warn(`[ResizableNodeView] createCustomHandle("${t}") did not return an HTMLElement. Falling back to default handle.`),e=this.createHandle(t)),this.createCustomHandle||this.positionHandle(e,t),e.addEventListener("mousedown",n=>this.handleResizeStart(n,t)),e.addEventListener("touchstart",n=>this.handleResizeStart(n,t)),this.handleMap.set(t,e),this.wrapper.appendChild(e)})}removeHandles(){this.handleMap.forEach(t=>t.remove()),this.handleMap.clear()}applyInitialSize(){const t=this.node.attrs.width,e=this.node.attrs.height;t?(this.element.style.width=`${t}px`,this.initialWidth=t):this.initialWidth=this.element.offsetWidth,e?(this.element.style.height=`${e}px`,this.initialHeight=e):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(t,e){t.preventDefault(),t.stopPropagation(),this.isResizing=!0,this.activeHandle=e,hfe(t)?(this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY):(this.startX=t.clientX,this.startY=t.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight),this.getPos(),this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(t,e){if(!this.activeHandle)return;const n=this.preserveAspectRatio||this.isShiftKeyPressed,{width:s,height:r}=this.calculateNewDimensions(this.activeHandle,t,e),i=this.applyConstraints(s,r,n);this.element.style.width=`${i.width}px`,this.element.style.height=`${i.height}px`,this.onResize&&this.onResize(i.width,i.height)}calculateNewDimensions(t,e,n){let s=this.startWidth,r=this.startHeight;const i=t.includes("right"),o=t.includes("left"),l=t.includes("bottom"),u=t.includes("top");return i?s=this.startWidth+e:o&&(s=this.startWidth-e),l?r=this.startHeight+n:u&&(r=this.startHeight-n),(t==="right"||t==="left")&&(s=this.startWidth+(i?e:-e)),(t==="top"||t==="bottom")&&(r=this.startHeight+(l?n:-n)),this.preserveAspectRatio||this.isShiftKeyPressed?this.applyAspectRatio(s,r,t):{width:s,height:r}}applyConstraints(t,e,n){var s,r,i,o;if(!n){let d=Math.max(this.minSize.width,t),f=Math.max(this.minSize.height,e);return(s=this.maxSize)!=null&&s.width&&(d=Math.min(this.maxSize.width,d)),(r=this.maxSize)!=null&&r.height&&(f=Math.min(this.maxSize.height,f)),{width:d,height:f}}let l=t,u=e;return l<this.minSize.width&&(l=this.minSize.width,u=l/this.aspectRatio),u<this.minSize.height&&(u=this.minSize.height,l=u*this.aspectRatio),(i=this.maxSize)!=null&&i.width&&l>this.maxSize.width&&(l=this.maxSize.width,u=l/this.aspectRatio),(o=this.maxSize)!=null&&o.height&&u>this.maxSize.height&&(u=this.maxSize.height,l=u*this.aspectRatio),{width:l,height:u}}applyAspectRatio(t,e,n){const s=n==="left"||n==="right",r=n==="top"||n==="bottom";return s?{width:t,height:t/this.aspectRatio}:r?{width:e*this.aspectRatio,height:e}:{width:t,height:t/this.aspectRatio}}};function pfe(t,e){const{selection:n}=t,{$from:s}=n;if(n instanceof Ve){const i=s.index();return s.parent.canReplaceWith(i,i+1,e)}let r=s.depth;for(;r>=0;){const i=s.index(r);if(s.node(r).contentMatchAt(i).matchType(e))return!0;r-=1}return!1}var mfe={};V2(mfe,{createAtomBlockMarkdownSpec:()=>gfe,createBlockMarkdownSpec:()=>yfe,createInlineMarkdownSpec:()=>bfe,parseAttributes:()=>q2,parseIndentedBlocks:()=>KS,renderNestedMarkdownContent:()=>K2,serializeAttributes:()=>W2});function q2(t){if(!t?.trim())return{};const e={},n=[],s=t.replace(/["']([^"']*)["']/g,d=>(n.push(d),`__QUOTED_${n.length-1}__`)),r=s.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(r){const d=r.map(f=>f.trim().slice(1));e.class=d.join(" ")}const i=s.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);i&&(e.id=i[1]);const o=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(s.matchAll(o)).forEach(([,d,f])=>{var p;const y=parseInt(((p=f.match(/__QUOTED_(\d+)__/))==null?void 0:p[1])||"0",10),x=n[y];x&&(e[d]=x.slice(1,-1))});const u=s.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return u&&u.split(/\s+/).filter(Boolean).forEach(f=>{f.match(/^[a-zA-Z][\w-]*$/)&&(e[f]=!0)}),e}function W2(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(s=>e.push(`.${s}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([n,s])=>{n==="class"||n==="id"||(s===!0?e.push(n):s!==!1&&s!=null&&e.push(`${n}="${String(s)}"`))}),e.join(" ")}function gfe(t){const{nodeName:e,name:n,parseAttributes:s=q2,serializeAttributes:r=W2,defaultAttributes:i={},requiredAttributes:o=[],allowedAttributes:l}=t,u=n||e,d=f=>{if(!l)return f;const p={};return l.forEach(y=>{y in f&&(p[y]=f[y])}),p};return{parseMarkdown:(f,p)=>{const y={...i,...f.attributes};return p.createNode(e,y,[])},markdownTokenizer:{name:e,level:"block",start(f){var p;const y=new RegExp(`^:::${u}(?:\\s|$)`,"m"),x=(p=f.match(y))==null?void 0:p.index;return x!==void 0?x:-1},tokenize(f,p,y){const x=new RegExp(`^:::${u}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),w=f.match(x);if(!w)return;const T=w[1]||"",S=s(T);if(!o.find(N=>!(N in S)))return{type:e,raw:w[0],attributes:S}}},renderMarkdown:f=>{const p=d(f.attrs||{}),y=r(p),x=y?` {${y}}`:"";return`:::${u}${x} :::`}}}function yfe(t){const{nodeName:e,name:n,getContent:s,parseAttributes:r=q2,serializeAttributes:i=W2,defaultAttributes:o={},content:l="block",allowedAttributes:u}=t,d=n||e,f=p=>{if(!u)return p;const y={};return u.forEach(x=>{x in p&&(y[x]=p[x])}),y};return{parseMarkdown:(p,y)=>{let x;if(s){const T=s(p);x=typeof T=="string"?[{type:"text",text:T}]:T}else l==="block"?x=y.parseChildren(p.tokens||[]):x=y.parseInline(p.tokens||[]);const w={...o,...p.attributes};return y.createNode(e,w,x)},markdownTokenizer:{name:e,level:"block",start(p){var y;const x=new RegExp(`^:::${d}`,"m"),w=(y=p.match(x))==null?void 0:y.index;return w!==void 0?w:-1},tokenize(p,y,x){var w;const T=new RegExp(`^:::${d}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),S=p.match(T);if(!S)return;const[A,N=""]=S,P=r(N);let O=1;const L=A.length;let F="";const I=/^:::([\w-]*)(\s.*)?/gm,R=p.slice(L);for(I.lastIndex=0;;){const D=I.exec(R);if(D===null)break;const z=D.index,B=D[1];if(!((w=D[2])!=null&&w.endsWith(":::"))){if(B)O+=1;else if(O-=1,O===0){const H=R.slice(0,z);F=H.trim();const U=p.slice(0,L+z+D[0].length);let he=[];if(F)if(l==="block")for(he=x.blockTokens(H),he.forEach(ce=>{ce.text&&(!ce.tokens||ce.tokens.length===0)&&(ce.tokens=x.inlineTokens(ce.text))});he.length>0;){const ce=he[he.length-1];if(ce.type==="paragraph"&&(!ce.text||ce.text.trim()===""))he.pop();else break}else he=x.inlineTokens(F);return{type:e,raw:U,attributes:P,content:F,tokens:he}}}}}},renderMarkdown:(p,y)=>{const x=f(p.attrs||{}),w=i(x),T=w?` {${w}}`:"",S=y.renderChildren(p.content||[],`

`);return`:::${d}${T}

${S}

:::`}}}function xfe(t){if(!t.trim())return{};const e={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let s=n.exec(t);for(;s!==null;){const[,r,i,o]=s;e[r]=i||o,s=n.exec(t)}return e}function vfe(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,n])=>`${e}="${n}"`).join(" ")}function bfe(t){const{nodeName:e,name:n,getContent:s,parseAttributes:r=xfe,serializeAttributes:i=vfe,defaultAttributes:o={},selfClosing:l=!1,allowedAttributes:u}=t,d=n||e,f=y=>{if(!u)return y;const x={};return u.forEach(w=>{const T=typeof w=="string"?w:w.name,S=typeof w=="string"?void 0:w.skipIfDefault;if(T in y){const A=y[T];if(S!==void 0&&A===S)return;x[T]=A}}),x},p=d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(y,x)=>{const w={...o,...y.attributes};if(l)return x.createNode(e,w);const T=s?s(y):y.content||"";return T?x.createNode(e,w,[x.createTextNode(T)]):x.createNode(e,w,[])},markdownTokenizer:{name:e,level:"inline",start(y){const x=l?new RegExp(`\\[${p}\\s*[^\\]]*\\]`):new RegExp(`\\[${p}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${p}\\]`),w=y.match(x),T=w?.index;return T!==void 0?T:-1},tokenize(y,x,w){const T=l?new RegExp(`^\\[${p}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${p}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${p}\\]`),S=y.match(T);if(!S)return;let A="",N="";if(l){const[,O]=S;N=O}else{const[,O,L]=S;N=O,A=L||""}const P=r(N.trim());return{type:e,raw:S[0],content:A.trim(),attributes:P}}},renderMarkdown:y=>{let x="";s?x=s(y):y.content&&y.content.length>0&&(x=y.content.filter(A=>A.type==="text").map(A=>A.text).join(""));const w=f(y.attrs||{}),T=i(w),S=T?` ${T}`:"";return l?`[${d}${S}]`:`[${d}${S}]${x}[/${d}]`}}}function KS(t,e,n){var s,r,i,o;const l=t.split(`
`),u=[];let d="",f=0;const p=e.baseIndentSize||2;for(;f<l.length;){const y=l[f],x=y.match(e.itemPattern);if(!x){if(u.length>0)break;if(y.trim()===""){f+=1,d=`${d}${y}
`;continue}else return}const w=e.extractItemData(x),{indentLevel:T,mainContent:S}=w;d=`${d}${y}
`;const A=[S];for(f+=1;f<l.length;){const L=l[f];if(L.trim()===""){const I=l.slice(f+1).findIndex(z=>z.trim()!=="");if(I===-1)break;if((((r=(s=l[f+1+I].match(/^(\s*)/))==null?void 0:s[1])==null?void 0:r.length)||0)>T){A.push(L),d=`${d}${L}
`,f+=1;continue}else break}if((((o=(i=L.match(/^(\s*)/))==null?void 0:i[1])==null?void 0:o.length)||0)>T)A.push(L),d=`${d}${L}
`,f+=1;else break}let N;const P=A.slice(1);if(P.length>0){const L=P.map(F=>F.slice(T+p)).join(`
`);L.trim()&&(e.customNestedParser?N=e.customNestedParser(L):N=n.blockTokens(L))}const O=e.createToken(w,N);u.push(O)}if(u.length!==0)return{items:u,raw:d}}function K2(t,e,n,s){if(!t||!Array.isArray(t.content))return"";const r=typeof n=="function"?n(s):n,[i,...o]=t.content,l=e.renderChildren([i]),u=[`${r}${l}`];return o&&o.length>0&&o.forEach(d=>{const f=e.renderChildren([d]);if(f){const p=f.split(`
`).map(y=>y?e.indent(y):"").join(`
`);u.push(p)}}),u.join(`
`)}function wfe(t,e,n={}){const{state:s}=e,{doc:r,tr:i}=s,o=t;r.descendants((l,u)=>{const d=i.mapping.map(u),f=i.mapping.map(u)+l.nodeSize;let p=null;if(l.marks.forEach(x=>{if(x!==o)return!1;p=x}),!p)return;let y=!1;if(Object.keys(n).forEach(x=>{n[x]!==p.attrs[x]&&(y=!0)}),y){const x=t.type.create({...t.attrs,...n});i.removeMark(d,f,t.type),i.addMark(d,f,x)}}),i.docChanged&&e.view.dispatch(i)}var er=class gz extends $2{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new gz(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function ru(t){return new nfe({find:t.find,handler:({state:e,range:n,match:s,pasteEvent:r})=>{const i=bt(t.getAttributes,void 0,s,r);if(i===!1||i===null)return null;const{tr:o}=e,l=s[s.length-1],u=s[0];let d=n.to;if(l){const f=u.search(/\S/),p=n.from+u.indexOf(l),y=p+l.length;if(H2(n.from,n.to,e.doc).filter(w=>w.mark.type.excluded.find(S=>S===t.type&&S!==w.mark.type)).filter(w=>w.to>p).length)return null;y<n.to&&o.delete(y,n.to),p>n.from&&o.delete(n.from+f,p),d=n.from+f+l.length,o.addMark(n.from+f,d,t.type.create(i||{})),o.removeStoredMark(t.type)}}})}const{getOwnPropertyNames:Efe,getOwnPropertySymbols:Sfe}=Object,{hasOwnProperty:Tfe}=Object.prototype;function eE(t,e){return function(s,r,i){return t(s,r,i)&&e(s,r,i)}}function vy(t){return function(n,s,r){if(!n||!s||typeof n!="object"||typeof s!="object")return t(n,s,r);const{cache:i}=r,o=i.get(n),l=i.get(s);if(o&&l)return o===s&&l===n;i.set(n,s),i.set(s,n);const u=t(n,s,r);return i.delete(n),i.delete(s),u}}function _fe(t){return t?.[Symbol.toStringTag]}function U3(t){return Efe(t).concat(Sfe(t))}const Afe=Object.hasOwn||((t,e)=>Tfe.call(t,e));function mu(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const Cfe="__v",kfe="__o",Nfe="_owner",{getOwnPropertyDescriptor:F3,keys:H3}=Object;function Rfe(t,e){return t.byteLength===e.byteLength&&ax(new Uint8Array(t),new Uint8Array(e))}function Mfe(t,e,n){let s=t.length;if(e.length!==s)return!1;for(;s-- >0;)if(!n.equals(t[s],e[s],s,s,t,e,n))return!1;return!0}function Ife(t,e){return t.byteLength===e.byteLength&&ax(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function Dfe(t,e){return mu(t.getTime(),e.getTime())}function Pfe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Ofe(t,e){return t===e}function $3(t,e,n){const s=t.size;if(s!==e.size)return!1;if(!s)return!0;const r=new Array(s),i=t.entries();let o,l,u=0;for(;(o=i.next())&&!o.done;){const d=e.entries();let f=!1,p=0;for(;(l=d.next())&&!l.done;){if(r[p]){p++;continue}const y=o.value,x=l.value;if(n.equals(y[0],x[0],u,p,t,e,n)&&n.equals(y[1],x[1],y[0],x[0],t,e,n)){f=r[p]=!0;break}p++}if(!f)return!1;u++}return!0}const jfe=mu;function Lfe(t,e,n){const s=H3(t);let r=s.length;if(H3(e).length!==r)return!1;for(;r-- >0;)if(!yz(t,e,n,s[r]))return!1;return!0}function Mf(t,e,n){const s=U3(t);let r=s.length;if(U3(e).length!==r)return!1;let i,o,l;for(;r-- >0;)if(i=s[r],!yz(t,e,n,i)||(o=F3(t,i),l=F3(e,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function Vfe(t,e){return mu(t.valueOf(),e.valueOf())}function zfe(t,e){return t.source===e.source&&t.flags===e.flags}function q3(t,e,n){const s=t.size;if(s!==e.size)return!1;if(!s)return!0;const r=new Array(s),i=t.values();let o,l;for(;(o=i.next())&&!o.done;){const u=e.values();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(!r[f]&&n.equals(o.value,l.value,o.value,l.value,t,e,n)){d=r[f]=!0;break}f++}if(!d)return!1}return!0}function ax(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Bfe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function yz(t,e,n,s){return(s===Nfe||s===kfe||s===Cfe)&&(t.$$typeof||e.$$typeof)?!0:Afe(e,s)&&n.equals(t[s],e[s],s,s,t,e,n)}const Ufe="[object ArrayBuffer]",Ffe="[object Arguments]",Hfe="[object Boolean]",$fe="[object DataView]",qfe="[object Date]",Wfe="[object Error]",Kfe="[object Map]",Gfe="[object Number]",Yfe="[object Object]",Xfe="[object RegExp]",Qfe="[object Set]",Jfe="[object String]",Zfe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},epe="[object URL]",tpe=Object.prototype.toString;function npe({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:s,areErrorsEqual:r,areFunctionsEqual:i,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:u,arePrimitiveWrappersEqual:d,areRegExpsEqual:f,areSetsEqual:p,areTypedArraysEqual:y,areUrlsEqual:x,unknownTagComparators:w}){return function(S,A,N){if(S===A)return!0;if(S==null||A==null)return!1;const P=typeof S;if(P!==typeof A)return!1;if(P!=="object")return P==="number"?l(S,A,N):P==="function"?i(S,A,N):!1;const O=S.constructor;if(O!==A.constructor)return!1;if(O===Object)return u(S,A,N);if(Array.isArray(S))return e(S,A,N);if(O===Date)return s(S,A,N);if(O===RegExp)return f(S,A,N);if(O===Map)return o(S,A,N);if(O===Set)return p(S,A,N);const L=tpe.call(S);if(L===qfe)return s(S,A,N);if(L===Xfe)return f(S,A,N);if(L===Kfe)return o(S,A,N);if(L===Qfe)return p(S,A,N);if(L===Yfe)return typeof S.then!="function"&&typeof A.then!="function"&&u(S,A,N);if(L===epe)return x(S,A,N);if(L===Wfe)return r(S,A,N);if(L===Ffe)return u(S,A,N);if(Zfe[L])return y(S,A,N);if(L===Ufe)return t(S,A,N);if(L===$fe)return n(S,A,N);if(L===Hfe||L===Gfe||L===Jfe)return d(S,A,N);if(w){let F=w[L];if(!F){const I=_fe(S);I&&(F=w[I])}if(F)return F(S,A,N)}return!1}}function spe({circular:t,createCustomConfig:e,strict:n}){let s={areArrayBuffersEqual:Rfe,areArraysEqual:n?Mf:Mfe,areDataViewsEqual:Ife,areDatesEqual:Dfe,areErrorsEqual:Pfe,areFunctionsEqual:Ofe,areMapsEqual:n?eE($3,Mf):$3,areNumbersEqual:jfe,areObjectsEqual:n?Mf:Lfe,arePrimitiveWrappersEqual:Vfe,areRegExpsEqual:zfe,areSetsEqual:n?eE(q3,Mf):q3,areTypedArraysEqual:n?eE(ax,Mf):ax,areUrlsEqual:Bfe,unknownTagComparators:void 0};if(e&&(s=Object.assign({},s,e(s))),t){const r=vy(s.areArraysEqual),i=vy(s.areMapsEqual),o=vy(s.areObjectsEqual),l=vy(s.areSetsEqual);s=Object.assign({},s,{areArraysEqual:r,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:l})}return s}function rpe(t){return function(e,n,s,r,i,o,l){return t(e,n,l)}}function ipe({circular:t,comparator:e,createState:n,equals:s,strict:r}){if(n)return function(l,u){const{cache:d=t?new WeakMap:void 0,meta:f}=n();return e(l,u,{cache:d,equals:s,meta:f,strict:r})};if(t)return function(l,u){return e(l,u,{cache:new WeakMap,equals:s,meta:void 0,strict:r})};const i={cache:void 0,equals:s,meta:void 0,strict:r};return function(l,u){return e(l,u,i)}}const ope=ql();ql({strict:!0});ql({circular:!0});ql({circular:!0,strict:!0});ql({createInternalComparator:()=>mu});ql({strict:!0,createInternalComparator:()=>mu});ql({circular:!0,createInternalComparator:()=>mu});ql({circular:!0,createInternalComparator:()=>mu,strict:!0});function ql(t={}){const{circular:e=!1,createInternalComparator:n,createState:s,strict:r=!1}=t,i=spe(t),o=npe(i),l=n?n(o):rpe(o);return ipe({circular:e,comparator:o,createState:s,equals:l,strict:r})}var tE={exports:{}},nE={};var W3;function ape(){if(W3)return nE;W3=1;var t=Jp(),e=a9();function n(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var s=typeof Object.is=="function"?Object.is:n,r=e.useSyncExternalStore,i=t.useRef,o=t.useEffect,l=t.useMemo,u=t.useDebugValue;return nE.useSyncExternalStoreWithSelector=function(d,f,p,y,x){var w=i(null);if(w.current===null){var T={hasValue:!1,value:null};w.current=T}else T=w.current;w=l(function(){function A(F){if(!N){if(N=!0,P=F,F=y(F),x!==void 0&&T.hasValue){var I=T.value;if(x(I,F))return O=I}return O=F}if(I=O,s(P,F))return I;var R=y(F);return x!==void 0&&x(I,R)?(P=F,I):(P=F,O=R)}var N=!1,P,O,L=p===void 0?null:p;return[function(){return A(f())},L===null?void 0:function(){return A(L())}]},[f,p,y,x]);var S=r(d,w[0],w[1]);return o(function(){T.hasValue=!0,T.value=S},[S]),u(S),S},nE}var K3;function lpe(){return K3||(K3=1,tE.exports=ape()),tE.exports}var cpe=lpe(),upe=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},dpe=({contentComponent:t})=>{const e=l9.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return m.jsx(m.Fragment,{children:Object.values(e)})};function hpe(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,s){e={...e,[n]:sP.createPortal(s.reactElement,s.element,n)},t.forEach(r=>r())},removeRenderer(n){const s={...e};delete s[n],e=s,t.forEach(r=>r())}}}var fpe=class extends et.Component{constructor(t){var e;super(t),this.editorContentRef=et.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var t;const e=this.props.editor;if(e&&!e.isDestroyed&&((t=e.view.dom)!=null&&t.parentNode)){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n}),e.contentComponent=hpe(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(s=>s.hasContentComponentInitialized?s:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.parentNode))return;const n=document.createElement("div");n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return m.jsxs(m.Fragment,{children:[m.jsx("div",{ref:upe(e,this.editorContentRef),...n}),t?.contentComponent&&m.jsx(dpe,{contentComponent:t.contentComponent})]})}},ppe=_.forwardRef((t,e)=>{const n=et.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return et.createElement(fpe,{key:n,innerRef:e,...t})}),xz=et.memo(ppe),mpe=typeof window<"u"?_.useLayoutEffect:_.useEffect,gpe=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(s=>s())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function ype(t){var e;const[n]=_.useState(()=>new gpe(t.editor)),s=cpe.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:ope);return mpe(()=>n.watch(t.editor),[t.editor,n]),_.useDebugValue(s),s}var xpe=!1,GS=typeof window>"u",vpe=GS||!!(typeof window<"u"&&window.next),bpe=class vz{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?GS||vpe?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...s)=>{var r,i;return(i=(r=this.options.current).onBeforeCreate)==null?void 0:i.call(r,...s)},onBlur:(...s)=>{var r,i;return(i=(r=this.options.current).onBlur)==null?void 0:i.call(r,...s)},onCreate:(...s)=>{var r,i;return(i=(r=this.options.current).onCreate)==null?void 0:i.call(r,...s)},onDestroy:(...s)=>{var r,i;return(i=(r=this.options.current).onDestroy)==null?void 0:i.call(r,...s)},onFocus:(...s)=>{var r,i;return(i=(r=this.options.current).onFocus)==null?void 0:i.call(r,...s)},onSelectionUpdate:(...s)=>{var r,i;return(i=(r=this.options.current).onSelectionUpdate)==null?void 0:i.call(r,...s)},onTransaction:(...s)=>{var r,i;return(i=(r=this.options.current).onTransaction)==null?void 0:i.call(r,...s)},onUpdate:(...s)=>{var r,i;return(i=(r=this.options.current).onUpdate)==null?void 0:i.call(r,...s)},onContentError:(...s)=>{var r,i;return(i=(r=this.options.current).onContentError)==null?void 0:i.call(r,...s)},onDrop:(...s)=>{var r,i;return(i=(r=this.options.current).onDrop)==null?void 0:i.call(r,...s)},onPaste:(...s)=>{var r,i;return(i=(r=this.options.current).onPaste)==null?void 0:i.call(r,...s)},onDelete:(...s)=>{var r,i;return(i=(r=this.options.current).onDelete)==null?void 0:i.call(r,...s)}};return new dfe(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(s=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(s)?!0:s==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((r,i)=>{var o;return r===((o=n.extensions)==null?void 0:o[i])}):e[s]===n[s])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?vz.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((s,r)=>s===e[r]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function wpe(t={},e=[]){const n=_.useRef(t);n.current=t;const[s]=_.useState(()=>new bpe(n)),r=l9.useSyncExternalStore(s.subscribe,s.getEditor,s.getServerSnapshot);return _.useDebugValue(r),_.useEffect(s.onRender(e)),ype({editor:r,selector:({transactionNumber:i})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&i===0?0:i+1}),r}var bz=_.createContext({editor:null});bz.Consumer;var Epe=_.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),Spe=()=>_.useContext(Epe);et.forwardRef((t,e)=>{const{onDragStart:n}=Spe(),s=t.as||"div";return m.jsx(s,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});et.createContext({markViewContentRef:()=>{}});var G2=_.createContext({get editor(){throw new Error("useTiptap must be used within a <Tiptap> provider")}});G2.displayName="TiptapContext";var Tpe=()=>_.useContext(G2);function wz({editor:t,instance:e,children:n}){const s=t??e;if(!s)throw new Error("Tiptap: An editor instance is required. Pass a non-null `editor` prop.");const r=_.useMemo(()=>({editor:s}),[s]),i=_.useMemo(()=>({editor:s}),[s]);return m.jsx(bz.Provider,{value:i,children:m.jsx(G2.Provider,{value:r,children:n})})}wz.displayName="Tiptap";function Ez({...t}){const{editor:e}=Tpe();return m.jsx(xz,{editor:e,...t})}Ez.displayName="Tiptap.Content";Object.assign(wz,{Content:Ez});var lx=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...s}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,s,n]},_pe=/^\s*>\s$/,Ape=er.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return lx("blockquote",{...un(this.options.HTMLAttributes,t),children:lx("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";const n=">",s=[];return t.content.forEach(r=>{const l=e.renderChildren([r]).split(`
`).map(u=>u.trim()===""?n:`${n} ${u}`);s.push(l.join(`
`))}),s.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Qd({find:_pe,type:this.type})]}}),Cpe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,kpe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,Npe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,Rpe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Mpe=pu.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return lx("strong",{...un(this.options.HTMLAttributes,t),children:lx("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Xd({find:Cpe,type:this.type}),Xd({find:Npe,type:this.type})]},addPasteRules(){return[ru({find:kpe,type:this.type}),ru({find:Rpe,type:this.type})]}}),Ipe=/(^|[^`])`([^`]+)`(?!`)$/,Dpe=/(^|[^`])`([^`]+)`(?!`)/g,Ppe=pu.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",un(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Xd({find:Ipe,type:this.type})]},addPasteRules(){return[ru({find:Dpe,type:this.type})]}}),sE=4,Ope=/^```([a-z]+)?[\s\n]$/,jpe=/^~~~([a-z]+)?[\s\n]$/,Lpe=er.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:sE,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const i=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(o=>o.startsWith(n)).map(o=>o.replace(n,""))[0];return i||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",un(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var n;return((n=t.raw)==null?void 0:n.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var n;let s="";const r=((n=t.attrs)==null?void 0:n.language)||"";return t.content?s=[`\`\`\`${r}`,e.renderChildren(t.content),"```"].join(`
`):s=`\`\`\`${r}

\`\`\``,s},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:sE,{state:s}=t,{selection:r}=s,{$from:i,empty:o}=r;if(i.parent.type!==this.type)return!1;const l=" ".repeat(n);return o?t.commands.insertContent(l):t.commands.command(({tr:u})=>{const{from:d,to:f}=r,x=s.doc.textBetween(d,f,`
`,`
`).split(`
`).map(w=>l+w).join(`
`);return u.replaceWith(d,f,s.schema.text(x)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:sE,{state:s}=t,{selection:r}=s,{$from:i,empty:o}=r;return i.parent.type!==this.type?!1:o?t.commands.command(({tr:l})=>{var u;const{pos:d}=i,f=i.start(),p=i.end(),x=s.doc.textBetween(f,p,`
`,`
`).split(`
`);let w=0,T=0;const S=d-f;for(let F=0;F<x.length;F+=1){if(T+x[F].length>=S){w=F;break}T+=x[F].length+1}const N=((u=x[w].match(/^ */))==null?void 0:u[0])||"",P=Math.min(N.length,n);if(P===0)return!0;let O=f;for(let F=0;F<w;F+=1)O+=x[F].length+1;return l.delete(O,O+P),d-O<=P&&l.setSelection(Fe.create(l.doc,O)),!0}):t.commands.command(({tr:l})=>{const{from:u,to:d}=r,y=s.doc.textBetween(u,d,`
`,`
`).split(`
`).map(x=>{var w;const T=((w=x.match(/^ */))==null?void 0:w[0])||"",S=Math.min(T.length,n);return x.slice(S)}).join(`
`);return l.replaceWith(u,d,s.schema.text(y)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:s,empty:r}=n;if(!r||s.parent.type!==this.type)return!1;const i=s.parentOffset===s.parent.nodeSize-2,o=s.parent.textContent.endsWith(`

`);return!i||!o?!1:t.chain().command(({tr:l})=>(l.delete(s.pos-2,s.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:s}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type||!(r.parentOffset===r.parent.nodeSize-2))return!1;const l=r.after();return l===void 0?!1:s.nodeAt(l)?t.commands.command(({tr:d})=>(d.setSelection(Je.near(s.resolve(l))),!0)):t.commands.exitCode()}}},addInputRules(){return[WS({find:Ope,type:this.type,getAttributes:t=>({language:t[1]})}),WS({find:jpe,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Gt({key:new jn("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),s=e.clipboardData.getData("vscode-editor-data"),r=s?JSON.parse(s):void 0,i=r?.mode;if(!n||!i)return!1;const{tr:o,schema:l}=t.state,u=l.text(n.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:i},u)),o.selection.$from.parent.type!==this.type&&o.setSelection(Fe.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),t.dispatch(o),!0}}})]}}),Vpe=er.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),zpe=er.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",un(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:s})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:r,storedMarks:i}=n;if(r.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:l}=s.extensionManager,u=i||r.$to.parentOffset&&r.$from.marks();return e().insertContent({type:this.name}).command(({tr:d,dispatch:f})=>{if(f&&u&&o){const p=u.filter(y=>l.includes(y.type.name));d.ensureMarks(p)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Bpe=er.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,un(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var n;const s=(n=t.attrs)!=null&&n.level?parseInt(t.attrs.level,10):1,r="#".repeat(s);return t.content?`${r} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>WS({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),Upe=er.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",un(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!pfe(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:s}=n,r=t();return JV(n)?r.insertContentAt(s.pos,{type:this.name}):r.insertContent({type:this.name}),r.command(({state:i,tr:o,dispatch:l})=>{if(l){const{$to:u}=o.selection,d=u.end();if(u.nodeAfter)u.nodeAfter.isTextblock?o.setSelection(Fe.create(o.doc,u.pos+1)):u.nodeAfter.isBlock?o.setSelection(Ve.create(o.doc,u.pos)):o.setSelection(Fe.create(o.doc,u.pos));else{const f=i.schema.nodes[this.options.nextNodeType]||u.parent.type.contentMatch.defaultType,p=f?.create();p&&(o.insert(d,p),o.setSelection(Fe.create(o.doc,d+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[mz({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),Fpe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Hpe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,$pe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,qpe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Wpe=pu.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",un(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Xd({find:Fpe,type:this.type}),Xd({find:$pe,type:this.type})]},addPasteRules(){return[ru({find:Hpe,type:this.type}),ru({find:qpe,type:this.type})]}});const Kpe="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",Gpe="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",YS="numeric",XS="ascii",QS="alpha",fp="asciinumeric",$f="alphanumeric",JS="domain",Sz="emoji",Ype="scheme",Xpe="slashscheme",rE="whitespace";function Qpe(t,e){return t in e||(e[t]=[]),e[t]}function Pc(t,e,n){e[YS]&&(e[fp]=!0,e[$f]=!0),e[XS]&&(e[fp]=!0,e[QS]=!0),e[fp]&&(e[$f]=!0),e[QS]&&(e[$f]=!0),e[$f]&&(e[JS]=!0),e[Sz]&&(e[JS]=!0);for(const s in e){const r=Qpe(s,n);r.indexOf(t)<0&&r.push(t)}}function Jpe(t,e){const n={};for(const s in e)e[s].indexOf(t)>=0&&(n[s]=!0);return n}function Xs(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Xs.groups={};Xs.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let s=0;s<e.jr.length;s++){const r=e.jr[s][0],i=e.jr[s][1];if(i&&r.test(t))return i}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,s){for(let r=0;r<t.length;r++)this.tt(t[r],e,n,s)},tr(t,e,n,s){s=s||Xs.groups;let r;return e&&e.j?r=e:(r=new Xs(e),n&&s&&Pc(e,n,s)),this.jr.push([t,r]),r},ts(t,e,n,s){let r=this;const i=t.length;if(!i)return r;for(let o=0;o<i-1;o++)r=r.tt(t[o]);return r.tt(t[i-1],e,n,s)},tt(t,e,n,s){s=s||Xs.groups;const r=this;if(e&&e.j)return r.j[t]=e,e;const i=e;let o,l=r.go(t);if(l?(o=new Xs,Object.assign(o.j,l.j),o.jr.push.apply(o.jr,l.jr),o.jd=l.jd,o.t=l.t):o=new Xs,i){if(s)if(o.t&&typeof o.t=="string"){const u=Object.assign(Jpe(o.t,s),n);Pc(i,u,s)}else n&&Pc(i,n,s);o.t=i}return r.j[t]=o,o}};const Qe=(t,e,n,s,r)=>t.ta(e,n,s,r),Qt=(t,e,n,s,r)=>t.tr(e,n,s,r),G3=(t,e,n,s,r)=>t.ts(e,n,s,r),me=(t,e,n,s,r)=>t.tt(e,n,s,r),$o="WORD",ZS="UWORD",Tz="ASCIINUMERICAL",_z="ALPHANUMERICAL",Gp="LOCALHOST",eT="TLD",tT="UTLD",t0="SCHEME",yd="SLASH_SCHEME",Y2="NUM",nT="WS",X2="NL",pp="OPENBRACE",mp="CLOSEBRACE",cx="OPENBRACKET",ux="CLOSEBRACKET",dx="OPENPAREN",hx="CLOSEPAREN",fx="OPENANGLEBRACKET",px="CLOSEANGLEBRACKET",mx="FULLWIDTHLEFTPAREN",gx="FULLWIDTHRIGHTPAREN",yx="LEFTCORNERBRACKET",xx="RIGHTCORNERBRACKET",vx="LEFTWHITECORNERBRACKET",bx="RIGHTWHITECORNERBRACKET",wx="FULLWIDTHLESSTHAN",Ex="FULLWIDTHGREATERTHAN",Sx="AMPERSAND",Tx="APOSTROPHE",_x="ASTERISK",el="AT",Ax="BACKSLASH",Cx="BACKTICK",kx="CARET",ll="COLON",Q2="COMMA",Nx="DOLLAR",Hi="DOT",Rx="EQUALS",J2="EXCLAMATION",zr="HYPHEN",gp="PERCENT",Mx="PIPE",Ix="PLUS",Dx="POUND",yp="QUERY",Z2="QUOTE",Az="FULLWIDTHMIDDLEDOT",eA="SEMI",$i="SLASH",xp="TILDE",Px="UNDERSCORE",Cz="EMOJI",Ox="SYM";var kz=Object.freeze({__proto__:null,ALPHANUMERICAL:_z,AMPERSAND:Sx,APOSTROPHE:Tx,ASCIINUMERICAL:Tz,ASTERISK:_x,AT:el,BACKSLASH:Ax,BACKTICK:Cx,CARET:kx,CLOSEANGLEBRACKET:px,CLOSEBRACE:mp,CLOSEBRACKET:ux,CLOSEPAREN:hx,COLON:ll,COMMA:Q2,DOLLAR:Nx,DOT:Hi,EMOJI:Cz,EQUALS:Rx,EXCLAMATION:J2,FULLWIDTHGREATERTHAN:Ex,FULLWIDTHLEFTPAREN:mx,FULLWIDTHLESSTHAN:wx,FULLWIDTHMIDDLEDOT:Az,FULLWIDTHRIGHTPAREN:gx,HYPHEN:zr,LEFTCORNERBRACKET:yx,LEFTWHITECORNERBRACKET:vx,LOCALHOST:Gp,NL:X2,NUM:Y2,OPENANGLEBRACKET:fx,OPENBRACE:pp,OPENBRACKET:cx,OPENPAREN:dx,PERCENT:gp,PIPE:Mx,PLUS:Ix,POUND:Dx,QUERY:yp,QUOTE:Z2,RIGHTCORNERBRACKET:xx,RIGHTWHITECORNERBRACKET:bx,SCHEME:t0,SEMI:eA,SLASH:$i,SLASH_SCHEME:yd,SYM:Ox,TILDE:xp,TLD:eT,UNDERSCORE:Px,UTLD:tT,UWORD:ZS,WORD:$o,WS:nT});const Uo=/[a-z]/,If=new RegExp("\\p{L}","u"),iE=new RegExp("\\p{Emoji}","u"),Fo=/\d/,oE=/\s/,Y3="\r",aE=`
`,Zpe="",eme="",lE="";let by=null,wy=null;function tme(t=[]){const e={};Xs.groups=e;const n=new Xs;by==null&&(by=X3(Kpe)),wy==null&&(wy=X3(Gpe)),me(n,"'",Tx),me(n,"{",pp),me(n,"}",mp),me(n,"[",cx),me(n,"]",ux),me(n,"(",dx),me(n,")",hx),me(n,"<",fx),me(n,">",px),me(n,"",mx),me(n,"",gx),me(n,"",yx),me(n,"",xx),me(n,"",vx),me(n,"",bx),me(n,"",wx),me(n,"",Ex),me(n,"&",Sx),me(n,"*",_x),me(n,"@",el),me(n,"`",Cx),me(n,"^",kx),me(n,":",ll),me(n,",",Q2),me(n,"$",Nx),me(n,".",Hi),me(n,"=",Rx),me(n,"!",J2),me(n,"-",zr),me(n,"%",gp),me(n,"|",Mx),me(n,"+",Ix),me(n,"#",Dx),me(n,"?",yp),me(n,'"',Z2),me(n,"/",$i),me(n,";",eA),me(n,"~",xp),me(n,"_",Px),me(n,"\\",Ax),me(n,"",Az);const s=Qt(n,Fo,Y2,{[YS]:!0});Qt(s,Fo,s);const r=Qt(s,Uo,Tz,{[fp]:!0}),i=Qt(s,If,_z,{[$f]:!0}),o=Qt(n,Uo,$o,{[XS]:!0});Qt(o,Fo,r),Qt(o,Uo,o),Qt(r,Fo,r),Qt(r,Uo,r);const l=Qt(n,If,ZS,{[QS]:!0});Qt(l,Uo),Qt(l,Fo,i),Qt(l,If,l),Qt(i,Fo,i),Qt(i,Uo),Qt(i,If,i);const u=me(n,aE,X2,{[rE]:!0}),d=me(n,Y3,nT,{[rE]:!0}),f=Qt(n,oE,nT,{[rE]:!0});me(n,lE,f),me(d,aE,u),me(d,lE,f),Qt(d,oE,f),me(f,Y3),me(f,aE),Qt(f,oE,f),me(f,lE,f);const p=Qt(n,iE,Cz,{[Sz]:!0});me(p,"#"),Qt(p,iE,p),me(p,Zpe,p);const y=me(p,eme);me(y,"#"),Qt(y,iE,p);const x=[[Uo,o],[Fo,r]],w=[[Uo,null],[If,l],[Fo,i]];for(let T=0;T<by.length;T++)Ka(n,by[T],eT,$o,x);for(let T=0;T<wy.length;T++)Ka(n,wy[T],tT,ZS,w);Pc(eT,{tld:!0,ascii:!0},e),Pc(tT,{utld:!0,alpha:!0},e),Ka(n,"file",t0,$o,x),Ka(n,"mailto",t0,$o,x),Ka(n,"http",yd,$o,x),Ka(n,"https",yd,$o,x),Ka(n,"ftp",yd,$o,x),Ka(n,"ftps",yd,$o,x),Pc(t0,{scheme:!0,ascii:!0},e),Pc(yd,{slashscheme:!0,ascii:!0},e),t=t.sort((T,S)=>T[0]>S[0]?1:-1);for(let T=0;T<t.length;T++){const S=t[T][0],N=t[T][1]?{[Ype]:!0}:{[Xpe]:!0};S.indexOf("-")>=0?N[JS]=!0:Uo.test(S)?Fo.test(S)?N[fp]=!0:N[XS]=!0:N[YS]=!0,G3(n,S,S,N)}return G3(n,"localhost",Gp,{ascii:!0}),n.jd=new Xs(Ox),{start:n,tokens:Object.assign({groups:e},kz)}}function Nz(t,e){const n=nme(e.replace(/[A-Z]/g,l=>l.toLowerCase())),s=n.length,r=[];let i=0,o=0;for(;o<s;){let l=t,u=null,d=0,f=null,p=-1,y=-1;for(;o<s&&(u=l.go(n[o]));)l=u,l.accepts()?(p=0,y=0,f=l):p>=0&&(p+=n[o].length,y++),d+=n[o].length,i+=n[o].length,o++;i-=p,o-=y,d-=p,r.push({t:f.t,v:e.slice(i-d,i),s:i-d,e:i})}return r}function nme(t){const e=[],n=t.length;let s=0;for(;s<n;){let r=t.charCodeAt(s),i,o=r<55296||r>56319||s+1===n||(i=t.charCodeAt(s+1))<56320||i>57343?t[s]:t.slice(s,s+2);e.push(o),s+=o.length}return e}function Ka(t,e,n,s,r){let i;const o=e.length;for(let l=0;l<o-1;l++){const u=e[l];t.j[u]?i=t.j[u]:(i=new Xs(s),i.jr=r.slice(),t.j[u]=i),t=i}return i=new Xs(n),i.jr=r.slice(),t.j[e[o-1]]=i,i}function X3(t){const e=[],n=[];let s=0,r="0123456789";for(;s<t.length;){let i=0;for(;r.indexOf(t[s+i])>=0;)i++;if(i>0){e.push(n.join(""));for(let o=parseInt(t.substring(s,s+i),10);o>0;o--)n.pop();s+=i}else n.push(t[s]),s++}return e}const Yp={defaultProtocol:"http",events:null,format:Q3,formatHref:Q3,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function tA(t,e=null){let n=Object.assign({},Yp);t&&(n=Object.assign(n,t instanceof tA?t.o:t));const s=n.ignoreTags,r=[];for(let i=0;i<s.length;i++)r.push(s[i].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=r}tA.prototype={o:Yp,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const s=e!=null;let r=this.o[t];return r&&(typeof r=="object"?(r=n.t in r?r[n.t]:Yp[t],typeof r=="function"&&s&&(r=r(e,n))):typeof r=="function"&&s&&(r=r(e,n.t,n)),r)},getObj(t,e,n){let s=this.o[t];return typeof s=="function"&&e!=null&&(s=s(e,n.t,n)),s},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function Q3(t){return t}function Rz(t,e){this.t="token",this.v=t,this.tk=e}Rz.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),s=t.get("format",e,this);return n&&s.length>n?s.substring(0,n)+"":s},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=Yp.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),s=t.get("formatHref",n,this),r=t.get("tagName",n,e),i=this.toFormattedString(t),o={},l=t.get("className",n,e),u=t.get("target",n,e),d=t.get("rel",n,e),f=t.getObj("attributes",n,e),p=t.getObj("events",n,e);return o.href=s,l&&(o.class=l),u&&(o.target=u),d&&(o.rel=d),f&&Object.assign(o,f),{tagName:r,attributes:o,content:i,eventListeners:p}}};function Bv(t,e){class n extends Rz{constructor(r,i){super(r,i),this.t=t}}for(const s in e)n.prototype[s]=e[s];return n.t=t,n}const J3=Bv("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Z3=Bv("text"),sme=Bv("nl"),Ey=Bv("url",{isLink:!0,toHref(t=Yp.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==Gp&&t[1].t===ll}}),Vr=t=>new Xs(t);function rme({groups:t}){const e=t.domain.concat([Sx,_x,el,Ax,Cx,kx,Nx,Rx,zr,Y2,gp,Mx,Ix,Dx,$i,Ox,xp,Px]),n=[Tx,ll,Q2,Hi,J2,gp,yp,Z2,eA,fx,px,pp,mp,ux,cx,dx,hx,mx,gx,yx,xx,vx,bx,wx,Ex],s=[Sx,Tx,_x,Ax,Cx,kx,Nx,Rx,zr,pp,mp,gp,Mx,Ix,Dx,yp,$i,Ox,xp,Px],r=Vr(),i=me(r,xp);Qe(i,s,i),Qe(i,t.domain,i);const o=Vr(),l=Vr(),u=Vr();Qe(r,t.domain,o),Qe(r,t.scheme,l),Qe(r,t.slashscheme,u),Qe(o,s,i),Qe(o,t.domain,o);const d=me(o,el);me(i,el,d),me(l,el,d),me(u,el,d);const f=me(i,Hi);Qe(f,s,i),Qe(f,t.domain,i);const p=Vr();Qe(d,t.domain,p),Qe(p,t.domain,p);const y=me(p,Hi);Qe(y,t.domain,p);const x=Vr(J3);Qe(y,t.tld,x),Qe(y,t.utld,x),me(d,Gp,x);const w=me(p,zr);me(w,zr,w),Qe(w,t.domain,p),Qe(x,t.domain,p),me(x,Hi,y),me(x,zr,w);const T=me(x,ll);Qe(T,t.numeric,J3);const S=me(o,zr),A=me(o,Hi);me(S,zr,S),Qe(S,t.domain,o),Qe(A,s,i),Qe(A,t.domain,o);const N=Vr(Ey);Qe(A,t.tld,N),Qe(A,t.utld,N),Qe(N,t.domain,o),Qe(N,s,i),me(N,Hi,A),me(N,zr,S),me(N,el,d);const P=me(N,ll),O=Vr(Ey);Qe(P,t.numeric,O);const L=Vr(Ey),F=Vr();Qe(L,e,L),Qe(L,n,F),Qe(F,e,L),Qe(F,n,F),me(N,$i,L),me(O,$i,L);const I=me(l,ll),R=me(u,ll),D=me(R,$i),z=me(D,$i);Qe(l,t.domain,o),me(l,Hi,A),me(l,zr,S),Qe(u,t.domain,o),me(u,Hi,A),me(u,zr,S),Qe(I,t.domain,L),me(I,$i,L),me(I,yp,L),Qe(z,t.domain,L),Qe(z,e,L),me(z,$i,L);const B=[[pp,mp],[cx,ux],[dx,hx],[fx,px],[mx,gx],[yx,xx],[vx,bx],[wx,Ex]];for(let H=0;H<B.length;H++){const[U,he]=B[H],ce=me(L,U);me(F,U,ce),me(ce,he,L);const K=Vr(Ey);Qe(ce,e,K);const X=Vr();Qe(ce,n),Qe(K,e,K),Qe(K,n,X),Qe(X,e,K),Qe(X,n,X),me(K,he,L),me(X,he,L)}return me(r,Gp,N),me(r,X2,sme),{start:r,tokens:kz}}function ime(t,e,n){let s=n.length,r=0,i=[],o=[];for(;r<s;){let l=t,u=null,d=null,f=0,p=null,y=-1;for(;r<s&&!(u=l.go(n[r].t));)o.push(n[r++]);for(;r<s&&(d=u||l.go(n[r].t));)u=null,l=d,l.accepts()?(y=0,p=l):y>=0&&y++,r++,f++;if(y<0)r-=f,r<s&&(o.push(n[r]),r++);else{o.length>0&&(i.push(cE(Z3,e,o)),o=[]),r-=y,f-=y;const x=p.t,w=n.slice(r-f,r);i.push(cE(x,e,w))}}return o.length>0&&i.push(cE(Z3,e,o)),i}function cE(t,e,n){const s=n[0].s,r=n[n.length-1].e,i=e.slice(s,r);return new t(i,n)}const ome=typeof console<"u"&&console&&console.warn||(()=>{}),ame="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Ot={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function lme(){return Xs.groups={},Ot.scanner=null,Ot.parser=null,Ot.tokenQueue=[],Ot.pluginQueue=[],Ot.customSchemes=[],Ot.initialized=!1,Ot}function e4(t,e=!1){if(Ot.initialized&&ome(`linkifyjs: already initialized - will not register custom scheme "${t}" ${ame}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Ot.customSchemes.push([t,e])}function cme(){Ot.scanner=tme(Ot.customSchemes);for(let t=0;t<Ot.tokenQueue.length;t++)Ot.tokenQueue[t][1]({scanner:Ot.scanner});Ot.parser=rme(Ot.scanner.tokens);for(let t=0;t<Ot.pluginQueue.length;t++)Ot.pluginQueue[t][1]({scanner:Ot.scanner,parser:Ot.parser});return Ot.initialized=!0,Ot}function nA(t){return Ot.initialized||cme(),ime(Ot.parser.start,t,Nz(Ot.scanner.start,t))}nA.scan=Nz;function Mz(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const s=new tA(n),r=nA(t),i=[];for(let o=0;o<r.length;o++){const l=r[o];l.isLink&&(!e||l.t===e)&&s.check(l)&&i.push(l.toFormattedObject(s))}return i}var sA="[\0- -\u2029]",ume=new RegExp(sA),dme=new RegExp(`${sA}$`),hme=new RegExp(sA,"g");function fme(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function pme(t){return new Gt({key:new jn("autolink"),appendTransaction:(e,n,s)=>{const r=e.some(d=>d.docChanged)&&!n.doc.eq(s.doc),i=e.some(d=>d.getMeta("preventAutolink"));if(!r||i)return;const{tr:o}=s,l=$V(n.doc,[...e]);if(QV(l).forEach(({newRange:d})=>{const f=fhe(s.doc,d,x=>x.isTextblock);let p,y;if(f.length>1)p=f[0],y=s.doc.textBetween(p.pos,p.pos+p.node.nodeSize,void 0," ");else if(f.length){const x=s.doc.textBetween(d.from,d.to," "," ");if(!dme.test(x))return;p=f[0],y=s.doc.textBetween(p.pos,d.to,void 0," ")}if(p&&y){const x=y.split(ume).filter(Boolean);if(x.length<=0)return!1;const w=x[x.length-1],T=p.pos+y.lastIndexOf(w);if(!w)return!1;const S=nA(w).map(A=>A.toObject(t.defaultProtocol));if(!fme(S))return!1;S.filter(A=>A.isLink).map(A=>({...A,from:T+A.start+1,to:T+A.end+1})).filter(A=>s.schema.marks.code?!s.doc.rangeHasMark(A.from,A.to,s.schema.marks.code):!0).filter(A=>t.validate(A.value)).filter(A=>t.shouldAutoLink(A.value)).forEach(A=>{H2(A.from,A.to,s.doc).some(N=>N.mark.type===t.type)||o.addMark(A.from,A.to,t.type.create({href:A.href}))})}}),!!o.steps.length)return o}})}function mme(t){return new Gt({key:new jn("handleClickLink"),props:{handleClick:(e,n,s)=>{var r,i;if(s.button!==0||!e.editable)return!1;let o=null;if(s.target instanceof HTMLAnchorElement)o=s.target;else{const u=s.target;if(!u)return!1;const d=t.editor.view.dom;o=u.closest("a"),o&&!d.contains(o)&&(o=null)}if(!o)return!1;let l=!1;if(t.enableClickSelection&&(l=t.editor.commands.extendMarkRange(t.type.name)),t.openOnClick){const u=XV(e.state,t.type.name),d=(r=o.href)!=null?r:u.href,f=(i=o.target)!=null?i:u.target;d&&(window.open(d,f),l=!0)}return l}}})}function gme(t){return new Gt({key:new jn("handlePasteLink"),props:{handlePaste:(e,n,s)=>{const{shouldAutoLink:r}=t,{state:i}=e,{selection:o}=i,{empty:l}=o;if(l)return!1;let u="";s.content.forEach(f=>{u+=f.textContent});const d=Mz(u,{defaultProtocol:t.defaultProtocol}).find(f=>f.isLink&&f.value===u);return!u||!d||r!==void 0&&!r(d.value)?!1:t.editor.commands.setMark(t.type,{href:d.href})}}})}function Tc(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(s=>{const r=typeof s=="string"?s:s.scheme;r&&n.push(r)}),!t||t.replace(hme,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var Iz=pu.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){e4(t);return}e4(t.scheme,t.optionalSlashes)})},onDestroy(){lme()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Tc(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>{const e=/^[a-z][a-z0-9+.-]*:\/\//i.test(t),n=/^[a-z][a-z0-9+.-]*:/i.test(t);if(e||n&&!t.includes("@"))return!0;const r=(t.includes("@")?t.split("@").pop():t).split(/[/?#:]/)[0];return!(/^\d{1,3}(\.\d{1,3}){3}$/.test(r)||!/\./.test(r))}}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class},title:{default:null}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!Tc(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Tc(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",un(this.options.HTMLAttributes,t),0]:["a",un(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var n,s,r,i;const o=(s=(n=t.attrs)==null?void 0:n.href)!=null?s:"",l=(i=(r=t.attrs)==null?void 0:r.title)!=null?i:"",u=e.renderChildren(t);return l?`[${u}](${o} "${l}")`:`[${u}](${o})`},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:s=>!!Tc(s,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:s=>!!Tc(s,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[ru({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:s}=this.options,r=Mz(t).filter(i=>i.isLink&&this.options.isAllowedUri(i.value,{defaultValidate:o=>!!Tc(o,n),protocols:n,defaultProtocol:s}));r.length&&r.forEach(i=>{this.options.shouldAutoLink(i.value)&&e.push({text:i.value,data:{href:i.href},index:i.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(pme({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:s=>this.options.isAllowedUri(s,{defaultValidate:r=>!!Tc(r,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),t.push(mme({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(gme({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),yme=Iz,xme=Object.defineProperty,vme=(t,e)=>{for(var n in e)xme(t,n,{get:e[n],enumerable:!0})},bme="listItem",t4="textStyle",n4=/^\s*([-+*])\s$/,Dz=er.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",un(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(bme,this.editor.getAttributes(t4)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Qd({find:n4,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Qd({find:n4,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(t4),editor:this.editor})),[t]}}),Pz=er.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",un(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let n=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(r=>r.type==="paragraph"))n=e.parseChildren(t.tokens);else{const r=t.tokens[0];if(r&&r.type==="text"&&r.tokens&&r.tokens.length>0){if(n=[{type:"paragraph",content:e.parseInline(r.tokens)}],t.tokens.length>1){const o=t.tokens.slice(1),l=e.parseChildren(o);n.push(...l)}}else n=e.parseChildren(t.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(t,e,n)=>K2(t,e,s=>{var r,i;return s.parentType==="bulletList"?"- ":s.parentType==="orderedList"?`${(((i=(r=s.meta)==null?void 0:r.parentAttrs)==null?void 0:i.start)||1)+s.index}. `:"- "},n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),wme={};vme(wme,{findListItemPos:()=>Am,getNextListDepth:()=>rA,handleBackspace:()=>sT,handleDelete:()=>rT,hasListBefore:()=>Oz,hasListItemAfter:()=>Eme,hasListItemBefore:()=>jz,listItemHasSubList:()=>Lz,nextListIsDeeper:()=>Vz,nextListIsHigher:()=>zz});var Am=(t,e)=>{const{$from:n}=e.selection,s=kn(t,e.schema);let r=null,i=n.depth,o=n.pos,l=null;for(;i>0&&l===null;)r=n.node(i),r.type===s?l=i:(i-=1,o-=1);return l===null?null:{$pos:e.doc.resolve(o),depth:l}},rA=(t,e)=>{const n=Am(t,e);if(!n)return!1;const[,s]=She(e,t,n.$pos.pos+4);return s},Oz=(t,e,n)=>{const{$anchor:s}=t.selection,r=Math.max(0,s.pos-2),i=t.doc.resolve(r).node();return!(!i||!n.includes(i.type.name))},jz=(t,e)=>{var n;const{$anchor:s}=e.selection,r=e.doc.resolve(s.pos-2);return!(r.index()===0||((n=r.nodeBefore)==null?void 0:n.type.name)!==t)},Lz=(t,e,n)=>{if(!n)return!1;const s=kn(t,e.schema);let r=!1;return n.descendants(i=>{i.type===s&&(r=!0)}),r},sT=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!Pl(t.state,e)&&Oz(t.state,e,n)){const{$anchor:l}=t.state.selection,u=t.state.doc.resolve(l.before()-1),d=[];u.node().descendants((y,x)=>{y.type.name===e&&d.push({node:y,pos:x})});const f=d.at(-1);if(!f)return!1;const p=t.state.doc.resolve(u.start()+f.pos+1);return t.chain().cut({from:l.start()-1,to:l.end()+1},p.end()).joinForward().run()}if(!Pl(t.state,e)||!Che(t.state))return!1;const s=Am(e,t.state);if(!s)return!1;const i=t.state.doc.resolve(s.$pos.pos-2).node(s.depth),o=Lz(e,t.state,i);return jz(e,t.state)&&!o?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},Vz=(t,e)=>{const n=rA(t,e),s=Am(t,e);return!s||!n?!1:n>s.depth},zz=(t,e)=>{const n=rA(t,e),s=Am(t,e);return!s||!n?!1:n<s.depth},rT=(t,e)=>{if(!Pl(t.state,e)||!Ahe(t.state,e))return!1;const{selection:n}=t.state,{$from:s,$to:r}=n;return!n.empty&&s.sameParent(r)?!1:Vz(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():zz(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},Eme=(t,e)=>{var n;const{$anchor:s}=e.selection,r=e.doc.resolve(s.pos-s.parentOffset-2);return!(r.index()===r.parent.childCount-1||((n=r.nodeAfter)==null?void 0:n.type.name)!==t)},Bz=dn.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&rT(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&rT(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:s})=>{t.state.schema.nodes[n]!==void 0&&sT(t,n,s)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:s})=>{t.state.schema.nodes[n]!==void 0&&sT(t,n,s)&&(e=!0)}),e}}}}),s4=/^(\s*)(\d+)\.\s+(.*)$/,Sme=/^\s/;function Tme(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n],i=r.match(s4);if(!i)break;const[,o,l,u]=i,d=o.length;let f=u,p=n+1;const y=[r];for(;p<t.length;){const x=t[p];if(x.match(s4))break;if(x.trim()==="")y.push(x),f+=`
`,p+=1;else if(x.match(Sme))y.push(x),f+=`
${x.slice(d+2)}`,p+=1;else break}e.push({indent:d,number:parseInt(l,10),content:f.trim(),raw:y.join(`
`)}),s=p,n=p}return[e,s]}function Uz(t,e,n){var s;const r=[];let i=0;for(;i<t.length;){const o=t[i];if(o.indent===e){const l=o.content.split(`
`),u=((s=l[0])==null?void 0:s.trim())||"",d=[];u&&d.push({type:"paragraph",raw:u,tokens:n.inlineTokens(u)});const f=l.slice(1).join(`
`).trim();if(f){const x=n.blockTokens(f);d.push(...x)}let p=i+1;const y=[];for(;p<t.length&&t[p].indent>e;)y.push(t[p]),p+=1;if(y.length>0){const x=Math.min(...y.map(T=>T.indent)),w=Uz(y,x,n);d.push({type:"list",ordered:!0,start:y[0].number,items:w,raw:y.map(T=>T.raw).join(`
`)})}r.push({type:"list_item",raw:o.raw,tokens:d}),i=p}else i+=1}return r}function _me(t,e){return t.map(n=>{if(n.type!=="list_item")return e.parseChildren([n])[0];const s=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(r=>{if(r.type==="paragraph"||r.type==="list"||r.type==="blockquote"||r.type==="code")s.push(...e.parseChildren([r]));else if(r.type==="text"&&r.tokens){const i=e.parseChildren([r]);s.push({type:"paragraph",content:i})}else{const i=e.parseChildren([r]);i.length>0&&s.push(...i)}}),{type:"listItem",content:s}})}var Ame="listItem",r4="textStyle",i4=/^(\d+)\.\s$/,Fz=er.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",un(this.options.HTMLAttributes,n),0]:["ol",un(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];const n=t.start||1,s=t.items?_me(t.items,e):[];return n!==1?{type:"orderedList",attrs:{start:n},content:s}:{type:"orderedList",content:s}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const e=t.match(/^(\s*)(\d+)\.\s+/),n=e?.index;return n!==void 0?n:-1},tokenize:(t,e,n)=>{var s;const r=t.split(`
`),[i,o]=Tme(r);if(i.length===0)return;const l=Uz(i,0,n);return l.length===0?void 0:{type:"list",ordered:!0,start:((s=i[0])==null?void 0:s.number)||1,items:l,raw:r.slice(0,o).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Ame,this.editor.getAttributes(r4)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Qd({find:i4,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Qd({find:i4,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(r4)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),Cme=/^\s*(\[([( |x])?\])\s$/,kme=er.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",un(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{const n=[];if(t.tokens&&t.tokens.length>0?n.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?n.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):n.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const s=e.parseChildren(t.nestedTokens);n.push(...s)}return e.createNode("taskItem",{checked:t.checked||!1},n)},renderMarkdown:(t,e)=>{var n;const r=`- [${(n=t.attrs)!=null&&n.checked?"x":" "}] `;return K2(t,e,r)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:s})=>{const r=document.createElement("li"),i=document.createElement("label"),o=document.createElement("span"),l=document.createElement("input"),u=document.createElement("div"),d=p=>{var y,x;l.ariaLabel=((x=(y=this.options.a11y)==null?void 0:y.checkboxLabel)==null?void 0:x.call(y,p,l.checked))||`Task item checkbox for ${p.textContent||"empty task item"}`};d(t),i.contentEditable="false",l.type="checkbox",l.addEventListener("mousedown",p=>p.preventDefault()),l.addEventListener("change",p=>{if(!s.isEditable&&!this.options.onReadOnlyChecked){l.checked=!l.checked;return}const{checked:y}=p.target;s.isEditable&&typeof n=="function"&&s.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:x})=>{const w=n();if(typeof w!="number")return!1;const T=x.doc.nodeAt(w);return x.setNodeMarkup(w,void 0,{...T?.attrs,checked:y}),!0}).run(),!s.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,y)||(l.checked=!l.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([p,y])=>{r.setAttribute(p,y)}),r.dataset.checked=t.attrs.checked,l.checked=t.attrs.checked,i.append(l,o),r.append(i,u),Object.entries(e).forEach(([p,y])=>{r.setAttribute(p,y)});let f=new Set(Object.keys(e));return{dom:r,contentDOM:u,update:p=>{if(p.type!==this.type)return!1;r.dataset.checked=p.attrs.checked,l.checked=p.attrs.checked,d(p);const y=s.extensionManager.attributes,x=Kp(p,y),w=new Set(Object.keys(x)),T=this.options.HTMLAttributes;return f.forEach(S=>{w.has(S)||(S in T?r.setAttribute(S,T[S]):r.removeAttribute(S))}),Object.entries(x).forEach(([S,A])=>{A==null?S in T?r.setAttribute(S,T[S]):r.removeAttribute(S):r.setAttribute(S,A)}),f=w,!0}}}},addInputRules(){return[Qd({find:Cme,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),Nme=er.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",un(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;const n=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return n!==void 0?n:-1},tokenize(t,e,n){const s=i=>{const o=KS(i,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:l=>({indentLevel:l[1].length,mainContent:l[4],checked:l[3].toLowerCase()==="x"}),createToken:(l,u)=>({type:"taskItem",raw:"",mainContent:l.mainContent,indentLevel:l.indentLevel,checked:l.checked,text:l.mainContent,tokens:n.inlineTokens(l.mainContent),nestedTokens:u}),customNestedParser:s},n);return o?[{type:"taskList",raw:o.raw,items:o.items}]:n.blockTokens(i)},r=KS(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:i=>({indentLevel:i[1].length,mainContent:i[4],checked:i[3].toLowerCase()==="x"}),createToken:(i,o)=>({type:"taskItem",raw:"",mainContent:i.mainContent,indentLevel:i.indentLevel,checked:i.checked,text:i.mainContent,tokens:n.inlineTokens(i.mainContent),nestedTokens:o}),customNestedParser:s},n);if(r)return{type:"taskList",raw:r.raw,items:r.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});dn.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(Dz.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(Pz.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(Bz.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(Fz.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(kme.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(Nme.configure(this.options.taskList)),t}});var o4="&nbsp;",Rme="",Mme=er.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",un(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{const n=t.tokens||[];if(n.length===1&&n[0].type==="image")return e.parseChildren([n[0]]);const s=e.parseInline(n);return s.length===1&&s[0].type==="text"&&(s[0].text===o4||s[0].text===Rme)?e.createNode("paragraph",void 0,[]):e.createNode("paragraph",void 0,s)},renderMarkdown:(t,e)=>{if(!t)return"";const n=Array.isArray(t.content)?t.content:[];return n.length===0?o4:e.renderChildren(n)},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Ime=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,Dme=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Pme=pu.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",un(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Xd({find:Ime,type:this.type})]},addPasteRules(){return[ru({find:Dme,type:this.type})]}}),Ome=er.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),jme=pu.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",un(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,n){const r=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!r)return;const i=r[2].trim();return{type:"underline",raw:r[0],text:i,tokens:n.inlineTokens(i)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function Lme(t={}){return new Gt({view(e){return new Vme(e,t)}})}class Vme{constructor(e,n){var s;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(s=n.width)!==null&&s!==void 0?s:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(r=>{let i=o=>{this[r](o)};return e.dom.addEventListener(r,i),{name:r,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,s,r=this.editorView.dom,i=r.getBoundingClientRect(),o=i.width/r.offsetWidth,l=i.height/r.offsetHeight;if(n){let p=e.nodeBefore,y=e.nodeAfter;if(p||y){let x=this.editorView.nodeDOM(this.cursorPos-(p?p.nodeSize:0));if(x){let w=x.getBoundingClientRect(),T=p?w.bottom:w.top;p&&y&&(T=(T+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let S=this.width/2*l;s={left:w.left,right:w.right,top:T-S,bottom:T+S}}}}if(!s){let p=this.editorView.coordsAtPos(this.cursorPos),y=this.width/2*o;s={left:p.left-y,right:p.left+y,top:p.top,bottom:p.bottom}}let u=this.editorView.dom.offsetParent;this.element||(this.element=u.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let d,f;if(!u||u==document.body&&getComputedStyle(u).position=="static")d=-pageXOffset,f=-pageYOffset;else{let p=u.getBoundingClientRect(),y=p.width/u.offsetWidth,x=p.height/u.offsetHeight;d=p.left-u.scrollLeft*y,f=p.top-u.scrollTop*x}this.element.style.left=(s.left-d)/o+"px",this.element.style.top=(s.top-f)/l+"px",this.element.style.width=(s.right-s.left)/o+"px",this.element.style.height=(s.bottom-s.top)/l+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),s=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),r=s&&s.type.spec.disableDropCursor,i=typeof r=="function"?r(this.editorView,n,e):r;if(n&&!i){let o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=O9(this.editorView.state.doc,o,this.editorView.dragging.slice);l!=null&&(o=l)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class Zt extends Je{constructor(e){super(e,e)}map(e,n){let s=e.resolve(n.map(this.head));return Zt.valid(s)?new Zt(s):Je.near(s)}content(){return we.empty}eq(e){return e instanceof Zt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Zt(e.resolve(n.pos))}getBookmark(){return new iA(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!zme(e)||!Bme(e))return!1;let s=n.type.spec.allowGapCursor;if(s!=null)return s;let r=n.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(e,n,s=!1){e:for(;;){if(!s&&Zt.valid(e))return e;let r=e.pos,i=null;for(let o=e.depth;;o--){let l=e.node(o);if(n>0?e.indexAfter(o)<l.childCount:e.index(o)>0){i=l.child(n>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;r+=n;let u=e.doc.resolve(r);if(Zt.valid(u))return u}for(;;){let o=n>0?i.firstChild:i.lastChild;if(!o){if(i.isAtom&&!i.isText&&!Ve.isSelectable(i)){e=e.doc.resolve(r+i.nodeSize*n),s=!1;continue e}break}i=o,r+=n;let l=e.doc.resolve(r);if(Zt.valid(l))return l}return null}}}Zt.prototype.visible=!1;Zt.findFrom=Zt.findGapCursorFrom;Je.jsonID("gapcursor",Zt);class iA{constructor(e){this.pos=e}map(e){return new iA(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return Zt.valid(n)?new Zt(n):Je.near(n)}}function Hz(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function zme(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),s=t.node(e);if(n==0){if(s.type.spec.isolating)return!0;continue}for(let r=s.child(n-1);;r=r.lastChild){if(r.childCount==0&&!r.inlineContent||Hz(r.type))return!0;if(r.inlineContent)return!1}}return!0}function Bme(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),s=t.node(e);if(n==s.childCount){if(s.type.spec.isolating)return!0;continue}for(let r=s.child(n);;r=r.firstChild){if(r.childCount==0&&!r.inlineContent||Hz(r.type))return!0;if(r.inlineContent)return!1}}return!0}function Ume(){return new Gt({props:{decorations:qme,createSelectionBetween(t,e,n){return e.pos==n.pos&&Zt.valid(n)?new Zt(n):null},handleClick:Hme,handleKeyDown:Fme,handleDOMEvents:{beforeinput:$me}}})}const Fme=jV({ArrowLeft:Sy("horiz",-1),ArrowRight:Sy("horiz",1),ArrowUp:Sy("vert",-1),ArrowDown:Sy("vert",1)});function Sy(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(s,r,i){let o=s.selection,l=e>0?o.$to:o.$from,u=o.empty;if(o instanceof Fe){if(!i.endOfTextblock(n)||l.depth==0)return!1;u=!1,l=s.doc.resolve(e>0?l.after():l.before())}let d=Zt.findGapCursorFrom(l,e,u);return d?(r&&r(s.tr.setSelection(new Zt(d))),!0):!1}}function Hme(t,e,n){if(!t||!t.editable)return!1;let s=t.state.doc.resolve(e);if(!Zt.valid(s))return!1;let r=t.posAtCoords({left:n.clientX,top:n.clientY});return r&&r.inside>-1&&Ve.isSelectable(t.state.doc.nodeAt(r.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Zt(s))),!0)}function $me(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Zt))return!1;let{$from:n}=t.state.selection,s=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!s)return!1;let r=fe.empty;for(let o=s.length-1;o>=0;o--)r=fe.from(s[o].createAndFill(null,r));let i=t.state.tr.replace(n.pos,n.pos,new we(r,0,0));return i.setSelection(Fe.near(i.doc.resolve(n.pos+1))),t.dispatch(i),!1}function qme(t){if(!(t.selection instanceof Zt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",$t.create(t.doc,[js.widget(t.selection.head,e,{key:"gapcursor"})])}var jx=200,Kn=function(){};Kn.prototype.append=function(e){return e.length?(e=Kn.from(e),!this.length&&e||e.length<jx&&this.leafAppend(e)||this.length<jx&&e.leafPrepend(this)||this.appendInner(e)):this};Kn.prototype.prepend=function(e){return e.length?Kn.from(e).append(this):this};Kn.prototype.appendInner=function(e){return new Wme(this,e)};Kn.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Kn.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Kn.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Kn.prototype.forEach=function(e,n,s){n===void 0&&(n=0),s===void 0&&(s=this.length),n<=s?this.forEachInner(e,n,s,0):this.forEachInvertedInner(e,n,s,0)};Kn.prototype.map=function(e,n,s){n===void 0&&(n=0),s===void 0&&(s=this.length);var r=[];return this.forEach(function(i,o){return r.push(e(i,o))},n,s),r};Kn.from=function(e){return e instanceof Kn?e:e&&e.length?new $z(e):Kn.empty};var $z=(function(t){function e(s){t.call(this),this.values=s}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(r,i){return r==0&&i==this.length?this:new e(this.values.slice(r,i))},e.prototype.getInner=function(r){return this.values[r]},e.prototype.forEachInner=function(r,i,o,l){for(var u=i;u<o;u++)if(r(this.values[u],l+u)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,o,l){for(var u=i-1;u>=o;u--)if(r(this.values[u],l+u)===!1)return!1},e.prototype.leafAppend=function(r){if(this.length+r.length<=jx)return new e(this.values.concat(r.flatten()))},e.prototype.leafPrepend=function(r){if(this.length+r.length<=jx)return new e(r.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e})(Kn);Kn.empty=new $z([]);var Wme=(function(t){function e(n,s){t.call(this),this.left=n,this.right=s,this.length=n.length+s.length,this.depth=Math.max(n.depth,s.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(s){return s<this.left.length?this.left.get(s):this.right.get(s-this.left.length)},e.prototype.forEachInner=function(s,r,i,o){var l=this.left.length;if(r<l&&this.left.forEachInner(s,r,Math.min(i,l),o)===!1||i>l&&this.right.forEachInner(s,Math.max(r-l,0),Math.min(this.length,i)-l,o+l)===!1)return!1},e.prototype.forEachInvertedInner=function(s,r,i,o){var l=this.left.length;if(r>l&&this.right.forEachInvertedInner(s,r-l,Math.max(i,l)-l,o+l)===!1||i<l&&this.left.forEachInvertedInner(s,Math.min(r,l),i,o)===!1)return!1},e.prototype.sliceInner=function(s,r){if(s==0&&r==this.length)return this;var i=this.left.length;return r<=i?this.left.slice(s,r):s>=i?this.right.slice(s-i,r-i):this.left.slice(s,i).append(this.right.slice(0,r-i))},e.prototype.leafAppend=function(s){var r=this.right.leafAppend(s);if(r)return new e(this.left,r)},e.prototype.leafPrepend=function(s){var r=this.left.leafPrepend(s);if(r)return new e(r,this.right)},e.prototype.appendInner=function(s){return this.left.depth>=Math.max(this.right.depth,s.depth)+1?new e(this.left,new e(this.right,s)):new e(this,s)},e})(Kn);const Kme=500;class oi{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let s=this.items.length;for(;;s--)if(this.items.get(s-1).selection){--s;break}let r,i;n&&(r=this.remapping(s,this.items.length),i=r.maps.length);let o=e.tr,l,u,d=[],f=[];return this.items.forEach((p,y)=>{if(!p.step){r||(r=this.remapping(s,y+1),i=r.maps.length),i--,f.push(p);return}if(r){f.push(new Ga(p.map));let x=p.step.map(r.slice(i)),w;x&&o.maybeStep(x).doc&&(w=o.mapping.maps[o.mapping.maps.length-1],d.push(new Ga(w,void 0,void 0,d.length+f.length))),i--,w&&r.appendMap(w,i)}else o.maybeStep(p.step);if(p.selection)return l=r?p.selection.map(r.slice(i)):p.selection,u=new oi(this.items.slice(0,s).append(f.reverse().concat(d)),this.eventCount-1),!1},this.items.length,0),{remaining:u,transform:o,selection:l}}addTransform(e,n,s,r){let i=[],o=this.eventCount,l=this.items,u=!r&&l.length?l.get(l.length-1):null;for(let f=0;f<e.steps.length;f++){let p=e.steps[f].invert(e.docs[f]),y=new Ga(e.mapping.maps[f],p,n),x;(x=u&&u.merge(y))&&(y=x,f?i.pop():l=l.slice(0,l.length-1)),i.push(y),n&&(o++,n=void 0),r||(u=y)}let d=o-s.depth;return d>Yme&&(l=Gme(l,d),o-=d),new oi(l.append(i),o)}remapping(e,n){let s=new Up;return this.items.forEach((r,i)=>{let o=r.mirrorOffset!=null&&i-r.mirrorOffset>=e?s.maps.length-r.mirrorOffset:void 0;s.appendMap(r.map,o)},e,n),s}addMaps(e){return this.eventCount==0?this:new oi(this.items.append(e.map(n=>new Ga(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let s=[],r=Math.max(0,this.items.length-n),i=e.mapping,o=e.steps.length,l=this.eventCount;this.items.forEach(y=>{y.selection&&l--},r);let u=n;this.items.forEach(y=>{let x=i.getMirror(--u);if(x==null)return;o=Math.min(o,x);let w=i.maps[x];if(y.step){let T=e.steps[x].invert(e.docs[x]),S=y.selection&&y.selection.map(i.slice(u+1,x));S&&l++,s.push(new Ga(w,T,S))}else s.push(new Ga(w))},r);let d=[];for(let y=n;y<o;y++)d.push(new Ga(i.maps[y]));let f=this.items.slice(0,r).append(d).append(s),p=new oi(f,l);return p.emptyItemCount()>Kme&&(p=p.compress(this.items.length-s.length)),p}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),s=n.maps.length,r=[],i=0;return this.items.forEach((o,l)=>{if(l>=e)r.push(o),o.selection&&i++;else if(o.step){let u=o.step.map(n.slice(s)),d=u&&u.getMap();if(s--,d&&n.appendMap(d,s),u){let f=o.selection&&o.selection.map(n.slice(s));f&&i++;let p=new Ga(d.invert(),u,f),y,x=r.length-1;(y=r.length&&r[x].merge(p))?r[x]=y:r.push(p)}}else o.map&&s--},this.items.length,0),new oi(Kn.from(r.reverse()),i)}}oi.empty=new oi(Kn.empty,0);function Gme(t,e){let n;return t.forEach((s,r)=>{if(s.selection&&e--==0)return n=r,!1}),t.slice(n)}let Ga=class qz{constructor(e,n,s,r){this.map=e,this.step=n,this.selection=s,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new qz(n.getMap().invert(),n,this.selection)}}};class tl{constructor(e,n,s,r,i){this.done=e,this.undone=n,this.prevRanges=s,this.prevTime=r,this.prevComposition=i}}const Yme=20;function Xme(t,e,n,s){let r=n.getMeta(Hc),i;if(r)return r.historyState;n.getMeta(Zme)&&(t=new tl(t.done,t.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(o&&o.getMeta(Hc))return o.getMeta(Hc).redo?new tl(t.done.addTransform(n,void 0,s,n0(e)),t.undone,a4(n.mapping.maps),t.prevTime,t.prevComposition):new tl(t.done,t.undone.addTransform(n,void 0,s,n0(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),u=t.prevTime==0||!o&&t.prevComposition!=l&&(t.prevTime<(n.time||0)-s.newGroupDelay||!Qme(n,t.prevRanges)),d=o?uE(t.prevRanges,n.mapping):a4(n.mapping.maps);return new tl(t.done.addTransform(n,u?e.selection.getBookmark():void 0,s,n0(e)),oi.empty,d,n.time,l??t.prevComposition)}else return(i=n.getMeta("rebased"))?new tl(t.done.rebased(n,i),t.undone.rebased(n,i),uE(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new tl(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),uE(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function Qme(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((s,r)=>{for(let i=0;i<e.length;i+=2)s<=e[i+1]&&r>=e[i]&&(n=!0)}),n}function a4(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((s,r,i,o)=>e.push(i,o));return e}function uE(t,e){if(!t)return null;let n=[];for(let s=0;s<t.length;s+=2){let r=e.map(t[s],1),i=e.map(t[s+1],-1);r<=i&&n.push(r,i)}return n}function Jme(t,e,n){let s=n0(e),r=Hc.get(e).spec.config,i=(n?t.undone:t.done).popEvent(e,s);if(!i)return null;let o=i.selection.resolve(i.transform.doc),l=(n?t.done:t.undone).addTransform(i.transform,e.selection.getBookmark(),r,s),u=new tl(n?l:i.remaining,n?i.remaining:l,null,0,-1);return i.transform.setSelection(o).setMeta(Hc,{redo:n,historyState:u})}let dE=!1,l4=null;function n0(t){let e=t.plugins;if(l4!=e){dE=!1,l4=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){dE=!0;break}}return dE}const Hc=new jn("history"),Zme=new jn("closeHistory");function ege(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Gt({key:Hc,state:{init(){return new tl(oi.empty,oi.empty,null,0,-1)},apply(e,n,s){return Xme(n,s,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let s=n.inputType,r=s=="historyUndo"?Kz:s=="historyRedo"?Gz:null;return!r||!e.editable?!1:(n.preventDefault(),r(e.state,e.dispatch))}}}})}function Wz(t,e){return(n,s)=>{let r=Hc.getState(n);if(!r||(t?r.undone:r.done).eventCount==0)return!1;if(s){let i=Jme(r,n,t);i&&s(e?i.scrollIntoView():i)}return!0}}const Kz=Wz(!1,!0),Gz=Wz(!0,!0);dn.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=t?.node||this.editor.state.doc;if((t?.mode||this.options.mode)==="textSize"){const s=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(s)}return e.nodeSize},this.storage.words=t=>{const e=t?.node||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new Gt({key:new jn("characterCount"),appendTransaction:(e,n,s)=>{if(t)return;const r=this.options.limit;if(r==null||r===0){t=!0;return}const i=this.storage.characters({node:s.doc});if(i>r){const o=i-r,l=0,u=o;console.warn(`[CharacterCount] Initial content exceeded limit of ${r} characters. Content was automatically trimmed.`);const d=s.tr.deleteRange(l,u);return t=!0,d}t=!0},filterTransaction:(e,n)=>{const s=this.options.limit;if(!e.docChanged||s===0||s===null||s===void 0)return!0;const r=this.storage.characters({node:n.doc}),i=this.storage.characters({node:e.doc});if(i<=s||r>s&&i>s&&i<=r)return!0;if(r>s&&i>s&&i>r||!e.getMeta("paste"))return!1;const l=e.selection.$head.pos,u=i-s,d=l-u,f=l;return e.deleteRange(d,f),!(this.storage.characters({node:e.doc})>s)}})]}});var tge=dn.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[Lme(this.options)]}});dn.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Gt({key:new jn("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:s}=this.editor,{anchor:r}=e,i=[];if(!n||!s)return $t.create(t,[]);let o=0;this.options.mode==="deepest"&&t.descendants((u,d)=>{if(u.isText)return;if(!(r>=d&&r<=d+u.nodeSize-1))return!1;o+=1});let l=0;return t.descendants((u,d)=>{if(u.isText||!(r>=d&&r<=d+u.nodeSize-1))return!1;if(l+=1,this.options.mode==="deepest"&&o-l>0||this.options.mode==="shallowest"&&l>1)return this.options.mode==="deepest";i.push(js.node(d,d+u.nodeSize,{class:this.options.className}))}),$t.create(t,i)}}})]}});var nge=dn.create({name:"gapCursor",addProseMirrorPlugins(){return[Ume()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=bt(Ie(t,"allowGapCursor",n)))!=null?e:null}}}),c4="placeholder";function sge(t){return t.replace(/\s+/g,"-").replace(/[^a-zA-Z0-9-]/g,"").replace(/^[0-9-]+/,"").replace(/^-+/,"").toLowerCase()}var rge=dn.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",dataAttribute:c4,placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){const t=this.options.dataAttribute?`data-${sge(this.options.dataAttribute)}`:`data-${c4}`;return[new Gt({key:new jn("placeholder"),props:{decorations:({doc:e,selection:n})=>{const s=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=n,i=[];if(!s)return null;const o=this.editor.isEmpty;return e.descendants((l,u)=>{const d=r>=u&&r<=u+l.nodeSize,f=!l.isLeaf&&Lv(l);if((d||!this.options.showOnlyCurrent)&&f){const p=[this.options.emptyNodeClass];o&&p.push(this.options.emptyEditorClass);const y=js.node(u,u+l.nodeSize,{class:p.join(" "),[t]:typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:l,pos:u,hasAnchor:d}):this.options.placeholder});i.push(y)}return this.options.includeChildren}),$t.create(e,i)}}})]}});dn.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new Gt({key:new jn("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||JV(n.selection)||t.view.dragging?null:$t.create(n.doc,[js.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function u4({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||e?.type===t}var ige=dn.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new jn(this.name),n=this.options.node||((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||"paragraph",s=Object.entries(this.editor.schema.nodes).map(([,r])=>r).filter(r=>(this.options.notAfter||[]).concat(n).includes(r.name));return[new Gt({key:e,appendTransaction:(r,i,o)=>{const{doc:l,tr:u,schema:d}=o,f=e.getState(o),p=l.content.size,y=d.nodes[n];if(f)return u.insert(p,y.create())},state:{init:(r,i)=>{const o=i.tr.doc.lastChild;return!u4({node:o,types:s})},apply:(r,i)=>{if(!r.docChanged||r.getMeta("__uniqueIDTransaction"))return i;const o=r.doc.lastChild;return!u4({node:o,types:s})}}})]}}),oge=dn.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>Kz(t,e),redo:()=>({state:t,dispatch:e})=>Gz(t,e)}},addProseMirrorPlugins(){return[ege(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),age=dn.create({name:"starterKit",addExtensions(){var t,e,n,s;const r=[];return this.options.bold!==!1&&r.push(Mpe.configure(this.options.bold)),this.options.blockquote!==!1&&r.push(Ape.configure(this.options.blockquote)),this.options.bulletList!==!1&&r.push(Dz.configure(this.options.bulletList)),this.options.code!==!1&&r.push(Ppe.configure(this.options.code)),this.options.codeBlock!==!1&&r.push(Lpe.configure(this.options.codeBlock)),this.options.document!==!1&&r.push(Vpe.configure(this.options.document)),this.options.dropcursor!==!1&&r.push(tge.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&r.push(nge.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&r.push(zpe.configure(this.options.hardBreak)),this.options.heading!==!1&&r.push(Bpe.configure(this.options.heading)),this.options.undoRedo!==!1&&r.push(oge.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&r.push(Upe.configure(this.options.horizontalRule)),this.options.italic!==!1&&r.push(Wpe.configure(this.options.italic)),this.options.listItem!==!1&&r.push(Pz.configure(this.options.listItem)),this.options.listKeymap!==!1&&r.push(Bz.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&r.push(Iz.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&r.push(Fz.configure(this.options.orderedList)),this.options.paragraph!==!1&&r.push(Mme.configure(this.options.paragraph)),this.options.strike!==!1&&r.push(Pme.configure(this.options.strike)),this.options.text!==!1&&r.push(Ome.configure(this.options.text)),this.options.underline!==!1&&r.push(jme.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&r.push(ige.configure((s=this.options)==null?void 0:s.trailingNode)),r}}),lge=age,cge=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,uge=er.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",un(this.options.HTMLAttributes,t)]},parseMarkdown:(t,e)=>e.createNode("image",{src:t.href,title:t.title,alt:t.text}),renderMarkdown:t=>{var e,n,s,r,i,o;const l=(n=(e=t.attrs)==null?void 0:e.src)!=null?n:"",u=(r=(s=t.attrs)==null?void 0:s.alt)!=null?r:"",d=(o=(i=t.attrs)==null?void 0:i.title)!=null?o:"";return d?`![${u}](${l} "${d}")`:`![${u}](${l})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||typeof document>"u")return null;const{directions:t,minWidth:e,minHeight:n,alwaysPreserveAspectRatio:s}=this.options.resize;return({node:r,getPos:i,HTMLAttributes:o,editor:l})=>{const u=document.createElement("img");Object.entries(o).forEach(([p,y])=>{if(y!=null)switch(p){case"width":case"height":break;default:u.setAttribute(p,y);break}}),u.src=o.src;const d=new ffe({element:u,editor:l,node:r,getPos:i,onResize:(p,y)=>{u.style.width=`${p}px`,u.style.height=`${y}px`},onCommit:(p,y)=>{const x=i();x!==void 0&&this.editor.chain().setNodeSelection(x).updateAttributes(this.name,{width:p,height:y}).run()},onUpdate:(p,y,x)=>p.type===r.type,options:{directions:t,min:{width:e,height:n},preserveAspectRatio:s===!0}}),f=d.dom;return f.style.visibility="hidden",f.style.pointerEvents="none",u.onload=()=>{f.style.visibility="",f.style.pointerEvents=""},d}},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[mz({find:cge,type:this.type,getAttributes:t=>{const[,,e,n,s]=t;return{src:n,alt:e,title:s}}})]}}),dge=uge,hge=rge;function Gs({icon:t,isActive:e,onClick:n,title:s,disabled:r}){return m.jsx("button",{"code-path":"src/components/RichTextEditor.tsx:30:5",onClick:n,disabled:r,title:s,className:`
        p-2 rounded-lg transition-all
        ${e?"bg-orange-500 text-white":"text-slate-400 hover:text-white hover:bg-slate-700"}
        ${r?"opacity-50 cursor-not-allowed":""}
      `,children:m.jsx(t,{"code-path":"src/components/RichTextEditor.tsx:42:7",className:"w-4 h-4"})})}function fge({editor:t}){const[e,n]=_.useState(!1),[s,r]=_.useState("");if(!t)return null;const i=()=>{const u=window.prompt("");u&&t.chain().focus().setImage({src:u}).run()},o=()=>{s&&t.chain().focus().setLink({href:s}).run(),n(!1),r("")},l=()=>{t.chain().focus().unsetLink().run(),n(!1)};return m.jsx("div",{"code-path":"src/components/RichTextEditor.tsx:78:5",className:"border-b border-slate-700 bg-slate-800/50 p-2",children:m.jsxs("div",{"code-path":"src/components/RichTextEditor.tsx:80:7",className:"flex flex-wrap items-center gap-1",children:[m.jsxs("div",{"code-path":"src/components/RichTextEditor.tsx:81:9",className:"flex items-center gap-0.5 bg-slate-900/50 rounded-lg p-1",children:[m.jsx(Gs,{"code-path":"src/components/RichTextEditor.tsx:82:11",icon:xne,isActive:t.isActive("bold"),onClick:()=>t.chain().focus().toggleBold().run(),title:""}),m.jsx(Gs,{"code-path":"src/components/RichTextEditor.tsx:88:11",icon:vse,isActive:t.isActive("italic"),onClick:()=>t.chain().focus().toggleItalic().run(),title:""}),m.jsx(Gs,{"code-path":"src/components/RichTextEditor.tsx:94:11",icon:ure,isActive:t.isActive("strike"),onClick:()=>t.chain().focus().toggleStrike().run(),title:""}),m.jsx(Gs,{"code-path":"src/components/RichTextEditor.tsx:100:11",icon:zne,isActive:t.isActive("code"),onClick:()=>t.chain().focus().toggleCode().run(),title:""})]}),m.jsx("div",{"code-path":"src/components/RichTextEditor.tsx:108:9",className:"w-px h-6 bg-slate-700 mx-1"}),m.jsxs("div",{"code-path":"src/components/RichTextEditor.tsx:111:9",className:"flex items-center gap-0.5 bg-slate-900/50 rounded-lg p-1",children:[m.jsx(Gs,{"code-path":"src/components/RichTextEditor.tsx:112:11",icon:dse,isActive:t.isActive("heading",{level:1}),onClick:()=>t.chain().focus().toggleHeading({level:1}).run(),title:" 1"}),m.jsx(Gs,{"code-path":"src/components/RichTextEditor.tsx:118:11",icon:fse,isActive:t.isActive("heading",{level:2}),onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),title:" 2"}),m.jsx(Gs,{"code-path":"src/components/RichTextEditor.tsx:124:11",icon:mse,isActive:t.isActive("heading",{level:3}),onClick:()=>t.chain().focus().toggleHeading({level:3}).run(),title:" 3"})]}),m.jsx("div",{"code-path":"src/components/RichTextEditor.tsx:132:9",className:"w-px h-6 bg-slate-700 mx-1"}),m.jsxs("div",{"code-path":"src/components/RichTextEditor.tsx:135:9",className:"flex items-center gap-0.5 bg-slate-900/50 rounded-lg p-1",children:[m.jsx(Gs,{"code-path":"src/components/RichTextEditor.tsx:136:11",icon:e6,isActive:t.isActive("bulletList"),onClick:()=>t.chain().focus().toggleBulletList().run(),title:""}),m.jsx(Gs,{"code-path":"src/components/RichTextEditor.tsx:142:11",icon:Sse,isActive:t.isActive("orderedList"),onClick:()=>t.chain().focus().toggleOrderedList().run(),title:""}),m.jsx(Gs,{"code-path":"src/components/RichTextEditor.tsx:148:11",icon:Xse,isActive:t.isActive("blockquote"),onClick:()=>t.chain().focus().toggleBlockquote().run(),title:""})]}),m.jsx("div",{"code-path":"src/components/RichTextEditor.tsx:156:9",className:"w-px h-6 bg-slate-700 mx-1"}),m.jsxs("div",{"code-path":"src/components/RichTextEditor.tsx:159:9",className:"flex items-center gap-0.5 bg-slate-900/50 rounded-lg p-1",children:[m.jsx(Gs,{"code-path":"src/components/RichTextEditor.tsx:160:11",icon:ZL,onClick:i,title:""}),m.jsxs("div",{"code-path":"src/components/RichTextEditor.tsx:165:11",className:"relative",children:[m.jsx(Gs,{"code-path":"src/components/RichTextEditor.tsx:166:13",icon:wse,isActive:t.isActive("link"),onClick:()=>{t.isActive("link")?l():n(!0)},title:""}),m.jsx(On,{"code-path":"src/components/RichTextEditor.tsx:178:13",children:e&&m.jsxs(ve.div,{"code-path":"src/components/RichTextEditor.tsx:180:17",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute top-full left-0 mt-2 p-3 bg-slate-800 border border-slate-700 rounded-lg shadow-xl z-50 w-64",children:[m.jsx("input",{"code-path":"src/components/RichTextEditor.tsx:186:19",type:"url",value:s,onChange:u=>r(u.target.value),placeholder:"https://example.com",className:"w-full bg-slate-900 border border-slate-700 rounded px-3 py-2 text-white text-sm mb-2 focus:border-orange-500 focus:outline-none",onKeyPress:u=>u.key==="Enter"&&o()}),m.jsxs("div",{"code-path":"src/components/RichTextEditor.tsx:194:19",className:"flex gap-2",children:[m.jsxs(De,{"code-path":"src/components/RichTextEditor.tsx:195:21",onClick:o,size:"sm",className:"flex-1 bg-orange-500 hover:bg-orange-600",children:[m.jsx(yv,{"code-path":"src/components/RichTextEditor.tsx:196:23",className:"w-3 h-3 mr-1"})," "]}),m.jsx(De,{"code-path":"src/components/RichTextEditor.tsx:198:21",onClick:()=>n(!1),size:"sm",variant:"ghost",children:m.jsx(hu,{"code-path":"src/components/RichTextEditor.tsx:199:23",className:"w-3 h-3"})})]})]})})]})]}),m.jsx("div",{"code-path":"src/components/RichTextEditor.tsx:208:9",className:"w-px h-6 bg-slate-700 mx-1"}),m.jsxs("div",{"code-path":"src/components/RichTextEditor.tsx:211:9",className:"flex items-center gap-0.5 bg-slate-900/50 rounded-lg p-1",children:[m.jsx(Gs,{"code-path":"src/components/RichTextEditor.tsx:212:11",icon:wre,onClick:()=>t.chain().focus().undo().run(),disabled:!t.can().undo(),title:""}),m.jsx(Gs,{"code-path":"src/components/RichTextEditor.tsx:218:11",icon:ere,onClick:()=>t.chain().focus().redo().run(),disabled:!t.can().redo(),title:""})]})]})})}function pge({content:t="",onChange:e,placeholder:n="...",minHeight:s="300px"}){const[r,i]=_.useState(!1),o=wpe({extensions:[lge,dge.configure({inline:!0,allowBase64:!0}),yme.configure({openOnClick:!1}),hge.configure({placeholder:n})],content:t,onUpdate:({editor:l})=>{e?.(l.getHTML())}});return o?m.jsxs("div",{"code-path":"src/components/RichTextEditor.tsx:272:5",className:"border border-slate-700 rounded-lg overflow-hidden bg-slate-900",children:[m.jsx(fge,{"code-path":"src/components/RichTextEditor.tsx:273:7",editor:o}),m.jsxs("div",{"code-path":"src/components/RichTextEditor.tsx:275:7",className:"relative",children:[m.jsx(xz,{"code-path":"src/components/RichTextEditor.tsx:276:9",editor:o,className:"prose prose-invert max-w-none p-4 focus:outline-none",style:{minHeight:s}}),m.jsx(On,{"code-path":"src/components/RichTextEditor.tsx:283:9",children:r&&m.jsx(ve.div,{"code-path":"src/components/RichTextEditor.tsx:285:13",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-slate-900 p-4 overflow-auto",style:{minHeight:s},children:m.jsx("div",{"code-path":"src/components/RichTextEditor.tsx:292:15",className:"prose prose-invert max-w-none",dangerouslySetInnerHTML:{__html:o.getHTML()}})})})]}),m.jsxs("div",{"code-path":"src/components/RichTextEditor.tsx:302:7",className:"border-t border-slate-700 bg-slate-800/50 px-4 py-2 flex items-center justify-between text-xs text-slate-500",children:[m.jsxs("div",{"code-path":"src/components/RichTextEditor.tsx:303:9",className:"flex items-center gap-4",children:[m.jsxs("span",{"code-path":"src/components/RichTextEditor.tsx:304:11",children:[o.storage.characterCount?.characters?.()||0," "]}),m.jsxs("span",{"code-path":"src/components/RichTextEditor.tsx:305:11",children:[o.storage.characterCount?.words?.()||0," "]})]}),m.jsxs("button",{"code-path":"src/components/RichTextEditor.tsx:307:9",onClick:()=>i(!r),className:"flex items-center gap-1 text-slate-400 hover:text-white transition-colors",children:[m.jsx(XL,{"code-path":"src/components/RichTextEditor.tsx:311:11",className:"w-4 h-4"}),r?"":""]})]}),m.jsx("style",{"code-path":"src/components/RichTextEditor.tsx:316:7",children:`
        .ProseMirror {
          outline: none;
        }
        .ProseMirror p.is-editor-empty:first-child::before {
          content: attr(data-placeholder);
          float: left;
          color: #64748b;
          pointer-events: none;
          height: 0;
        }
        .ProseMirror img {
          max-width: 100%;
          border-radius: 0.5rem;
        }
        .ProseMirror blockquote {
          border-left: 3px solid #f97316;
          padding-left: 1rem;
          margin-left: 0;
          color: #94a3b8;
        }
        .ProseMirror pre {
          background: #1e293b;
          padding: 1rem;
          border-radius: 0.5rem;
          overflow-x: auto;
        }
        .ProseMirror code {
          background: #1e293b;
          padding: 0.2rem 0.4rem;
          border-radius: 0.25rem;
          font-family: monospace;
        }
        .ProseMirror a {
          color: #f97316;
          text-decoration: underline;
        }
      `})]}):null}function mge({teams:t,onComplete:e}){const[n,s]=_.useState(!1),[r,i]=_.useState(0),[o,l]=_.useState(null),u=_.useRef(null),d=async()=>{if(n)return;s(!0),l(null);let f=50,p=2e3;const y=Date.now();u.current=setInterval(()=>{i(Math.floor(Math.random()*t.length)),Date.now()-y>p*.7&&f<200&&(f+=20,u.current&&(clearInterval(u.current),u.current=setInterval(()=>{i(Math.floor(Math.random()*t.length))},f)))},f),setTimeout(()=>{u.current&&clearInterval(u.current);const x=Math.floor(Math.random()*t.length),w=t[x];i(x),l(w),s(!1),e({team:w,position:x+1,animation:"slot"})},p)};return _.useEffect(()=>()=>{u.current&&clearInterval(u.current)},[]),m.jsxs("div",{"code-path":"src/components/DrawAnimation.tsx:102:5",className:"text-center",children:[m.jsxs("div",{"code-path":"src/components/DrawAnimation.tsx:104:7",className:"relative h-48 mb-8",children:[m.jsx(ve.div,{"code-path":"src/components/DrawAnimation.tsx:105:9",className:"absolute inset-0 flex items-center justify-center",animate:n?{scale:[1,1.05,1]}:{},transition:{duration:.1,repeat:1/0},children:m.jsx("div",{"code-path":"src/components/DrawAnimation.tsx:110:11",className:`
            w-64 h-32 rounded-2xl flex items-center justify-center
            ${n?"bg-gradient-to-br from-orange-500 to-red-500":"bg-slate-800"}
            border-4 ${n?"border-orange-400":"border-slate-600"}
            shadow-2xl
          `,children:m.jsx(On,{"code-path":"src/components/DrawAnimation.tsx:116:13",mode:"wait",children:m.jsx(ve.div,{"code-path":"src/components/DrawAnimation.tsx:117:15",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"text-center",children:o?m.jsxs("div",{"code-path":"src/components/DrawAnimation.tsx:125:19",children:[m.jsx(a6,{"code-path":"src/components/DrawAnimation.tsx:126:21",className:"w-8 h-8 text-yellow-400 mx-auto mb-2"}),m.jsx("p",{"code-path":"src/components/DrawAnimation.tsx:127:21",className:"text-2xl font-bold text-white",children:o.name}),m.jsxs("p",{"code-path":"src/components/DrawAnimation.tsx:128:21",className:"text-orange-200",children:[" ",t.findIndex(f=>f.id===o.id)+1]})]}):m.jsx("p",{"code-path":"src/components/DrawAnimation.tsx:131:19",className:"text-3xl font-bold text-white",children:t[r]?.name})},n?r:"result")})})}),n&&m.jsx(m.Fragment,{children:[...Array(8)].map((f,p)=>m.jsx(ve.div,{"code-path":"src/components/DrawAnimation.tsx:144:15",className:"absolute w-3 h-3 rounded-full bg-yellow-400",style:{top:`${20+Math.sin(p*Math.PI/4)*80}px`,left:`${50+Math.cos(p*Math.PI/4)*140}px`},animate:{opacity:[.3,1,.3],scale:[.8,1.2,.8]},transition:{duration:.5,repeat:1/0,delay:p*.1}},p))})]}),m.jsxs(De,{"code-path":"src/components/DrawAnimation.tsx:167:7",onClick:d,disabled:n||t.length===0,className:`
          px-8 py-4 text-lg font-bold rounded-xl transition-all
          ${n?"bg-slate-700 cursor-not-allowed":"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600"}
        `,children:[n?m.jsx(ve.div,{"code-path":"src/components/DrawAnimation.tsx:178:11",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full mr-2 inline-block"}):m.jsx(Kse,{"code-path":"src/components/DrawAnimation.tsx:184:11",className:"w-5 h-5 mr-2 inline"}),n?"...":""]})]})}function gge({teams:t,onComplete:e}){const[n,s]=_.useState(!1),[r,i]=_.useState(null),[o,l]=_.useState([]);_.useEffect(()=>{const d=t.map((f,p)=>({id:f.id,x:p%4*140-210,y:Math.floor(p/4)*100-100,rotation:(Math.random()-.5)*20}));l(d)},[t]);const u=async()=>{if(n)return;s(!0),i(null);for(let p=0;p<10;p++)l(y=>y.map(x=>({...x,x:x.x+(Math.random()-.5)*100,y:x.y+(Math.random()-.5)*50,rotation:(Math.random()-.5)*30}))),await new Promise(y=>setTimeout(y,100));const d=t.map((p,y)=>({id:p.id,x:y%4*140-210,y:Math.floor(y/4)*100-100,rotation:0}));l(d);const f=t[Math.floor(Math.random()*t.length)];i(f.id),s(!1),e({team:f,position:t.findIndex(p=>p.id===f.id)+1,animation:"shuffle"})};return m.jsxs("div",{"code-path":"src/components/DrawAnimation.tsx:259:5",className:"text-center",children:[m.jsx("div",{"code-path":"src/components/DrawAnimation.tsx:261:7",className:"relative h-80 mb-8 flex items-center justify-center",children:m.jsx("div",{"code-path":"src/components/DrawAnimation.tsx:262:9",className:"relative w-full max-w-2xl h-full",children:t.map((d,f)=>{const p=o.find(x=>x.id===d.id),y=r===d.id;return m.jsx(ve.div,{"code-path":"src/components/DrawAnimation.tsx:268:15",className:"absolute left-1/2 top-1/2",animate:{x:p?.x||0,y:p?.y||0,rotate:p?.rotation||0,scale:y?1.2:1,zIndex:y?10:1},transition:{type:"spring",stiffness:200,damping:20},style:{marginLeft:"-60px",marginTop:"-40px"},children:m.jsx(ve.div,{"code-path":"src/components/DrawAnimation.tsx:281:17",className:`
                    w-28 h-20 rounded-xl flex items-center justify-center cursor-pointer
                    ${y?"bg-gradient-to-br from-orange-500 to-red-500 border-2 border-yellow-400":"bg-slate-700 border border-slate-600"}
                    shadow-lg
                  `,whileHover:n?{}:{scale:1.05},onClick:()=>!n&&u(),children:y?m.jsxs("div",{"code-path":"src/components/DrawAnimation.tsx:293:21",className:"text-center",children:[m.jsx(a6,{"code-path":"src/components/DrawAnimation.tsx:294:23",className:"w-5 h-5 text-yellow-300 mx-auto mb-1"}),m.jsx("p",{"code-path":"src/components/DrawAnimation.tsx:295:23",className:"text-sm font-bold text-white",children:d.name})]}):m.jsxs("div",{"code-path":"src/components/DrawAnimation.tsx:298:21",className:"text-center",children:[m.jsx("p",{"code-path":"src/components/DrawAnimation.tsx:299:23",className:"text-2xl font-bold text-slate-500",children:"?"}),m.jsx("p",{"code-path":"src/components/DrawAnimation.tsx:300:23",className:"text-xs text-slate-600",children:f+1})]})})},d.id)})})}),m.jsxs(De,{"code-path":"src/components/DrawAnimation.tsx:311:7",onClick:u,disabled:n,className:`
          px-8 py-4 text-lg font-bold rounded-xl transition-all
          ${n?"bg-slate-700 cursor-not-allowed":"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600"}
        `,children:[n?m.jsx(ve.div,{"code-path":"src/components/DrawAnimation.tsx:322:11",animate:{rotate:360},transition:{duration:.5,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full mr-2 inline-block"}):m.jsx(o6,{"code-path":"src/components/DrawAnimation.tsx:328:11",className:"w-5 h-5 mr-2 inline"}),n?"...":""]})]})}function yge({teams:t,onComplete:e}){const[n,s]=_.useState(!1),[r,i]=_.useState(0),[o,l]=_.useState(null),u=_.useRef(null);_.useEffect(()=>{const f=u.current;if(!f)return;const p=f.getContext("2d");if(!p)return;const y=f.width/2,x=f.height/2,w=Math.min(y,x)-20;p.clearRect(0,0,f.width,f.height);const T=["#f97316","#3b82f6","#10b981","#f59e0b","#8b5cf6","#ec4899"],S=2*Math.PI/t.length;t.forEach((A,N)=>{const P=N*S+r*Math.PI/180,O=(N+1)*S+r*Math.PI/180;p.beginPath(),p.moveTo(y,x),p.arc(y,x,w,P,O),p.closePath(),p.fillStyle=T[N%T.length],p.fill(),p.strokeStyle="#1e293b",p.lineWidth=2,p.stroke(),p.save(),p.translate(y,x),p.rotate(P+S/2),p.textAlign="right",p.fillStyle="#fff",p.font="bold 12px sans-serif",p.fillText(A.name.slice(0,4),w-20,4),p.restore()}),p.beginPath(),p.arc(y,x,30,0,2*Math.PI),p.fillStyle="#1e293b",p.fill(),p.strokeStyle="#f97316",p.lineWidth=3,p.stroke(),p.beginPath(),p.moveTo(y+w+10,x),p.lineTo(y+w-10,x-10),p.lineTo(y+w-10,x+10),p.closePath(),p.fillStyle="#f97316",p.fill()},[t,r]);const d=()=>{if(n)return;s(!0),l(null);const f=5+Math.random()*5,p=r+f*360,y=Math.floor((360-p%360)/360*t.length)%t.length,x=4e3,w=Date.now(),T=r,S=()=>{const A=Date.now()-w,N=Math.min(A/x,1),P=1-Math.pow(1-N,3),O=T+(p-T)*P;i(O),N<1?requestAnimationFrame(S):(s(!1),l(t[y]),e({team:t[y],position:y+1,animation:"roulette"}))};requestAnimationFrame(S)};return m.jsxs("div",{"code-path":"src/components/DrawAnimation.tsx:456:5",className:"text-center",children:[m.jsxs("div",{"code-path":"src/components/DrawAnimation.tsx:458:7",className:"relative h-80 mb-8 flex items-center justify-center",children:[m.jsx("canvas",{"code-path":"src/components/DrawAnimation.tsx:459:9",ref:u,width:320,height:320,className:"rounded-full"}),m.jsx(On,{"code-path":"src/components/DrawAnimation.tsx:467:9",children:o&&!n&&m.jsx(ve.div,{"code-path":"src/components/DrawAnimation.tsx:469:13",initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5},className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-full",children:m.jsxs("div",{"code-path":"src/components/DrawAnimation.tsx:475:15",className:"text-center",children:[m.jsx(Cn,{"code-path":"src/components/DrawAnimation.tsx:476:17",className:"w-12 h-12 text-yellow-400 mx-auto mb-2"}),m.jsx("p",{"code-path":"src/components/DrawAnimation.tsx:477:17",className:"text-2xl font-bold text-white",children:o.name}),m.jsx("p",{"code-path":"src/components/DrawAnimation.tsx:478:17",className:"text-orange-400",children:""})]})})})]}),m.jsxs(De,{"code-path":"src/components/DrawAnimation.tsx:486:7",onClick:d,disabled:n,className:`
          px-8 py-4 text-lg font-bold rounded-xl transition-all
          ${n?"bg-slate-700 cursor-not-allowed":"bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-600 hover:to-teal-600"}
        `,children:[n?m.jsx(ve.div,{"code-path":"src/components/DrawAnimation.tsx:497:11",animate:{rotate:360},transition:{duration:.3,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full mr-2 inline-block"}):m.jsx(i6,{"code-path":"src/components/DrawAnimation.tsx:503:11",className:"w-5 h-5 mr-2 inline"}),n?"...":""]})]})}function xge({teams:t,onComplete:e,animationType:n="slot"}){const[s,r]=_.useState(t),[i,o]=_.useState([]),[l,u]=_.useState(n),{addToast:d}=Gr(),f=w=>{const T=[...i,w];o(T),r(S=>S.map(A=>A.id===w.team.id?{...A,drawn:!0}:A)),d({title:"",description:`${w.team.name}  ${w.position}`,variant:"success"}),T.length===t.length&&e?.(T)},p=()=>{o([]),r(t.map(w=>({...w,drawn:!1})))},y=s.filter(w=>!w.drawn),x=i.length/t.length*100;return m.jsxs("div",{"code-path":"src/components/DrawAnimation.tsx:562:5",className:"space-y-6",children:[m.jsxs("div",{"code-path":"src/components/DrawAnimation.tsx:564:7",className:"flex items-center justify-between",children:[m.jsxs("div",{"code-path":"src/components/DrawAnimation.tsx:565:9",className:"flex items-center gap-4",children:[m.jsxs("div",{"code-path":"src/components/DrawAnimation.tsx:566:11",className:"flex items-center gap-2",children:[m.jsx(Ss,{"code-path":"src/components/DrawAnimation.tsx:567:13",className:"w-5 h-5 text-slate-400"}),m.jsxs("span",{"code-path":"src/components/DrawAnimation.tsx:568:13",className:"text-slate-400",children:[": ",m.jsx("span",{"code-path":"src/components/DrawAnimation.tsx:569:20",className:"text-white font-bold",children:i.length})," / ",t.length]})]}),m.jsx("div",{"code-path":"src/components/DrawAnimation.tsx:572:11",className:"w-32 h-2 bg-slate-700 rounded-full overflow-hidden",children:m.jsx(ve.div,{"code-path":"src/components/DrawAnimation.tsx:573:13",className:"h-full bg-gradient-to-r from-orange-500 to-red-500",initial:{width:0},animate:{width:`${x}%`}})})]}),m.jsx("div",{"code-path":"src/components/DrawAnimation.tsx:582:9",className:"flex items-center gap-2",children:["slot","shuffle","roulette"].map(w=>m.jsxs("button",{"code-path":"src/components/DrawAnimation.tsx:584:13",onClick:()=>u(w),className:`
                px-3 py-1.5 rounded-lg text-sm transition-colors
                ${l===w?"bg-orange-500 text-white":"bg-slate-700 text-slate-400 hover:bg-slate-600"}
              `,children:[w==="slot"&&"",w==="shuffle"&&"",w==="roulette"&&""]},w))})]}),m.jsx(kt,{"code-path":"src/components/DrawAnimation.tsx:603:7",className:"p-8 bg-slate-800 border-slate-700",children:y.length>0?m.jsxs(m.Fragment,{children:[l==="slot"&&m.jsx(mge,{"code-path":"src/components/DrawAnimation.tsx:607:15",teams:y,onComplete:f}),l==="shuffle"&&m.jsx(gge,{"code-path":"src/components/DrawAnimation.tsx:610:15",teams:y,onComplete:f}),l==="roulette"&&m.jsx(yge,{"code-path":"src/components/DrawAnimation.tsx:613:15",teams:y,onComplete:f})]}):m.jsxs("div",{"code-path":"src/components/DrawAnimation.tsx:617:11",className:"text-center py-12",children:[m.jsx(ve.div,{"code-path":"src/components/DrawAnimation.tsx:618:13",initial:{scale:0},animate:{scale:1},className:"w-20 h-20 bg-emerald-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx(ao,{"code-path":"src/components/DrawAnimation.tsx:623:15",className:"w-10 h-10 text-emerald-400"})}),m.jsx("h3",{"code-path":"src/components/DrawAnimation.tsx:625:13",className:"text-2xl font-bold text-white mb-2",children:""}),m.jsx("p",{"code-path":"src/components/DrawAnimation.tsx:626:13",className:"text-slate-400 mb-6",children:""}),m.jsxs(De,{"code-path":"src/components/DrawAnimation.tsx:627:13",onClick:p,variant:"outline",children:[m.jsx(i6,{"code-path":"src/components/DrawAnimation.tsx:628:15",className:"w-4 h-4 mr-2"}),""]})]})}),i.length>0&&m.jsxs(kt,{"code-path":"src/components/DrawAnimation.tsx:637:9",className:"p-4 bg-slate-800 border-slate-700",children:[m.jsxs("h4",{"code-path":"src/components/DrawAnimation.tsx:638:11",className:"font-bold text-white mb-3 flex items-center gap-2",children:[m.jsx(Cn,{"code-path":"src/components/DrawAnimation.tsx:639:13",className:"w-4 h-4 text-orange-500"}),""]}),m.jsx("div",{"code-path":"src/components/DrawAnimation.tsx:642:11",className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:i.map((w,T)=>m.jsxs(ve.div,{"code-path":"src/components/DrawAnimation.tsx:644:15",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:T*.05},className:"flex items-center gap-2 p-2 bg-slate-900 rounded-lg",children:[m.jsx("span",{"code-path":"src/components/DrawAnimation.tsx:651:17",className:"w-6 h-6 bg-orange-500 rounded-full flex items-center justify-center text-xs font-bold text-white",children:w.position}),m.jsx("span",{"code-path":"src/components/DrawAnimation.tsx:654:17",className:"text-sm text-white truncate",children:w.team.name})]},w.team.id))})]})]})}const vge=[{id:1,name:"",contact:"",phone:"0912-345-678",email:"team1@example.com",status:"",paid:!0,registeredAt:"2026-01-15"}],bge=[{id:"1",name:"",category:"",gold:3,silver:2,bronze:1}];function wge({setRoute:t}){const[e,n]=_.useState("overview"),{addToast:s}=Gr(),{currentUser:r}=mo(),[i,o]=_.useState(null),[l,u]=_.useState([]),[d,f]=_.useState(!0),[p,y]=_.useState(!1);_.useEffect(()=>{(async()=>{if(r)try{const N=Fd(Jo(ws,"events"),C0("organizerId","==",r.uid)),P=await Hd(N);P.empty||o({id:P.docs[0].id,...P.docs[0].data()})}catch(N){console.error(":",N)}finally{f(!1)}})()},[r]),_.useEffect(()=>{(async()=>{if(i){y(!0);try{const N=Fd(Jo(ws,"registrations"),C0("eventId","==",i.id)),P=await Hd(N);u(P.docs.map(O=>({id:O.id,...O.data()})))}catch(N){console.error(":",N)}finally{y(!1)}}})()},[i]);const x=async(A,N)=>{try{const P=xl(ws,"registrations",A);await GE(P,{status:N}),u(O=>O.map(L=>L.id===A?{...L,status:N}:L)),s({title:N==="approved"?"":"",variant:N==="approved"?"success":"error"})}catch(P){console.error(":",P),s({title:"",variant:"error"})}},w=vge.map(A=>({id:A.id.toString(),name:A.name})),T=[{id:"overview",label:"",icon:ZI},{id:"registration",label:"",icon:Ss},{id:"cms",label:"",icon:QL},{id:"formbuilder",label:"",icon:Jse},{id:"bracket",label:"",icon:Cn},{id:"scheduler",label:"",icon:u2},{id:"draw",label:"",icon:o6},{id:"ranking",label:"",icon:Gy}];if(d)return m.jsx("div",{"code-path":"src/pages/Dashboard.tsx:124:12",className:"flex h-screen items-center justify-center bg-slate-950",children:m.jsx(mi,{"code-path":"src/pages/Dashboard.tsx:124:84",className:"w-10 h-10 animate-spin text-orange-500"})});const S=l.filter(A=>A.status==="pending").length;return m.jsxs("div",{"code-path":"src/pages/Dashboard.tsx:131:5",className:"flex h-[calc(100vh-64px)] overflow-hidden",children:[m.jsxs("div",{"code-path":"src/pages/Dashboard.tsx:133:7",className:"w-64 bg-slate-900 border-r border-slate-800 flex flex-col justify-between",children:[m.jsxs("div",{"code-path":"src/pages/Dashboard.tsx:134:9",className:"p-4 flex flex-col gap-2 overflow-y-auto",children:[m.jsxs("div",{"code-path":"src/pages/Dashboard.tsx:135:11",className:"mb-6 px-2",children:[m.jsx("h2",{"code-path":"src/pages/Dashboard.tsx:136:13",className:"text-sm font-bold text-slate-500 uppercase tracking-wider",children:i?i.sport:""}),m.jsx("p",{"code-path":"src/pages/Dashboard.tsx:139:13",className:"text-white text-lg font-semibold mt-1 leading-tight truncate",children:i?i.name:""})]}),T.map(A=>m.jsxs("button",{"code-path":"src/pages/Dashboard.tsx:144:13",onClick:()=>n(A.id),className:`
                flex items-center justify-between px-4 py-3 rounded-lg text-sm font-medium transition-all
                ${e===A.id?"bg-orange-500/10 text-orange-500":"text-slate-400 hover:bg-slate-800 hover:text-white"}
              `,children:[m.jsxs("div",{"code-path":"src/pages/Dashboard.tsx:152:15",className:"flex items-center gap-3",children:[m.jsx(A.icon,{"code-path":"src/pages/Dashboard.tsx:153:17",className:"w-5 h-5"}),A.label]}),A.id==="registration"&&S>0&&m.jsx("span",{"code-path":"src/pages/Dashboard.tsx:158:17",className:"bg-red-500 text-white text-[10px] px-2 py-0.5 rounded-full",children:S})]},A.id))]}),m.jsx("div",{"code-path":"src/pages/Dashboard.tsx:163:9",className:"p-4 border-t border-slate-800 bg-slate-900/50",children:m.jsxs(De,{"code-path":"src/pages/Dashboard.tsx:164:12",variant:"outline",className:"w-full justify-start border-slate-700 hover:bg-slate-800 text-slate-300",onClick:()=>t("public_event"),children:[m.jsx(Vse,{"code-path":"src/pages/Dashboard.tsx:169:14",className:"w-4 h-4 mr-2"})," "]})})]}),m.jsxs("div",{"code-path":"src/pages/Dashboard.tsx:175:7",className:"flex-1 overflow-y-auto p-8 bg-slate-950",children:[!i&&e==="overview"?m.jsxs("div",{"code-path":"src/pages/Dashboard.tsx:177:11",className:"flex flex-col items-center justify-center h-full text-center space-y-4",children:[m.jsx(Cn,{"code-path":"src/pages/Dashboard.tsx:178:13",className:"w-16 h-16 text-slate-700"}),m.jsx("h2",{"code-path":"src/pages/Dashboard.tsx:179:13",className:"text-2xl font-bold text-white",children:""}),m.jsx(De,{"code-path":"src/pages/Dashboard.tsx:180:13",onClick:()=>t("wizard"),className:"bg-orange-500 hover:bg-orange-600 text-white",children:""})]}):e==="overview"&&m.jsxs(vs,{"code-path":"src/pages/Dashboard.tsx:185:11",className:"space-y-6",children:[m.jsx("h2",{"code-path":"src/pages/Dashboard.tsx:186:13",className:"text-2xl font-bold text-white mb-6",children:""}),m.jsx("div",{"code-path":"src/pages/Dashboard.tsx:187:13",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{label:"",value:l.length.toString(),color:"text-orange-500",icon:Ss},{label:"",value:S.toString(),color:"text-amber-500",icon:Zc},{label:"",value:i?.requirePayment?`$${i.registrationFee}`:"",color:"text-emerald-500",icon:ao},{label:"",value:"1,204",color:"text-blue-500",icon:ZI}].map((A,N)=>m.jsx(ve.div,{"code-path":"src/pages/Dashboard.tsx:194:17",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:N*.1},children:m.jsxs(kt,{"code-path":"src/pages/Dashboard.tsx:195:19",className:"p-6 bg-slate-800 border-slate-700 hover:border-slate-600 transition-colors",children:[m.jsxs("div",{"code-path":"src/pages/Dashboard.tsx:196:21",className:"flex items-center justify-between mb-2",children:[m.jsx("p",{"code-path":"src/pages/Dashboard.tsx:197:23",className:"text-sm text-slate-400 font-medium",children:A.label}),m.jsx(A.icon,{"code-path":"src/pages/Dashboard.tsx:198:23",className:`w-5 h-5 ${A.color}`})]}),m.jsx("p",{"code-path":"src/pages/Dashboard.tsx:200:21",className:`text-3xl font-bold ${A.color}`,children:A.value})]})},A.label))})]}),e==="registration"&&m.jsxs(vs,{"code-path":"src/pages/Dashboard.tsx:210:11",children:[m.jsxs("div",{"code-path":"src/pages/Dashboard.tsx:211:13",className:"flex justify-between items-center mb-6",children:[m.jsx("h2",{"code-path":"src/pages/Dashboard.tsx:212:15",className:"text-2xl font-bold text-white",children:""}),m.jsxs(De,{"code-path":"src/pages/Dashboard.tsx:213:15",variant:"outline",className:"border-slate-700 text-slate-300",children:[m.jsx(YL,{"code-path":"src/pages/Dashboard.tsx:214:17",className:"w-4 h-4 mr-2"})," "]})]}),m.jsx(kt,{"code-path":"src/pages/Dashboard.tsx:218:13",className:"bg-slate-800 border-slate-700 overflow-hidden",children:p?m.jsxs("div",{"code-path":"src/pages/Dashboard.tsx:220:17",className:"flex flex-col items-center justify-center py-20 text-slate-400",children:[m.jsx(mi,{"code-path":"src/pages/Dashboard.tsx:221:19",className:"w-8 h-8 animate-spin text-orange-500 mb-4"}),"..."]}):l.length===0?m.jsxs("div",{"code-path":"src/pages/Dashboard.tsx:225:17",className:"text-center py-20 text-slate-400",children:[m.jsx(Ss,{"code-path":"src/pages/Dashboard.tsx:226:19",className:"w-12 h-12 mx-auto mb-4 text-slate-600"}),""]}):m.jsx("div",{"code-path":"src/pages/Dashboard.tsx:230:17",className:"overflow-x-auto",children:m.jsxs("table",{"code-path":"src/pages/Dashboard.tsx:231:19",className:"w-full text-left border-collapse",children:[m.jsx("thead",{"code-path":"src/pages/Dashboard.tsx:232:21",children:m.jsxs("tr",{"code-path":"src/pages/Dashboard.tsx:233:23",className:"bg-slate-900/50 border-b border-slate-700 text-slate-400 text-sm",children:[m.jsx("th",{"code-path":"src/pages/Dashboard.tsx:234:25",className:"p-4 font-medium",children:""}),m.jsx("th",{"code-path":"src/pages/Dashboard.tsx:235:25",className:"p-4 font-medium",children:""}),m.jsx("th",{"code-path":"src/pages/Dashboard.tsx:236:25",className:"p-4 font-medium",children:""}),m.jsx("th",{"code-path":"src/pages/Dashboard.tsx:237:25",className:"p-4 font-medium",children:""}),m.jsx("th",{"code-path":"src/pages/Dashboard.tsx:238:25",className:"p-4 font-medium text-right",children:""})]})}),m.jsx("tbody",{"code-path":"src/pages/Dashboard.tsx:241:21",children:l.map(A=>m.jsxs("tr",{"code-path":"src/pages/Dashboard.tsx:243:25",className:"border-b border-slate-700 hover:bg-slate-750 transition-colors",children:[m.jsx("td",{"code-path":"src/pages/Dashboard.tsx:244:27",className:"p-4 text-white font-medium",children:A.teamName}),m.jsx("td",{"code-path":"src/pages/Dashboard.tsx:245:27",className:"p-4 text-slate-300",children:A.captainEmail}),m.jsx("td",{"code-path":"src/pages/Dashboard.tsx:246:27",className:"p-4 text-slate-400 text-sm",children:A.createdAt?.toDate?A.createdAt.toDate().toLocaleDateString():""}),m.jsxs("td",{"code-path":"src/pages/Dashboard.tsx:249:27",className:"p-4",children:[A.status==="pending"&&m.jsx(Vc,{"code-path":"src/pages/Dashboard.tsx:250:58",className:"bg-amber-500/20 text-amber-400 border-amber-500/30",children:""}),A.status==="approved"&&m.jsx(Vc,{"code-path":"src/pages/Dashboard.tsx:251:59",className:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",children:""}),A.status==="rejected"&&m.jsx(Vc,{"code-path":"src/pages/Dashboard.tsx:252:59",className:"bg-red-500/20 text-red-400 border-red-500/30",children:""})]}),m.jsx("td",{"code-path":"src/pages/Dashboard.tsx:254:27",className:"p-4 text-right space-x-2",children:A.status==="pending"?m.jsxs(m.Fragment,{children:[m.jsxs(De,{"code-path":"src/pages/Dashboard.tsx:257:33",size:"sm",variant:"outline",className:"border-emerald-500/50 text-emerald-400 hover:bg-emerald-500/10",onClick:()=>x(A.id,"approved"),children:[m.jsx(yv,{"code-path":"src/pages/Dashboard.tsx:258:35",className:"w-4 h-4 mr-1"})," "]}),m.jsxs(De,{"code-path":"src/pages/Dashboard.tsx:260:33",size:"sm",variant:"outline",className:"border-red-500/50 text-red-400 hover:bg-red-500/10",onClick:()=>x(A.id,"rejected"),children:[m.jsx(hu,{"code-path":"src/pages/Dashboard.tsx:261:35",className:"w-4 h-4 mr-1"})," "]})]}):m.jsx("span",{"code-path":"src/pages/Dashboard.tsx:265:31",className:"text-sm text-slate-500",children:""})})]},A.id))})]})})})]}),e==="cms"&&m.jsxs(vs,{"code-path":"src/pages/Dashboard.tsx:279:33",children:[m.jsx("h2",{"code-path":"src/pages/Dashboard.tsx:279:41",className:"text-2xl font-bold text-white mb-4",children:""}),m.jsx(kt,{"code-path":"src/pages/Dashboard.tsx:279:101",className:"p-6 bg-slate-800 border-slate-700",children:m.jsx(pge,{"code-path":"src/pages/Dashboard.tsx:279:153"})})]}),e==="formbuilder"&&m.jsxs(vs,{"code-path":"src/pages/Dashboard.tsx:280:41",children:[m.jsx("h2",{"code-path":"src/pages/Dashboard.tsx:280:49",className:"text-2xl font-bold text-white mb-4",children:""}),m.jsx(kt,{"code-path":"src/pages/Dashboard.tsx:280:110",className:"h-[calc(100%-4rem)] bg-slate-900 border-slate-700 overflow-hidden",children:m.jsx(sle,{"code-path":"src/pages/Dashboard.tsx:280:194"})})]}),e==="bracket"&&m.jsxs(vs,{"code-path":"src/pages/Dashboard.tsx:281:37",children:[m.jsx("h2",{"code-path":"src/pages/Dashboard.tsx:281:45",className:"text-2xl font-bold text-white mb-4",children:""}),m.jsx(kt,{"code-path":"src/pages/Dashboard.tsx:281:106",className:"h-[calc(100%-4rem)] bg-slate-900 border-slate-700 overflow-hidden",children:m.jsx(ale,{"code-path":"src/pages/Dashboard.tsx:281:190"})})]}),e==="scheduler"&&m.jsxs(vs,{"code-path":"src/pages/Dashboard.tsx:282:39",children:[m.jsx("h2",{"code-path":"src/pages/Dashboard.tsx:282:47",className:"text-2xl font-bold text-white mb-4",children:""}),m.jsx(kt,{"code-path":"src/pages/Dashboard.tsx:282:107",className:"h-[calc(100%-4rem)] bg-slate-900 border-slate-700 overflow-hidden",children:m.jsx(ple,{"code-path":"src/pages/Dashboard.tsx:282:191"})})]}),e==="draw"&&m.jsxs(vs,{"code-path":"src/pages/Dashboard.tsx:283:34",children:[m.jsx("h2",{"code-path":"src/pages/Dashboard.tsx:283:42",className:"text-2xl font-bold text-white mb-4",children:""}),m.jsx(kt,{"code-path":"src/pages/Dashboard.tsx:283:102",className:"p-6 bg-slate-800 border-slate-700",children:m.jsx(xge,{"code-path":"src/pages/Dashboard.tsx:283:154",teams:w,onComplete:()=>{}})})]}),e==="ranking"&&m.jsxs(vs,{"code-path":"src/pages/Dashboard.tsx:284:37",children:[m.jsx("h2",{"code-path":"src/pages/Dashboard.tsx:284:45",className:"text-2xl font-bold text-white mb-4",children:""}),m.jsx(soe,{"code-path":"src/pages/Dashboard.tsx:284:105",data:bge,type:"school",showPoints:!0})]})]})]})}function d4(t,[e,n]){return Math.min(n,Math.max(e,t))}function Sn(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t?.(r),n===!1||!r.defaultPrevented)return e?.(r)}}function oA(t,e=[]){let n=[];function s(i,o){const l=_.createContext(o),u=n.length;n=[...n,o];const d=p=>{const{scope:y,children:x,...w}=p,T=y?.[t]?.[u]||l,S=_.useMemo(()=>w,Object.values(w));return m.jsx(T.Provider,{value:S,children:x})};d.displayName=i+"Provider";function f(p,y){const x=y?.[t]?.[u]||l,w=_.useContext(x);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[d,f]}const r=()=>{const i=n.map(o=>_.createContext(o));return function(l){const u=l?.[t]||i;return _.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return r.scopeName=t,[s,Ege(r,...e)]}function Ege(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(i){const o=s.reduce((l,{useScope:u,scopeName:d})=>{const p=u(i)[`__scope${d}`];return{...l,...p}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function h4(t){const e=Sge(t),n=_.forwardRef((s,r)=>{const{children:i,...o}=s,l=_.Children.toArray(i),u=l.find(_ge);if(u){const d=u.props.children,f=l.map(p=>p===u?_.Children.count(d)>1?_.Children.only(null):_.isValidElement(d)?d.props.children:null:p);return m.jsx(e,{...o,ref:r,children:_.isValidElement(d)?_.cloneElement(d,void 0,f):null})}return m.jsx(e,{...o,ref:r,children:i})});return n.displayName=`${t}.Slot`,n}function Sge(t){const e=_.forwardRef((n,s)=>{const{children:r,...i}=n;if(_.isValidElement(r)){const o=Cge(r),l=Age(i,r.props);return r.type!==_.Fragment&&(l.ref=s?xm(s,o):o),_.cloneElement(r,l)}return _.Children.count(r)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Tge=Symbol("radix.slottable");function _ge(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Tge}function Age(t,e){const n={...e};for(const s in e){const r=t[s],i=e[s];/^on[A-Z]/.test(s)?r&&i?n[s]=(...l)=>{const u=i(...l);return r(...l),u}:r&&(n[s]=r):s==="style"?n[s]={...r,...i}:s==="className"&&(n[s]=[r,i].filter(Boolean).join(" "))}return{...t,...n}}function Cge(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function kge(t){const e=t+"CollectionProvider",[n,s]=oA(e),[r,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=T=>{const{scope:S,children:A}=T,N=et.useRef(null),P=et.useRef(new Map).current;return m.jsx(r,{scope:S,itemMap:P,collectionRef:N,children:A})};o.displayName=e;const l=t+"CollectionSlot",u=h4(l),d=et.forwardRef((T,S)=>{const{scope:A,children:N}=T,P=i(l,A),O=cs(S,P.collectionRef);return m.jsx(u,{ref:O,children:N})});d.displayName=l;const f=t+"CollectionItemSlot",p="data-radix-collection-item",y=h4(f),x=et.forwardRef((T,S)=>{const{scope:A,children:N,...P}=T,O=et.useRef(null),L=cs(S,O),F=i(f,A);return et.useEffect(()=>(F.itemMap.set(O,{ref:O,...P}),()=>{F.itemMap.delete(O)})),m.jsx(y,{[p]:"",ref:L,children:N})});x.displayName=f;function w(T){const S=i(t+"CollectionConsumer",T);return et.useCallback(()=>{const N=S.collectionRef.current;if(!N)return[];const P=Array.from(N.querySelectorAll(`[${p}]`));return Array.from(S.itemMap.values()).sort((F,I)=>P.indexOf(F.ref.current)-P.indexOf(I.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:o,Slot:d,ItemSlot:x},w,s]}var Nge=_.createContext(void 0);function Rge(t){const e=_.useContext(Nge);return t||e||"ltr"}function Mge(t){const e=Ige(t),n=_.forwardRef((s,r)=>{const{children:i,...o}=s,l=_.Children.toArray(i),u=l.find(Pge);if(u){const d=u.props.children,f=l.map(p=>p===u?_.Children.count(d)>1?_.Children.only(null):_.isValidElement(d)?d.props.children:null:p);return m.jsx(e,{...o,ref:r,children:_.isValidElement(d)?_.cloneElement(d,void 0,f):null})}return m.jsx(e,{...o,ref:r,children:i})});return n.displayName=`${t}.Slot`,n}function Ige(t){const e=_.forwardRef((n,s)=>{const{children:r,...i}=n;if(_.isValidElement(r)){const o=jge(r),l=Oge(i,r.props);return r.type!==_.Fragment&&(l.ref=s?xm(s,o):o),_.cloneElement(r,l)}return _.Children.count(r)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Dge=Symbol("radix.slottable");function Pge(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Dge}function Oge(t,e){const n={...e};for(const s in e){const r=t[s],i=e[s];/^on[A-Z]/.test(s)?r&&i?n[s]=(...l)=>{const u=i(...l);return r(...l),u}:r&&(n[s]=r):s==="style"?n[s]={...r,...i}:s==="className"&&(n[s]=[r,i].filter(Boolean).join(" "))}return{...t,...n}}function jge(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Lge=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],hn=Lge.reduce((t,e)=>{const n=Mge(`Primitive.${e}`),s=_.forwardRef((r,i)=>{const{asChild:o,...l}=r,u=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(u,{...l,ref:i})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{});function Vge(t,e){t&&Ki.flushSync(()=>t.dispatchEvent(e))}function iu(t){const e=_.useRef(t);return _.useEffect(()=>{e.current=t}),_.useMemo(()=>(...n)=>e.current?.(...n),[])}function zge(t,e=globalThis?.document){const n=iu(t);_.useEffect(()=>{const s=r=>{r.key==="Escape"&&n(r)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[n,e])}var Bge="DismissableLayer",iT="dismissableLayer.update",Uge="dismissableLayer.pointerDownOutside",Fge="dismissableLayer.focusOutside",f4,Yz=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Xz=_.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:r,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...u}=t,d=_.useContext(Yz),[f,p]=_.useState(null),y=f?.ownerDocument??globalThis?.document,[,x]=_.useState({}),w=cs(e,I=>p(I)),T=Array.from(d.layers),[S]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),A=T.indexOf(S),N=f?T.indexOf(f):-1,P=d.layersWithOutsidePointerEventsDisabled.size>0,O=N>=A,L=qge(I=>{const R=I.target,D=[...d.branches].some(z=>z.contains(R));!O||D||(r?.(I),o?.(I),I.defaultPrevented||l?.())},y),F=Wge(I=>{const R=I.target;[...d.branches].some(z=>z.contains(R))||(i?.(I),o?.(I),I.defaultPrevented||l?.())},y);return zge(I=>{N===d.layers.size-1&&(s?.(I),!I.defaultPrevented&&l&&(I.preventDefault(),l()))},y),_.useEffect(()=>{if(f)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(f4=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),p4(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=f4)}},[f,y,n,d]),_.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),p4())},[f,d]),_.useEffect(()=>{const I=()=>x({});return document.addEventListener(iT,I),()=>document.removeEventListener(iT,I)},[]),m.jsx(hn.div,{...u,ref:w,style:{pointerEvents:P?O?"auto":"none":void 0,...t.style},onFocusCapture:Sn(t.onFocusCapture,F.onFocusCapture),onBlurCapture:Sn(t.onBlurCapture,F.onBlurCapture),onPointerDownCapture:Sn(t.onPointerDownCapture,L.onPointerDownCapture)})});Xz.displayName=Bge;var Hge="DismissableLayerBranch",$ge=_.forwardRef((t,e)=>{const n=_.useContext(Yz),s=_.useRef(null),r=cs(e,s);return _.useEffect(()=>{const i=s.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),m.jsx(hn.div,{...t,ref:r})});$ge.displayName=Hge;function qge(t,e=globalThis?.document){const n=iu(t),s=_.useRef(!1),r=_.useRef(()=>{});return _.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let u=function(){Qz(Uge,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=u,e.addEventListener("click",r.current,{once:!0})):u()}else e.removeEventListener("click",r.current);s.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",r.current)}},[e,n]),{onPointerDownCapture:()=>s.current=!0}}function Wge(t,e=globalThis?.document){const n=iu(t),s=_.useRef(!1);return _.useEffect(()=>{const r=i=>{i.target&&!s.current&&Qz(Fge,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function p4(){const t=new CustomEvent(iT);document.dispatchEvent(t)}function Qz(t,e,n,{discrete:s}){const r=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),s?Vge(r,i):r.dispatchEvent(i)}var hE=0;function Kge(){_.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??m4()),document.body.insertAdjacentElement("beforeend",t[1]??m4()),hE++,()=>{hE===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),hE--}},[])}function m4(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var fE="focusScope.autoFocusOnMount",pE="focusScope.autoFocusOnUnmount",g4={bubbles:!1,cancelable:!0},Gge="FocusScope",Jz=_.forwardRef((t,e)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:r,onUnmountAutoFocus:i,...o}=t,[l,u]=_.useState(null),d=iu(r),f=iu(i),p=_.useRef(null),y=cs(e,T=>u(T)),x=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(s){let T=function(P){if(x.paused||!l)return;const O=P.target;l.contains(O)?p.current=O:Qa(p.current,{select:!0})},S=function(P){if(x.paused||!l)return;const O=P.relatedTarget;O!==null&&(l.contains(O)||Qa(p.current,{select:!0}))},A=function(P){if(document.activeElement===document.body)for(const L of P)L.removedNodes.length>0&&Qa(l)};document.addEventListener("focusin",T),document.addEventListener("focusout",S);const N=new MutationObserver(A);return l&&N.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",T),document.removeEventListener("focusout",S),N.disconnect()}}},[s,l,x.paused]),_.useEffect(()=>{if(l){x4.add(x);const T=document.activeElement;if(!l.contains(T)){const A=new CustomEvent(fE,g4);l.addEventListener(fE,d),l.dispatchEvent(A),A.defaultPrevented||(Yge(eye(Zz(l)),{select:!0}),document.activeElement===T&&Qa(l))}return()=>{l.removeEventListener(fE,d),setTimeout(()=>{const A=new CustomEvent(pE,g4);l.addEventListener(pE,f),l.dispatchEvent(A),A.defaultPrevented||Qa(T??document.body,{select:!0}),l.removeEventListener(pE,f),x4.remove(x)},0)}}},[l,d,f,x]);const w=_.useCallback(T=>{if(!n&&!s||x.paused)return;const S=T.key==="Tab"&&!T.altKey&&!T.ctrlKey&&!T.metaKey,A=document.activeElement;if(S&&A){const N=T.currentTarget,[P,O]=Xge(N);P&&O?!T.shiftKey&&A===O?(T.preventDefault(),n&&Qa(P,{select:!0})):T.shiftKey&&A===P&&(T.preventDefault(),n&&Qa(O,{select:!0})):A===N&&T.preventDefault()}},[n,s,x.paused]);return m.jsx(hn.div,{tabIndex:-1,...o,ref:y,onKeyDown:w})});Jz.displayName=Gge;function Yge(t,{select:e=!1}={}){const n=document.activeElement;for(const s of t)if(Qa(s,{select:e}),document.activeElement!==n)return}function Xge(t){const e=Zz(t),n=y4(e,t),s=y4(e.reverse(),t);return[n,s]}function Zz(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function y4(t,e){for(const n of t)if(!Qge(n,{upTo:e}))return n}function Qge(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Jge(t){return t instanceof HTMLInputElement&&"select"in t}function Qa(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Jge(t)&&e&&t.select()}}var x4=Zge();function Zge(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=v4(t,e),t.unshift(e)},remove(e){t=v4(t,e),t[0]?.resume()}}}function v4(t,e){const n=[...t],s=n.indexOf(e);return s!==-1&&n.splice(s,1),n}function eye(t){return t.filter(e=>e.tagName!=="A")}var Zs=globalThis?.document?_.useLayoutEffect:()=>{},tye=mT[" useId ".trim().toString()]||(()=>{}),nye=0;function aA(t){const[e,n]=_.useState(tye());return Zs(()=>{n(s=>s??String(nye++))},[t]),t||(e?`radix-${e}`:"")}const sye=["top","right","bottom","left"],Ol=Math.min,mr=Math.max,Lx=Math.round,Ty=Math.floor,so=t=>({x:t,y:t}),rye={left:"right",right:"left",bottom:"top",top:"bottom"},iye={start:"end",end:"start"};function oT(t,e,n){return mr(t,Ol(e,n))}function aa(t,e){return typeof t=="function"?t(e):t}function la(t){return t.split("-")[0]}function bh(t){return t.split("-")[1]}function lA(t){return t==="x"?"y":"x"}function cA(t){return t==="y"?"height":"width"}const oye=new Set(["top","bottom"]);function Gi(t){return oye.has(la(t))?"y":"x"}function uA(t){return lA(Gi(t))}function aye(t,e,n){n===void 0&&(n=!1);const s=bh(t),r=uA(t),i=cA(r);let o=r==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Vx(o)),[o,Vx(o)]}function lye(t){const e=Vx(t);return[aT(t),e,aT(e)]}function aT(t){return t.replace(/start|end/g,e=>iye[e])}const b4=["left","right"],w4=["right","left"],cye=["top","bottom"],uye=["bottom","top"];function dye(t,e,n){switch(t){case"top":case"bottom":return n?e?w4:b4:e?b4:w4;case"left":case"right":return e?cye:uye;default:return[]}}function hye(t,e,n,s){const r=bh(t);let i=dye(la(t),n==="start",s);return r&&(i=i.map(o=>o+"-"+r),e&&(i=i.concat(i.map(aT)))),i}function Vx(t){return t.replace(/left|right|bottom|top/g,e=>rye[e])}function fye(t){return{top:0,right:0,bottom:0,left:0,...t}}function eB(t){return typeof t!="number"?fye(t):{top:t,right:t,bottom:t,left:t}}function zx(t){const{x:e,y:n,width:s,height:r}=t;return{width:s,height:r,top:n,left:e,right:e+s,bottom:n+r,x:e,y:n}}function E4(t,e,n){let{reference:s,floating:r}=t;const i=Gi(e),o=uA(e),l=cA(o),u=la(e),d=i==="y",f=s.x+s.width/2-r.width/2,p=s.y+s.height/2-r.height/2,y=s[l]/2-r[l]/2;let x;switch(u){case"top":x={x:f,y:s.y-r.height};break;case"bottom":x={x:f,y:s.y+s.height};break;case"right":x={x:s.x+s.width,y:p};break;case"left":x={x:s.x-r.width,y:p};break;default:x={x:s.x,y:s.y}}switch(bh(e)){case"start":x[o]-=y*(n&&d?-1:1);break;case"end":x[o]+=y*(n&&d?-1:1);break}return x}const pye=async(t,e,n)=>{const{placement:s="bottom",strategy:r="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:r}),{x:f,y:p}=E4(d,s,u),y=s,x={},w=0;for(let T=0;T<l.length;T++){const{name:S,fn:A}=l[T],{x:N,y:P,data:O,reset:L}=await A({x:f,y:p,initialPlacement:s,placement:y,strategy:r,middlewareData:x,rects:d,platform:o,elements:{reference:t,floating:e}});f=N??f,p=P??p,x={...x,[S]:{...x[S],...O}},L&&w<=50&&(w++,typeof L=="object"&&(L.placement&&(y=L.placement),L.rects&&(d=L.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:r}):L.rects),{x:f,y:p}=E4(d,y,u)),T=-1)}return{x:f,y:p,placement:y,strategy:r,middlewareData:x}};async function Xp(t,e){var n;e===void 0&&(e={});const{x:s,y:r,platform:i,rects:o,elements:l,strategy:u}=t,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:y=!1,padding:x=0}=aa(e,t),w=eB(x),S=l[y?p==="floating"?"reference":"floating":p],A=zx(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(S)))==null||n?S:S.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:u})),N=p==="floating"?{x:s,y:r,width:o.floating.width,height:o.floating.height}:o.reference,P=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),O=await(i.isElement==null?void 0:i.isElement(P))?await(i.getScale==null?void 0:i.getScale(P))||{x:1,y:1}:{x:1,y:1},L=zx(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:N,offsetParent:P,strategy:u}):N);return{top:(A.top-L.top+w.top)/O.y,bottom:(L.bottom-A.bottom+w.bottom)/O.y,left:(A.left-L.left+w.left)/O.x,right:(L.right-A.right+w.right)/O.x}}const mye=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:s,placement:r,rects:i,platform:o,elements:l,middlewareData:u}=e,{element:d,padding:f=0}=aa(t,e)||{};if(d==null)return{};const p=eB(f),y={x:n,y:s},x=uA(r),w=cA(x),T=await o.getDimensions(d),S=x==="y",A=S?"top":"left",N=S?"bottom":"right",P=S?"clientHeight":"clientWidth",O=i.reference[w]+i.reference[x]-y[x]-i.floating[w],L=y[x]-i.reference[x],F=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let I=F?F[P]:0;(!I||!await(o.isElement==null?void 0:o.isElement(F)))&&(I=l.floating[P]||i.floating[w]);const R=O/2-L/2,D=I/2-T[w]/2-1,z=Ol(p[A],D),B=Ol(p[N],D),H=z,U=I-T[w]-B,he=I/2-T[w]/2+R,ce=oT(H,he,U),K=!u.arrow&&bh(r)!=null&&he!==ce&&i.reference[w]/2-(he<H?z:B)-T[w]/2<0,X=K?he<H?he-H:he-U:0;return{[x]:y[x]+X,data:{[x]:ce,centerOffset:he-ce-X,...K&&{alignmentOffset:X}},reset:K}}}),gye=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,s;const{placement:r,middlewareData:i,rects:o,initialPlacement:l,platform:u,elements:d}=e,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:y,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:T=!0,...S}=aa(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const A=la(r),N=Gi(l),P=la(l)===l,O=await(u.isRTL==null?void 0:u.isRTL(d.floating)),L=y||(P||!T?[Vx(l)]:lye(l)),F=w!=="none";!y&&F&&L.push(...hye(l,T,w,O));const I=[l,...L],R=await Xp(e,S),D=[];let z=((s=i.flip)==null?void 0:s.overflows)||[];if(f&&D.push(R[A]),p){const he=aye(r,o,O);D.push(R[he[0]],R[he[1]])}if(z=[...z,{placement:r,overflows:D}],!D.every(he=>he<=0)){var B,H;const he=(((B=i.flip)==null?void 0:B.index)||0)+1,ce=I[he];if(ce&&(!(p==="alignment"?N!==Gi(ce):!1)||z.every(Y=>Gi(Y.placement)===N?Y.overflows[0]>0:!0)))return{data:{index:he,overflows:z},reset:{placement:ce}};let K=(H=z.filter(X=>X.overflows[0]<=0).sort((X,Y)=>X.overflows[1]-Y.overflows[1])[0])==null?void 0:H.placement;if(!K)switch(x){case"bestFit":{var U;const X=(U=z.filter(Y=>{if(F){const xe=Gi(Y.placement);return xe===N||xe==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(xe=>xe>0).reduce((xe,Me)=>xe+Me,0)]).sort((Y,xe)=>Y[1]-xe[1])[0])==null?void 0:U[0];X&&(K=X);break}case"initialPlacement":K=l;break}if(r!==K)return{reset:{placement:K}}}return{}}}};function S4(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function T4(t){return sye.some(e=>t[e]>=0)}const yye=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:s="referenceHidden",...r}=aa(t,e);switch(s){case"referenceHidden":{const i=await Xp(e,{...r,elementContext:"reference"}),o=S4(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:T4(o)}}}case"escaped":{const i=await Xp(e,{...r,altBoundary:!0}),o=S4(i,n.floating);return{data:{escapedOffsets:o,escaped:T4(o)}}}default:return{}}}}},tB=new Set(["left","top"]);async function xye(t,e){const{placement:n,platform:s,elements:r}=t,i=await(s.isRTL==null?void 0:s.isRTL(r.floating)),o=la(n),l=bh(n),u=Gi(n)==="y",d=tB.has(o)?-1:1,f=i&&u?-1:1,p=aa(e,t);let{mainAxis:y,crossAxis:x,alignmentAxis:w}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&typeof w=="number"&&(x=l==="end"?w*-1:w),u?{x:x*f,y:y*d}:{x:y*d,y:x*f}}const vye=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,s;const{x:r,y:i,placement:o,middlewareData:l}=e,u=await xye(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:r+u.x,y:i+u.y,data:{...u,placement:o}}}}},bye=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:s,placement:r}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:S=>{let{x:A,y:N}=S;return{x:A,y:N}}},...u}=aa(t,e),d={x:n,y:s},f=await Xp(e,u),p=Gi(la(r)),y=lA(p);let x=d[y],w=d[p];if(i){const S=y==="y"?"top":"left",A=y==="y"?"bottom":"right",N=x+f[S],P=x-f[A];x=oT(N,x,P)}if(o){const S=p==="y"?"top":"left",A=p==="y"?"bottom":"right",N=w+f[S],P=w-f[A];w=oT(N,w,P)}const T=l.fn({...e,[y]:x,[p]:w});return{...T,data:{x:T.x-n,y:T.y-s,enabled:{[y]:i,[p]:o}}}}}},wye=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:s,placement:r,rects:i,middlewareData:o}=e,{offset:l=0,mainAxis:u=!0,crossAxis:d=!0}=aa(t,e),f={x:n,y:s},p=Gi(r),y=lA(p);let x=f[y],w=f[p];const T=aa(l,e),S=typeof T=="number"?{mainAxis:T,crossAxis:0}:{mainAxis:0,crossAxis:0,...T};if(u){const P=y==="y"?"height":"width",O=i.reference[y]-i.floating[P]+S.mainAxis,L=i.reference[y]+i.reference[P]-S.mainAxis;x<O?x=O:x>L&&(x=L)}if(d){var A,N;const P=y==="y"?"width":"height",O=tB.has(la(r)),L=i.reference[p]-i.floating[P]+(O&&((A=o.offset)==null?void 0:A[p])||0)+(O?0:S.crossAxis),F=i.reference[p]+i.reference[P]+(O?0:((N=o.offset)==null?void 0:N[p])||0)-(O?S.crossAxis:0);w<L?w=L:w>F&&(w=F)}return{[y]:x,[p]:w}}}},Eye=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,s;const{placement:r,rects:i,platform:o,elements:l}=e,{apply:u=()=>{},...d}=aa(t,e),f=await Xp(e,d),p=la(r),y=bh(r),x=Gi(r)==="y",{width:w,height:T}=i.floating;let S,A;p==="top"||p==="bottom"?(S=p,A=y===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(A=p,S=y==="end"?"top":"bottom");const N=T-f.top-f.bottom,P=w-f.left-f.right,O=Ol(T-f[S],N),L=Ol(w-f[A],P),F=!e.middlewareData.shift;let I=O,R=L;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(R=P),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(I=N),F&&!y){const z=mr(f.left,0),B=mr(f.right,0),H=mr(f.top,0),U=mr(f.bottom,0);x?R=w-2*(z!==0||B!==0?z+B:mr(f.left,f.right)):I=T-2*(H!==0||U!==0?H+U:mr(f.top,f.bottom))}await u({...e,availableWidth:R,availableHeight:I});const D=await o.getDimensions(l.floating);return w!==D.width||T!==D.height?{reset:{rects:!0}}:{}}}};function Uv(){return typeof window<"u"}function wh(t){return nB(t)?(t.nodeName||"").toLowerCase():"#document"}function wr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function go(t){var e;return(e=(nB(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function nB(t){return Uv()?t instanceof Node||t instanceof wr(t).Node:!1}function Si(t){return Uv()?t instanceof Element||t instanceof wr(t).Element:!1}function uo(t){return Uv()?t instanceof HTMLElement||t instanceof wr(t).HTMLElement:!1}function _4(t){return!Uv()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof wr(t).ShadowRoot}const Sye=new Set(["inline","contents"]);function Cm(t){const{overflow:e,overflowX:n,overflowY:s,display:r}=Ti(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+n)&&!Sye.has(r)}const Tye=new Set(["table","td","th"]);function _ye(t){return Tye.has(wh(t))}const Aye=[":popover-open",":modal"];function Fv(t){return Aye.some(e=>{try{return t.matches(e)}catch{return!1}})}const Cye=["transform","translate","scale","rotate","perspective"],kye=["transform","translate","scale","rotate","perspective","filter"],Nye=["paint","layout","strict","content"];function dA(t){const e=hA(),n=Si(t)?Ti(t):t;return Cye.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||kye.some(s=>(n.willChange||"").includes(s))||Nye.some(s=>(n.contain||"").includes(s))}function Rye(t){let e=jl(t);for(;uo(e)&&!Jd(e);){if(dA(e))return e;if(Fv(e))return null;e=jl(e)}return null}function hA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Mye=new Set(["html","body","#document"]);function Jd(t){return Mye.has(wh(t))}function Ti(t){return wr(t).getComputedStyle(t)}function Hv(t){return Si(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function jl(t){if(wh(t)==="html")return t;const e=t.assignedSlot||t.parentNode||_4(t)&&t.host||go(t);return _4(e)?e.host:e}function sB(t){const e=jl(t);return Jd(e)?t.ownerDocument?t.ownerDocument.body:t.body:uo(e)&&Cm(e)?e:sB(e)}function Qp(t,e,n){var s;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=sB(t),i=r===((s=t.ownerDocument)==null?void 0:s.body),o=wr(r);if(i){const l=lT(o);return e.concat(o,o.visualViewport||[],Cm(r)?r:[],l&&n?Qp(l):[])}return e.concat(r,Qp(r,[],n))}function lT(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function rB(t){const e=Ti(t);let n=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const r=uo(t),i=r?t.offsetWidth:n,o=r?t.offsetHeight:s,l=Lx(n)!==i||Lx(s)!==o;return l&&(n=i,s=o),{width:n,height:s,$:l}}function fA(t){return Si(t)?t:t.contextElement}function Od(t){const e=fA(t);if(!uo(e))return so(1);const n=e.getBoundingClientRect(),{width:s,height:r,$:i}=rB(e);let o=(i?Lx(n.width):n.width)/s,l=(i?Lx(n.height):n.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Iye=so(0);function iB(t){const e=wr(t);return!hA()||!e.visualViewport?Iye:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Dye(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==wr(t)?!1:e}function ou(t,e,n,s){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=fA(t);let o=so(1);e&&(s?Si(s)&&(o=Od(s)):o=Od(t));const l=Dye(i,n,s)?iB(i):so(0);let u=(r.left+l.x)/o.x,d=(r.top+l.y)/o.y,f=r.width/o.x,p=r.height/o.y;if(i){const y=wr(i),x=s&&Si(s)?wr(s):s;let w=y,T=lT(w);for(;T&&s&&x!==w;){const S=Od(T),A=T.getBoundingClientRect(),N=Ti(T),P=A.left+(T.clientLeft+parseFloat(N.paddingLeft))*S.x,O=A.top+(T.clientTop+parseFloat(N.paddingTop))*S.y;u*=S.x,d*=S.y,f*=S.x,p*=S.y,u+=P,d+=O,w=wr(T),T=lT(w)}}return zx({width:f,height:p,x:u,y:d})}function $v(t,e){const n=Hv(t).scrollLeft;return e?e.left+n:ou(go(t)).left+n}function oB(t,e){const n=t.getBoundingClientRect(),s=n.left+e.scrollLeft-$v(t,n),r=n.top+e.scrollTop;return{x:s,y:r}}function Pye(t){let{elements:e,rect:n,offsetParent:s,strategy:r}=t;const i=r==="fixed",o=go(s),l=e?Fv(e.floating):!1;if(s===o||l&&i)return n;let u={scrollLeft:0,scrollTop:0},d=so(1);const f=so(0),p=uo(s);if((p||!p&&!i)&&((wh(s)!=="body"||Cm(o))&&(u=Hv(s)),uo(s))){const x=ou(s);d=Od(s),f.x=x.x+s.clientLeft,f.y=x.y+s.clientTop}const y=o&&!p&&!i?oB(o,u):so(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-u.scrollLeft*d.x+f.x+y.x,y:n.y*d.y-u.scrollTop*d.y+f.y+y.y}}function Oye(t){return Array.from(t.getClientRects())}function jye(t){const e=go(t),n=Hv(t),s=t.ownerDocument.body,r=mr(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),i=mr(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let o=-n.scrollLeft+$v(t);const l=-n.scrollTop;return Ti(s).direction==="rtl"&&(o+=mr(e.clientWidth,s.clientWidth)-r),{width:r,height:i,x:o,y:l}}const A4=25;function Lye(t,e){const n=wr(t),s=go(t),r=n.visualViewport;let i=s.clientWidth,o=s.clientHeight,l=0,u=0;if(r){i=r.width,o=r.height;const f=hA();(!f||f&&e==="fixed")&&(l=r.offsetLeft,u=r.offsetTop)}const d=$v(s);if(d<=0){const f=s.ownerDocument,p=f.body,y=getComputedStyle(p),x=f.compatMode==="CSS1Compat"&&parseFloat(y.marginLeft)+parseFloat(y.marginRight)||0,w=Math.abs(s.clientWidth-p.clientWidth-x);w<=A4&&(i-=w)}else d<=A4&&(i+=d);return{width:i,height:o,x:l,y:u}}const Vye=new Set(["absolute","fixed"]);function zye(t,e){const n=ou(t,!0,e==="fixed"),s=n.top+t.clientTop,r=n.left+t.clientLeft,i=uo(t)?Od(t):so(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,u=r*i.x,d=s*i.y;return{width:o,height:l,x:u,y:d}}function C4(t,e,n){let s;if(e==="viewport")s=Lye(t,n);else if(e==="document")s=jye(go(t));else if(Si(e))s=zye(e,n);else{const r=iB(t);s={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return zx(s)}function aB(t,e){const n=jl(t);return n===e||!Si(n)||Jd(n)?!1:Ti(n).position==="fixed"||aB(n,e)}function Bye(t,e){const n=e.get(t);if(n)return n;let s=Qp(t,[],!1).filter(l=>Si(l)&&wh(l)!=="body"),r=null;const i=Ti(t).position==="fixed";let o=i?jl(t):t;for(;Si(o)&&!Jd(o);){const l=Ti(o),u=dA(o);!u&&l.position==="fixed"&&(r=null),(i?!u&&!r:!u&&l.position==="static"&&!!r&&Vye.has(r.position)||Cm(o)&&!u&&aB(t,o))?s=s.filter(f=>f!==o):r=l,o=jl(o)}return e.set(t,s),s}function Uye(t){let{element:e,boundary:n,rootBoundary:s,strategy:r}=t;const o=[...n==="clippingAncestors"?Fv(e)?[]:Bye(e,this._c):[].concat(n),s],l=o[0],u=o.reduce((d,f)=>{const p=C4(e,f,r);return d.top=mr(p.top,d.top),d.right=Ol(p.right,d.right),d.bottom=Ol(p.bottom,d.bottom),d.left=mr(p.left,d.left),d},C4(e,l,r));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function Fye(t){const{width:e,height:n}=rB(t);return{width:e,height:n}}function Hye(t,e,n){const s=uo(e),r=go(e),i=n==="fixed",o=ou(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const u=so(0);function d(){u.x=$v(r)}if(s||!s&&!i)if((wh(e)!=="body"||Cm(r))&&(l=Hv(e)),s){const x=ou(e,!0,i,e);u.x=x.x+e.clientLeft,u.y=x.y+e.clientTop}else r&&d();i&&!s&&r&&d();const f=r&&!s&&!i?oB(r,l):so(0),p=o.left+l.scrollLeft-u.x-f.x,y=o.top+l.scrollTop-u.y-f.y;return{x:p,y,width:o.width,height:o.height}}function mE(t){return Ti(t).position==="static"}function k4(t,e){if(!uo(t)||Ti(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return go(t)===n&&(n=n.ownerDocument.body),n}function lB(t,e){const n=wr(t);if(Fv(t))return n;if(!uo(t)){let r=jl(t);for(;r&&!Jd(r);){if(Si(r)&&!mE(r))return r;r=jl(r)}return n}let s=k4(t,e);for(;s&&_ye(s)&&mE(s);)s=k4(s,e);return s&&Jd(s)&&mE(s)&&!dA(s)?n:s||Rye(t)||n}const $ye=async function(t){const e=this.getOffsetParent||lB,n=this.getDimensions,s=await n(t.floating);return{reference:Hye(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function qye(t){return Ti(t).direction==="rtl"}const Wye={convertOffsetParentRelativeRectToViewportRelativeRect:Pye,getDocumentElement:go,getClippingRect:Uye,getOffsetParent:lB,getElementRects:$ye,getClientRects:Oye,getDimensions:Fye,getScale:Od,isElement:Si,isRTL:qye};function cB(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Kye(t,e){let n=null,s;const r=go(t);function i(){var l;clearTimeout(s),(l=n)==null||l.disconnect(),n=null}function o(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),i();const d=t.getBoundingClientRect(),{left:f,top:p,width:y,height:x}=d;if(l||e(),!y||!x)return;const w=Ty(p),T=Ty(r.clientWidth-(f+y)),S=Ty(r.clientHeight-(p+x)),A=Ty(f),P={rootMargin:-w+"px "+-T+"px "+-S+"px "+-A+"px",threshold:mr(0,Ol(1,u))||1};let O=!0;function L(F){const I=F[0].intersectionRatio;if(I!==u){if(!O)return o();I?o(!1,I):s=setTimeout(()=>{o(!1,1e-7)},1e3)}I===1&&!cB(d,t.getBoundingClientRect())&&o(),O=!1}try{n=new IntersectionObserver(L,{...P,root:r.ownerDocument})}catch{n=new IntersectionObserver(L,P)}n.observe(t)}return o(!0),i}function Gye(t,e,n,s){s===void 0&&(s={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=s,d=fA(t),f=r||i?[...d?Qp(d):[],...Qp(e)]:[];f.forEach(A=>{r&&A.addEventListener("scroll",n,{passive:!0}),i&&A.addEventListener("resize",n)});const p=d&&l?Kye(d,n):null;let y=-1,x=null;o&&(x=new ResizeObserver(A=>{let[N]=A;N&&N.target===d&&x&&(x.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var P;(P=x)==null||P.observe(e)})),n()}),d&&!u&&x.observe(d),x.observe(e));let w,T=u?ou(t):null;u&&S();function S(){const A=ou(t);T&&!cB(T,A)&&n(),T=A,w=requestAnimationFrame(S)}return n(),()=>{var A;f.forEach(N=>{r&&N.removeEventListener("scroll",n),i&&N.removeEventListener("resize",n)}),p?.(),(A=x)==null||A.disconnect(),x=null,u&&cancelAnimationFrame(w)}}const Yye=vye,Xye=bye,Qye=gye,Jye=Eye,Zye=yye,N4=mye,e0e=wye,t0e=(t,e,n)=>{const s=new Map,r={platform:Wye,...n},i={...r.platform,_c:s};return pye(t,e,{...r,platform:i})};var n0e=typeof document<"u",s0e=function(){},s0=n0e?_.useLayoutEffect:s0e;function Bx(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,s,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(s=n;s--!==0;)if(!Bx(t[s],e[s]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(e,r[s]))return!1;for(s=n;s--!==0;){const i=r[s];if(!(i==="_owner"&&t.$$typeof)&&!Bx(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function uB(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function R4(t,e){const n=uB(t);return Math.round(e*n)/n}function gE(t){const e=_.useRef(t);return s0(()=>{e.current=t}),e}function r0e(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:s=[],platform:r,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:u,open:d}=t,[f,p]=_.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[y,x]=_.useState(s);Bx(y,s)||x(s);const[w,T]=_.useState(null),[S,A]=_.useState(null),N=_.useCallback(Y=>{Y!==F.current&&(F.current=Y,T(Y))},[]),P=_.useCallback(Y=>{Y!==I.current&&(I.current=Y,A(Y))},[]),O=i||w,L=o||S,F=_.useRef(null),I=_.useRef(null),R=_.useRef(f),D=u!=null,z=gE(u),B=gE(r),H=gE(d),U=_.useCallback(()=>{if(!F.current||!I.current)return;const Y={placement:e,strategy:n,middleware:y};B.current&&(Y.platform=B.current),t0e(F.current,I.current,Y).then(xe=>{const Me={...xe,isPositioned:H.current!==!1};he.current&&!Bx(R.current,Me)&&(R.current=Me,Ki.flushSync(()=>{p(Me)}))})},[y,e,n,B,H]);s0(()=>{d===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,p(Y=>({...Y,isPositioned:!1})))},[d]);const he=_.useRef(!1);s0(()=>(he.current=!0,()=>{he.current=!1}),[]),s0(()=>{if(O&&(F.current=O),L&&(I.current=L),O&&L){if(z.current)return z.current(O,L,U);U()}},[O,L,U,z,D]);const ce=_.useMemo(()=>({reference:F,floating:I,setReference:N,setFloating:P}),[N,P]),K=_.useMemo(()=>({reference:O,floating:L}),[O,L]),X=_.useMemo(()=>{const Y={position:n,left:0,top:0};if(!K.floating)return Y;const xe=R4(K.floating,f.x),Me=R4(K.floating,f.y);return l?{...Y,transform:"translate("+xe+"px, "+Me+"px)",...uB(K.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:xe,top:Me}},[n,l,K.floating,f.x,f.y]);return _.useMemo(()=>({...f,update:U,refs:ce,elements:K,floatingStyles:X}),[f,U,ce,K,X])}const i0e=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:s,padding:r}=typeof t=="function"?t(n):t;return s&&e(s)?s.current!=null?N4({element:s.current,padding:r}).fn(n):{}:s?N4({element:s,padding:r}).fn(n):{}}}},o0e=(t,e)=>({...Yye(t),options:[t,e]}),a0e=(t,e)=>({...Xye(t),options:[t,e]}),l0e=(t,e)=>({...e0e(t),options:[t,e]}),c0e=(t,e)=>({...Qye(t),options:[t,e]}),u0e=(t,e)=>({...Jye(t),options:[t,e]}),d0e=(t,e)=>({...Zye(t),options:[t,e]}),h0e=(t,e)=>({...i0e(t),options:[t,e]});var f0e="Arrow",dB=_.forwardRef((t,e)=>{const{children:n,width:s=10,height:r=5,...i}=t;return m.jsx(hn.svg,{...i,ref:e,width:s,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:m.jsx("polygon",{points:"0,0 30,0 15,10"})})});dB.displayName=f0e;var p0e=dB;function m0e(t){const[e,n]=_.useState(void 0);return Zs(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const i=r[0];let o,l;if("borderBoxSize"in i){const u=i.borderBoxSize,d=Array.isArray(u)?u[0]:u;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else n(void 0)},[t]),e}var pA="Popper",[hB,fB]=oA(pA),[g0e,pB]=hB(pA),mB=t=>{const{__scopePopper:e,children:n}=t,[s,r]=_.useState(null);return m.jsx(g0e,{scope:e,anchor:s,onAnchorChange:r,children:n})};mB.displayName=pA;var gB="PopperAnchor",yB=_.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:s,...r}=t,i=pB(gB,n),o=_.useRef(null),l=cs(e,o),u=_.useRef(null);return _.useEffect(()=>{const d=u.current;u.current=s?.current||o.current,d!==u.current&&i.onAnchorChange(u.current)}),s?null:m.jsx(hn.div,{...r,ref:l})});yB.displayName=gB;var mA="PopperContent",[y0e,x0e]=hB(mA),xB=_.forwardRef((t,e)=>{const{__scopePopper:n,side:s="bottom",sideOffset:r=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:y=!1,updatePositionStrategy:x="optimized",onPlaced:w,...T}=t,S=pB(mA,n),[A,N]=_.useState(null),P=cs(e,de=>N(de)),[O,L]=_.useState(null),F=m0e(O),I=F?.width??0,R=F?.height??0,D=s+(i!=="center"?"-"+i:""),z=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},B=Array.isArray(d)?d:[d],H=B.length>0,U={padding:z,boundary:B.filter(b0e),altBoundary:H},{refs:he,floatingStyles:ce,placement:K,isPositioned:X,middlewareData:Y}=r0e({strategy:"fixed",placement:D,whileElementsMounted:(...de)=>Gye(...de,{animationFrame:x==="always"}),elements:{reference:S.anchor},middleware:[o0e({mainAxis:r+R,alignmentAxis:o}),u&&a0e({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?l0e():void 0,...U}),u&&c0e({...U}),u0e({...U,apply:({elements:de,rects:Le,availableWidth:Pe,availableHeight:Se})=>{const{width:Ye,height:We}=Le.reference,Rt=de.floating.style;Rt.setProperty("--radix-popper-available-width",`${Pe}px`),Rt.setProperty("--radix-popper-available-height",`${Se}px`),Rt.setProperty("--radix-popper-anchor-width",`${Ye}px`),Rt.setProperty("--radix-popper-anchor-height",`${We}px`)}}),O&&h0e({element:O,padding:l}),w0e({arrowWidth:I,arrowHeight:R}),y&&d0e({strategy:"referenceHidden",...U})]}),[xe,Me]=wB(K),q=iu(w);Zs(()=>{X&&q?.()},[X,q]);const se=Y.arrow?.x,ue=Y.arrow?.y,pe=Y.arrow?.centerOffset!==0,[Ae,Te]=_.useState();return Zs(()=>{A&&Te(window.getComputedStyle(A).zIndex)},[A]),m.jsx("div",{ref:he.setFloating,"data-radix-popper-content-wrapper":"",style:{...ce,transform:X?ce.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ae,"--radix-popper-transform-origin":[Y.transformOrigin?.x,Y.transformOrigin?.y].join(" "),...Y.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:m.jsx(y0e,{scope:n,placedSide:xe,onArrowChange:L,arrowX:se,arrowY:ue,shouldHideArrow:pe,children:m.jsx(hn.div,{"data-side":xe,"data-align":Me,...T,ref:P,style:{...T.style,animation:X?void 0:"none"}})})})});xB.displayName=mA;var vB="PopperArrow",v0e={top:"bottom",right:"left",bottom:"top",left:"right"},bB=_.forwardRef(function(e,n){const{__scopePopper:s,...r}=e,i=x0e(vB,s),o=v0e[i.placedSide];return m.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:m.jsx(p0e,{...r,ref:n,style:{...r.style,display:"block"}})})});bB.displayName=vB;function b0e(t){return t!==null}var w0e=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:s,middlewareData:r}=e,o=r.arrow?.centerOffset!==0,l=o?0:t.arrowWidth,u=o?0:t.arrowHeight,[d,f]=wB(n),p={start:"0%",center:"50%",end:"100%"}[f],y=(r.arrow?.x??0)+l/2,x=(r.arrow?.y??0)+u/2;let w="",T="";return d==="bottom"?(w=o?p:`${y}px`,T=`${-u}px`):d==="top"?(w=o?p:`${y}px`,T=`${s.floating.height+u}px`):d==="right"?(w=`${-u}px`,T=o?p:`${x}px`):d==="left"&&(w=`${s.floating.width+u}px`,T=o?p:`${x}px`),{data:{x:w,y:T}}}});function wB(t){const[e,n="center"]=t.split("-");return[e,n]}var E0e=mB,S0e=yB,T0e=xB,_0e=bB,A0e="Portal",EB=_.forwardRef((t,e)=>{const{container:n,...s}=t,[r,i]=_.useState(!1);Zs(()=>i(!0),[]);const o=n||r&&globalThis?.document?.body;return o?sP.createPortal(m.jsx(hn.div,{...s,ref:e}),o):null});EB.displayName=A0e;function C0e(t){const e=k0e(t),n=_.forwardRef((s,r)=>{const{children:i,...o}=s,l=_.Children.toArray(i),u=l.find(R0e);if(u){const d=u.props.children,f=l.map(p=>p===u?_.Children.count(d)>1?_.Children.only(null):_.isValidElement(d)?d.props.children:null:p);return m.jsx(e,{...o,ref:r,children:_.isValidElement(d)?_.cloneElement(d,void 0,f):null})}return m.jsx(e,{...o,ref:r,children:i})});return n.displayName=`${t}.Slot`,n}function k0e(t){const e=_.forwardRef((n,s)=>{const{children:r,...i}=n;if(_.isValidElement(r)){const o=I0e(r),l=M0e(i,r.props);return r.type!==_.Fragment&&(l.ref=s?xm(s,o):o),_.cloneElement(r,l)}return _.Children.count(r)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var N0e=Symbol("radix.slottable");function R0e(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===N0e}function M0e(t,e){const n={...e};for(const s in e){const r=t[s],i=e[s];/^on[A-Z]/.test(s)?r&&i?n[s]=(...l)=>{const u=i(...l);return r(...l),u}:r&&(n[s]=r):s==="style"?n[s]={...r,...i}:s==="className"&&(n[s]=[r,i].filter(Boolean).join(" "))}return{...t,...n}}function I0e(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var D0e=mT[" useInsertionEffect ".trim().toString()]||Zs;function M4({prop:t,defaultProp:e,onChange:n=()=>{},caller:s}){const[r,i,o]=P0e({defaultProp:e,onChange:n}),l=t!==void 0,u=l?t:r;{const f=_.useRef(t!==void 0);_.useEffect(()=>{const p=f.current;p!==l&&console.warn(`${s} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,s])}const d=_.useCallback(f=>{if(l){const p=O0e(f)?f(t):f;p!==t&&o.current?.(p)}else i(f)},[l,t,i,o]);return[u,d]}function P0e({defaultProp:t,onChange:e}){const[n,s]=_.useState(t),r=_.useRef(n),i=_.useRef(e);return D0e(()=>{i.current=e},[e]),_.useEffect(()=>{r.current!==n&&(i.current?.(n),r.current=n)},[n,r]),[n,s,i]}function O0e(t){return typeof t=="function"}function j0e(t){const e=_.useRef({value:t,previous:t});return _.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var SB=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),L0e="VisuallyHidden",V0e=_.forwardRef((t,e)=>m.jsx(hn.span,{...t,ref:e,style:{...SB,...t.style}}));V0e.displayName=L0e;var z0e=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ad=new WeakMap,_y=new WeakMap,Ay={},yE=0,TB=function(t){return t&&(t.host||TB(t.parentNode))},B0e=function(t,e){return e.map(function(n){if(t.contains(n))return n;var s=TB(n);return s&&t.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},U0e=function(t,e,n,s){var r=B0e(e,Array.isArray(t)?t:[t]);Ay[n]||(Ay[n]=new WeakMap);var i=Ay[n],o=[],l=new Set,u=new Set(r),d=function(p){!p||l.has(p)||(l.add(p),d(p.parentNode))};r.forEach(d);var f=function(p){!p||u.has(p)||Array.prototype.forEach.call(p.children,function(y){if(l.has(y))f(y);else try{var x=y.getAttribute(s),w=x!==null&&x!=="false",T=(ad.get(y)||0)+1,S=(i.get(y)||0)+1;ad.set(y,T),i.set(y,S),o.push(y),T===1&&w&&_y.set(y,!0),S===1&&y.setAttribute(n,"true"),w||y.setAttribute(s,"true")}catch(A){console.error("aria-hidden: cannot operate on ",y,A)}})};return f(e),l.clear(),yE++,function(){o.forEach(function(p){var y=ad.get(p)-1,x=i.get(p)-1;ad.set(p,y),i.set(p,x),y||(_y.has(p)||p.removeAttribute(s),_y.delete(p)),x||p.removeAttribute(n)}),yE--,yE||(ad=new WeakMap,ad=new WeakMap,_y=new WeakMap,Ay={})}},F0e=function(t,e,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),r=z0e(t);return r?(s.push.apply(s,Array.from(r.querySelectorAll("[aria-live], script"))),U0e(s,r,n,"aria-hidden")):function(){return null}},Wi=function(){return Wi=Object.assign||function(e){for(var n,s=1,r=arguments.length;s<r;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Wi.apply(this,arguments)};function _B(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n}function H0e(t,e,n){if(n||arguments.length===2)for(var s=0,r=e.length,i;s<r;s++)(i||!(s in e))&&(i||(i=Array.prototype.slice.call(e,0,s)),i[s]=e[s]);return t.concat(i||Array.prototype.slice.call(e))}var r0="right-scroll-bar-position",i0="width-before-scroll-bar",$0e="with-scroll-bars-hidden",q0e="--removed-body-scroll-bar-size";function xE(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function W0e(t,e){var n=_.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(s){var r=n.value;r!==s&&(n.value=s,n.callback(s,r))}}}})[0];return n.callback=e,n.facade}var K0e=typeof window<"u"?_.useLayoutEffect:_.useEffect,I4=new WeakMap;function G0e(t,e){var n=W0e(null,function(s){return t.forEach(function(r){return xE(r,s)})});return K0e(function(){var s=I4.get(n);if(s){var r=new Set(s),i=new Set(t),o=n.current;r.forEach(function(l){i.has(l)||xE(l,null)}),i.forEach(function(l){r.has(l)||xE(l,o)})}I4.set(n,t)},[t]),n}function Y0e(t){return t}function X0e(t,e){e===void 0&&(e=Y0e);var n=[],s=!1,r={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,s);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(s=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){s=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var u=function(){var f=o;o=[],f.forEach(i)},d=function(){return Promise.resolve().then(u)};d(),n={push:function(f){o.push(f),d()},filter:function(f){return o=o.filter(f),n}}}};return r}function Q0e(t){t===void 0&&(t={});var e=X0e(null);return e.options=Wi({async:!0,ssr:!1},t),e}var AB=function(t){var e=t.sideCar,n=_B(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return _.createElement(s,Wi({},n))};AB.isSideCarExport=!0;function J0e(t,e){return t.useMedium(e),AB}var CB=Q0e(),vE=function(){},qv=_.forwardRef(function(t,e){var n=_.useRef(null),s=_.useState({onScrollCapture:vE,onWheelCapture:vE,onTouchMoveCapture:vE}),r=s[0],i=s[1],o=t.forwardProps,l=t.children,u=t.className,d=t.removeScrollBar,f=t.enabled,p=t.shards,y=t.sideCar,x=t.noRelative,w=t.noIsolation,T=t.inert,S=t.allowPinchZoom,A=t.as,N=A===void 0?"div":A,P=t.gapMode,O=_B(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),L=y,F=G0e([n,e]),I=Wi(Wi({},O),r);return _.createElement(_.Fragment,null,f&&_.createElement(L,{sideCar:CB,removeScrollBar:d,shards:p,noRelative:x,noIsolation:w,inert:T,setCallbacks:i,allowPinchZoom:!!S,lockRef:n,gapMode:P}),o?_.cloneElement(_.Children.only(l),Wi(Wi({},I),{ref:F})):_.createElement(N,Wi({},I,{className:u,ref:F}),l))});qv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};qv.classNames={fullWidth:i0,zeroRight:r0};var Z0e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function exe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Z0e();return e&&t.setAttribute("nonce",e),t}function txe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function nxe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var sxe=function(){var t=0,e=null;return{add:function(n){t==0&&(e=exe())&&(txe(e,n),nxe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},rxe=function(){var t=sxe();return function(e,n){_.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},kB=function(){var t=rxe(),e=function(n){var s=n.styles,r=n.dynamic;return t(s,r),null};return e},ixe={left:0,top:0,right:0,gap:0},bE=function(t){return parseInt(t||"",10)||0},oxe=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],s=e[t==="padding"?"paddingTop":"marginTop"],r=e[t==="padding"?"paddingRight":"marginRight"];return[bE(n),bE(s),bE(r)]},axe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return ixe;var e=oxe(t),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-n+e[2]-e[0])}},lxe=kB(),jd="data-scroll-locked",cxe=function(t,e,n,s){var r=t.left,i=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat($0e,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(jd,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(r0,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(i0,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(r0," .").concat(r0,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(i0," .").concat(i0,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(jd,`] {
    `).concat(q0e,": ").concat(l,`px;
  }
`)},D4=function(){var t=parseInt(document.body.getAttribute(jd)||"0",10);return isFinite(t)?t:0},uxe=function(){_.useEffect(function(){return document.body.setAttribute(jd,(D4()+1).toString()),function(){var t=D4()-1;t<=0?document.body.removeAttribute(jd):document.body.setAttribute(jd,t.toString())}},[])},dxe=function(t){var e=t.noRelative,n=t.noImportant,s=t.gapMode,r=s===void 0?"margin":s;uxe();var i=_.useMemo(function(){return axe(r)},[r]);return _.createElement(lxe,{styles:cxe(i,!e,r,n?"":"!important")})},cT=!1;if(typeof window<"u")try{var Cy=Object.defineProperty({},"passive",{get:function(){return cT=!0,!0}});window.addEventListener("test",Cy,Cy),window.removeEventListener("test",Cy,Cy)}catch{cT=!1}var ld=cT?{passive:!1}:!1,hxe=function(t){return t.tagName==="TEXTAREA"},NB=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!hxe(t)&&n[e]==="visible")},fxe=function(t){return NB(t,"overflowY")},pxe=function(t){return NB(t,"overflowX")},P4=function(t,e){var n=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var r=RB(t,s);if(r){var i=MB(t,s),o=i[1],l=i[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},mxe=function(t){var e=t.scrollTop,n=t.scrollHeight,s=t.clientHeight;return[e,n,s]},gxe=function(t){var e=t.scrollLeft,n=t.scrollWidth,s=t.clientWidth;return[e,n,s]},RB=function(t,e){return t==="v"?fxe(e):pxe(e)},MB=function(t,e){return t==="v"?mxe(e):gxe(e)},yxe=function(t,e){return t==="h"&&e==="rtl"?-1:1},xxe=function(t,e,n,s,r){var i=yxe(t,window.getComputedStyle(e).direction),o=i*s,l=n.target,u=e.contains(l),d=!1,f=o>0,p=0,y=0;do{if(!l)break;var x=MB(t,l),w=x[0],T=x[1],S=x[2],A=T-S-i*w;(w||A)&&RB(t,l)&&(p+=A,y+=w);var N=l.parentNode;l=N&&N.nodeType===Node.DOCUMENT_FRAGMENT_NODE?N.host:N}while(!u&&l!==document.body||u&&(e.contains(l)||e===l));return(f&&Math.abs(p)<1||!f&&Math.abs(y)<1)&&(d=!0),d},ky=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},O4=function(t){return[t.deltaX,t.deltaY]},j4=function(t){return t&&"current"in t?t.current:t},vxe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},bxe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},wxe=0,cd=[];function Exe(t){var e=_.useRef([]),n=_.useRef([0,0]),s=_.useRef(),r=_.useState(wxe++)[0],i=_.useState(kB)[0],o=_.useRef(t);_.useEffect(function(){o.current=t},[t]),_.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(r));var T=H0e([t.lockRef.current],(t.shards||[]).map(j4),!0).filter(Boolean);return T.forEach(function(S){return S.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),T.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(r))})}}},[t.inert,t.lockRef.current,t.shards]);var l=_.useCallback(function(T,S){if("touches"in T&&T.touches.length===2||T.type==="wheel"&&T.ctrlKey)return!o.current.allowPinchZoom;var A=ky(T),N=n.current,P="deltaX"in T?T.deltaX:N[0]-A[0],O="deltaY"in T?T.deltaY:N[1]-A[1],L,F=T.target,I=Math.abs(P)>Math.abs(O)?"h":"v";if("touches"in T&&I==="h"&&F.type==="range")return!1;var R=window.getSelection(),D=R&&R.anchorNode,z=D?D===F||D.contains(F):!1;if(z)return!1;var B=P4(I,F);if(!B)return!0;if(B?L=I:(L=I==="v"?"h":"v",B=P4(I,F)),!B)return!1;if(!s.current&&"changedTouches"in T&&(P||O)&&(s.current=L),!L)return!0;var H=s.current||L;return xxe(H,S,T,H==="h"?P:O)},[]),u=_.useCallback(function(T){var S=T;if(!(!cd.length||cd[cd.length-1]!==i)){var A="deltaY"in S?O4(S):ky(S),N=e.current.filter(function(L){return L.name===S.type&&(L.target===S.target||S.target===L.shadowParent)&&vxe(L.delta,A)})[0];if(N&&N.should){S.cancelable&&S.preventDefault();return}if(!N){var P=(o.current.shards||[]).map(j4).filter(Boolean).filter(function(L){return L.contains(S.target)}),O=P.length>0?l(S,P[0]):!o.current.noIsolation;O&&S.cancelable&&S.preventDefault()}}},[]),d=_.useCallback(function(T,S,A,N){var P={name:T,delta:S,target:A,should:N,shadowParent:Sxe(A)};e.current.push(P),setTimeout(function(){e.current=e.current.filter(function(O){return O!==P})},1)},[]),f=_.useCallback(function(T){n.current=ky(T),s.current=void 0},[]),p=_.useCallback(function(T){d(T.type,O4(T),T.target,l(T,t.lockRef.current))},[]),y=_.useCallback(function(T){d(T.type,ky(T),T.target,l(T,t.lockRef.current))},[]);_.useEffect(function(){return cd.push(i),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:y}),document.addEventListener("wheel",u,ld),document.addEventListener("touchmove",u,ld),document.addEventListener("touchstart",f,ld),function(){cd=cd.filter(function(T){return T!==i}),document.removeEventListener("wheel",u,ld),document.removeEventListener("touchmove",u,ld),document.removeEventListener("touchstart",f,ld)}},[]);var x=t.removeScrollBar,w=t.inert;return _.createElement(_.Fragment,null,w?_.createElement(i,{styles:bxe(r)}):null,x?_.createElement(dxe,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Sxe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Txe=J0e(CB,Exe);var IB=_.forwardRef(function(t,e){return _.createElement(qv,Wi({},t,{ref:e,sideCar:Txe}))});IB.classNames=qv.classNames;var _xe=[" ","Enter","ArrowUp","ArrowDown"],Axe=[" ","Enter"],au="Select",[Wv,Kv,Cxe]=kge(au),[Eh]=oA(au,[Cxe,fB]),Gv=fB(),[kxe,Wl]=Eh(au),[Nxe,Rxe]=Eh(au),DB=t=>{const{__scopeSelect:e,children:n,open:s,defaultOpen:r,onOpenChange:i,value:o,defaultValue:l,onValueChange:u,dir:d,name:f,autoComplete:p,disabled:y,required:x,form:w}=t,T=Gv(e),[S,A]=_.useState(null),[N,P]=_.useState(null),[O,L]=_.useState(!1),F=Rge(d),[I,R]=M4({prop:s,defaultProp:r??!1,onChange:i,caller:au}),[D,z]=M4({prop:o,defaultProp:l,onChange:u,caller:au}),B=_.useRef(null),H=S?w||!!S.closest("form"):!0,[U,he]=_.useState(new Set),ce=Array.from(U).map(K=>K.props.value).join(";");return m.jsx(E0e,{...T,children:m.jsxs(kxe,{required:x,scope:e,trigger:S,onTriggerChange:A,valueNode:N,onValueNodeChange:P,valueNodeHasChildren:O,onValueNodeHasChildrenChange:L,contentId:aA(),value:D,onValueChange:z,open:I,onOpenChange:R,dir:F,triggerPointerDownPosRef:B,disabled:y,children:[m.jsx(Wv.Provider,{scope:e,children:m.jsx(Nxe,{scope:t.__scopeSelect,onNativeOptionAdd:_.useCallback(K=>{he(X=>new Set(X).add(K))},[]),onNativeOptionRemove:_.useCallback(K=>{he(X=>{const Y=new Set(X);return Y.delete(K),Y})},[]),children:n})}),H?m.jsxs(t7,{"aria-hidden":!0,required:x,tabIndex:-1,name:f,autoComplete:p,value:D,onChange:K=>z(K.target.value),disabled:y,form:w,children:[D===void 0?m.jsx("option",{value:""}):null,Array.from(U)]},ce):null]})})};DB.displayName=au;var PB="SelectTrigger",OB=_.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:s=!1,...r}=t,i=Gv(n),o=Wl(PB,n),l=o.disabled||s,u=cs(e,o.onTriggerChange),d=Kv(n),f=_.useRef("touch"),[p,y,x]=s7(T=>{const S=d().filter(P=>!P.disabled),A=S.find(P=>P.value===o.value),N=r7(S,T,A);N!==void 0&&o.onValueChange(N.value)}),w=T=>{l||(o.onOpenChange(!0),x()),T&&(o.triggerPointerDownPosRef.current={x:Math.round(T.pageX),y:Math.round(T.pageY)})};return m.jsx(S0e,{asChild:!0,...i,children:m.jsx(hn.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":n7(o.value)?"":void 0,...r,ref:u,onClick:Sn(r.onClick,T=>{T.currentTarget.focus(),f.current!=="mouse"&&w(T)}),onPointerDown:Sn(r.onPointerDown,T=>{f.current=T.pointerType;const S=T.target;S.hasPointerCapture(T.pointerId)&&S.releasePointerCapture(T.pointerId),T.button===0&&T.ctrlKey===!1&&T.pointerType==="mouse"&&(w(T),T.preventDefault())}),onKeyDown:Sn(r.onKeyDown,T=>{const S=p.current!=="";!(T.ctrlKey||T.altKey||T.metaKey)&&T.key.length===1&&y(T.key),!(S&&T.key===" ")&&_xe.includes(T.key)&&(w(),T.preventDefault())})})})});OB.displayName=PB;var jB="SelectValue",LB=_.forwardRef((t,e)=>{const{__scopeSelect:n,className:s,style:r,children:i,placeholder:o="",...l}=t,u=Wl(jB,n),{onValueNodeHasChildrenChange:d}=u,f=i!==void 0,p=cs(e,u.onValueNodeChange);return Zs(()=>{d(f)},[d,f]),m.jsx(hn.span,{...l,ref:p,style:{pointerEvents:"none"},children:n7(u.value)?m.jsx(m.Fragment,{children:o}):i})});LB.displayName=jB;var Mxe="SelectIcon",VB=_.forwardRef((t,e)=>{const{__scopeSelect:n,children:s,...r}=t;return m.jsx(hn.span,{"aria-hidden":!0,...r,ref:e,children:s||""})});VB.displayName=Mxe;var Ixe="SelectPortal",zB=t=>m.jsx(EB,{asChild:!0,...t});zB.displayName=Ixe;var lu="SelectContent",BB=_.forwardRef((t,e)=>{const n=Wl(lu,t.__scopeSelect),[s,r]=_.useState();if(Zs(()=>{r(new DocumentFragment)},[]),!n.open){const i=s;return i?Ki.createPortal(m.jsx(UB,{scope:t.__scopeSelect,children:m.jsx(Wv.Slot,{scope:t.__scopeSelect,children:m.jsx("div",{children:t.children})})}),i):null}return m.jsx(FB,{...t,ref:e})});BB.displayName=lu;var ii=10,[UB,Kl]=Eh(lu),Dxe="SelectContentImpl",Pxe=C0e("SelectContent.RemoveScroll"),FB=_.forwardRef((t,e)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:u,align:d,alignOffset:f,arrowPadding:p,collisionBoundary:y,collisionPadding:x,sticky:w,hideWhenDetached:T,avoidCollisions:S,...A}=t,N=Wl(lu,n),[P,O]=_.useState(null),[L,F]=_.useState(null),I=cs(e,de=>O(de)),[R,D]=_.useState(null),[z,B]=_.useState(null),H=Kv(n),[U,he]=_.useState(!1),ce=_.useRef(!1);_.useEffect(()=>{if(P)return F0e(P)},[P]),Kge();const K=_.useCallback(de=>{const[Le,...Pe]=H().map(We=>We.ref.current),[Se]=Pe.slice(-1),Ye=document.activeElement;for(const We of de)if(We===Ye||(We?.scrollIntoView({block:"nearest"}),We===Le&&L&&(L.scrollTop=0),We===Se&&L&&(L.scrollTop=L.scrollHeight),We?.focus(),document.activeElement!==Ye))return},[H,L]),X=_.useCallback(()=>K([R,P]),[K,R,P]);_.useEffect(()=>{U&&X()},[U,X]);const{onOpenChange:Y,triggerPointerDownPosRef:xe}=N;_.useEffect(()=>{if(P){let de={x:0,y:0};const Le=Se=>{de={x:Math.abs(Math.round(Se.pageX)-(xe.current?.x??0)),y:Math.abs(Math.round(Se.pageY)-(xe.current?.y??0))}},Pe=Se=>{de.x<=10&&de.y<=10?Se.preventDefault():P.contains(Se.target)||Y(!1),document.removeEventListener("pointermove",Le),xe.current=null};return xe.current!==null&&(document.addEventListener("pointermove",Le),document.addEventListener("pointerup",Pe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Le),document.removeEventListener("pointerup",Pe,{capture:!0})}}},[P,Y,xe]),_.useEffect(()=>{const de=()=>Y(!1);return window.addEventListener("blur",de),window.addEventListener("resize",de),()=>{window.removeEventListener("blur",de),window.removeEventListener("resize",de)}},[Y]);const[Me,q]=s7(de=>{const Le=H().filter(Ye=>!Ye.disabled),Pe=Le.find(Ye=>Ye.ref.current===document.activeElement),Se=r7(Le,de,Pe);Se&&setTimeout(()=>Se.ref.current.focus())}),se=_.useCallback((de,Le,Pe)=>{const Se=!ce.current&&!Pe;(N.value!==void 0&&N.value===Le||Se)&&(D(de),Se&&(ce.current=!0))},[N.value]),ue=_.useCallback(()=>P?.focus(),[P]),pe=_.useCallback((de,Le,Pe)=>{const Se=!ce.current&&!Pe;(N.value!==void 0&&N.value===Le||Se)&&B(de)},[N.value]),Ae=s==="popper"?uT:HB,Te=Ae===uT?{side:l,sideOffset:u,align:d,alignOffset:f,arrowPadding:p,collisionBoundary:y,collisionPadding:x,sticky:w,hideWhenDetached:T,avoidCollisions:S}:{};return m.jsx(UB,{scope:n,content:P,viewport:L,onViewportChange:F,itemRefCallback:se,selectedItem:R,onItemLeave:ue,itemTextRefCallback:pe,focusSelectedItem:X,selectedItemText:z,position:s,isPositioned:U,searchRef:Me,children:m.jsx(IB,{as:Pxe,allowPinchZoom:!0,children:m.jsx(Jz,{asChild:!0,trapped:N.open,onMountAutoFocus:de=>{de.preventDefault()},onUnmountAutoFocus:Sn(r,de=>{N.trigger?.focus({preventScroll:!0}),de.preventDefault()}),children:m.jsx(Xz,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:de=>de.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:m.jsx(Ae,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:de=>de.preventDefault(),...A,...Te,onPlaced:()=>he(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...A.style},onKeyDown:Sn(A.onKeyDown,de=>{const Le=de.ctrlKey||de.altKey||de.metaKey;if(de.key==="Tab"&&de.preventDefault(),!Le&&de.key.length===1&&q(de.key),["ArrowUp","ArrowDown","Home","End"].includes(de.key)){let Se=H().filter(Ye=>!Ye.disabled).map(Ye=>Ye.ref.current);if(["ArrowUp","End"].includes(de.key)&&(Se=Se.slice().reverse()),["ArrowUp","ArrowDown"].includes(de.key)){const Ye=de.target,We=Se.indexOf(Ye);Se=Se.slice(We+1)}setTimeout(()=>K(Se)),de.preventDefault()}})})})})})})});FB.displayName=Dxe;var Oxe="SelectItemAlignedPosition",HB=_.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:s,...r}=t,i=Wl(lu,n),o=Kl(lu,n),[l,u]=_.useState(null),[d,f]=_.useState(null),p=cs(e,I=>f(I)),y=Kv(n),x=_.useRef(!1),w=_.useRef(!0),{viewport:T,selectedItem:S,selectedItemText:A,focusSelectedItem:N}=o,P=_.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&T&&S&&A){const I=i.trigger.getBoundingClientRect(),R=d.getBoundingClientRect(),D=i.valueNode.getBoundingClientRect(),z=A.getBoundingClientRect();if(i.dir!=="rtl"){const Ye=z.left-R.left,We=D.left-Ye,Rt=I.left-We,wt=I.width+Rt,us=Math.max(wt,R.width),Ln=window.innerWidth-ii,Sr=d4(We,[ii,Math.max(ii,Ln-us)]);l.style.minWidth=wt+"px",l.style.left=Sr+"px"}else{const Ye=R.right-z.right,We=window.innerWidth-D.right-Ye,Rt=window.innerWidth-I.right-We,wt=I.width+Rt,us=Math.max(wt,R.width),Ln=window.innerWidth-ii,Sr=d4(We,[ii,Math.max(ii,Ln-us)]);l.style.minWidth=wt+"px",l.style.right=Sr+"px"}const B=y(),H=window.innerHeight-ii*2,U=T.scrollHeight,he=window.getComputedStyle(d),ce=parseInt(he.borderTopWidth,10),K=parseInt(he.paddingTop,10),X=parseInt(he.borderBottomWidth,10),Y=parseInt(he.paddingBottom,10),xe=ce+K+U+Y+X,Me=Math.min(S.offsetHeight*5,xe),q=window.getComputedStyle(T),se=parseInt(q.paddingTop,10),ue=parseInt(q.paddingBottom,10),pe=I.top+I.height/2-ii,Ae=H-pe,Te=S.offsetHeight/2,de=S.offsetTop+Te,Le=ce+K+de,Pe=xe-Le;if(Le<=pe){const Ye=B.length>0&&S===B[B.length-1].ref.current;l.style.bottom="0px";const We=d.clientHeight-T.offsetTop-T.offsetHeight,Rt=Math.max(Ae,Te+(Ye?ue:0)+We+X),wt=Le+Rt;l.style.height=wt+"px"}else{const Ye=B.length>0&&S===B[0].ref.current;l.style.top="0px";const Rt=Math.max(pe,ce+T.offsetTop+(Ye?se:0)+Te)+Pe;l.style.height=Rt+"px",T.scrollTop=Le-pe+T.offsetTop}l.style.margin=`${ii}px 0`,l.style.minHeight=Me+"px",l.style.maxHeight=H+"px",s?.(),requestAnimationFrame(()=>x.current=!0)}},[y,i.trigger,i.valueNode,l,d,T,S,A,i.dir,s]);Zs(()=>P(),[P]);const[O,L]=_.useState();Zs(()=>{d&&L(window.getComputedStyle(d).zIndex)},[d]);const F=_.useCallback(I=>{I&&w.current===!0&&(P(),N?.(),w.current=!1)},[P,N]);return m.jsx(Lxe,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:x,onScrollButtonChange:F,children:m.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:O},children:m.jsx(hn.div,{...r,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...r.style}})})})});HB.displayName=Oxe;var jxe="SelectPopperPosition",uT=_.forwardRef((t,e)=>{const{__scopeSelect:n,align:s="start",collisionPadding:r=ii,...i}=t,o=Gv(n);return m.jsx(T0e,{...o,...i,ref:e,align:s,collisionPadding:r,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});uT.displayName=jxe;var[Lxe,gA]=Eh(lu,{}),dT="SelectViewport",$B=_.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:s,...r}=t,i=Kl(dT,n),o=gA(dT,n),l=cs(e,i.onViewportChange),u=_.useRef(0);return m.jsxs(m.Fragment,{children:[m.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),m.jsx(Wv.Slot,{scope:n,children:m.jsx(hn.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...r.style},onScroll:Sn(r.onScroll,d=>{const f=d.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:y}=o;if(y?.current&&p){const x=Math.abs(u.current-f.scrollTop);if(x>0){const w=window.innerHeight-ii*2,T=parseFloat(p.style.minHeight),S=parseFloat(p.style.height),A=Math.max(T,S);if(A<w){const N=A+x,P=Math.min(w,N),O=N-P;p.style.height=P+"px",p.style.bottom==="0px"&&(f.scrollTop=O>0?O:0,p.style.justifyContent="flex-end")}}}u.current=f.scrollTop})})})]})});$B.displayName=dT;var qB="SelectGroup",[Vxe,zxe]=Eh(qB),Bxe=_.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,r=aA();return m.jsx(Vxe,{scope:n,id:r,children:m.jsx(hn.div,{role:"group","aria-labelledby":r,...s,ref:e})})});Bxe.displayName=qB;var WB="SelectLabel",Uxe=_.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,r=zxe(WB,n);return m.jsx(hn.div,{id:r.id,...s,ref:e})});Uxe.displayName=WB;var Ux="SelectItem",[Fxe,KB]=Eh(Ux),GB=_.forwardRef((t,e)=>{const{__scopeSelect:n,value:s,disabled:r=!1,textValue:i,...o}=t,l=Wl(Ux,n),u=Kl(Ux,n),d=l.value===s,[f,p]=_.useState(i??""),[y,x]=_.useState(!1),w=cs(e,N=>u.itemRefCallback?.(N,s,r)),T=aA(),S=_.useRef("touch"),A=()=>{r||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return m.jsx(Fxe,{scope:n,value:s,disabled:r,textId:T,isSelected:d,onItemTextChange:_.useCallback(N=>{p(P=>P||(N?.textContent??"").trim())},[]),children:m.jsx(Wv.ItemSlot,{scope:n,value:s,disabled:r,textValue:f,children:m.jsx(hn.div,{role:"option","aria-labelledby":T,"data-highlighted":y?"":void 0,"aria-selected":d&&y,"data-state":d?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...o,ref:w,onFocus:Sn(o.onFocus,()=>x(!0)),onBlur:Sn(o.onBlur,()=>x(!1)),onClick:Sn(o.onClick,()=>{S.current!=="mouse"&&A()}),onPointerUp:Sn(o.onPointerUp,()=>{S.current==="mouse"&&A()}),onPointerDown:Sn(o.onPointerDown,N=>{S.current=N.pointerType}),onPointerMove:Sn(o.onPointerMove,N=>{S.current=N.pointerType,r?u.onItemLeave?.():S.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Sn(o.onPointerLeave,N=>{N.currentTarget===document.activeElement&&u.onItemLeave?.()}),onKeyDown:Sn(o.onKeyDown,N=>{u.searchRef?.current!==""&&N.key===" "||(Axe.includes(N.key)&&A(),N.key===" "&&N.preventDefault())})})})})});GB.displayName=Ux;var qf="SelectItemText",YB=_.forwardRef((t,e)=>{const{__scopeSelect:n,className:s,style:r,...i}=t,o=Wl(qf,n),l=Kl(qf,n),u=KB(qf,n),d=Rxe(qf,n),[f,p]=_.useState(null),y=cs(e,A=>p(A),u.onItemTextChange,A=>l.itemTextRefCallback?.(A,u.value,u.disabled)),x=f?.textContent,w=_.useMemo(()=>m.jsx("option",{value:u.value,disabled:u.disabled,children:x},u.value),[u.disabled,u.value,x]),{onNativeOptionAdd:T,onNativeOptionRemove:S}=d;return Zs(()=>(T(w),()=>S(w)),[T,S,w]),m.jsxs(m.Fragment,{children:[m.jsx(hn.span,{id:u.textId,...i,ref:y}),u.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ki.createPortal(i.children,o.valueNode):null]})});YB.displayName=qf;var XB="SelectItemIndicator",QB=_.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t;return KB(XB,n).isSelected?m.jsx(hn.span,{"aria-hidden":!0,...s,ref:e}):null});QB.displayName=XB;var hT="SelectScrollUpButton",JB=_.forwardRef((t,e)=>{const n=Kl(hT,t.__scopeSelect),s=gA(hT,t.__scopeSelect),[r,i]=_.useState(!1),o=cs(e,s.onScrollButtonChange);return Zs(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=u.scrollTop>0;i(d)};const u=n.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),r?m.jsx(e7,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=n;l&&u&&(l.scrollTop=l.scrollTop-u.offsetHeight)}}):null});JB.displayName=hT;var fT="SelectScrollDownButton",ZB=_.forwardRef((t,e)=>{const n=Kl(fT,t.__scopeSelect),s=gA(fT,t.__scopeSelect),[r,i]=_.useState(!1),o=cs(e,s.onScrollButtonChange);return Zs(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=u.scrollHeight-u.clientHeight,f=Math.ceil(u.scrollTop)<d;i(f)};const u=n.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),r?m.jsx(e7,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=n;l&&u&&(l.scrollTop=l.scrollTop+u.offsetHeight)}}):null});ZB.displayName=fT;var e7=_.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:s,...r}=t,i=Kl("SelectScrollButton",n),o=_.useRef(null),l=Kv(n),u=_.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return _.useEffect(()=>()=>u(),[u]),Zs(()=>{l().find(f=>f.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),m.jsx(hn.div,{"aria-hidden":!0,...r,ref:e,style:{flexShrink:0,...r.style},onPointerDown:Sn(r.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:Sn(r.onPointerMove,()=>{i.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:Sn(r.onPointerLeave,()=>{u()})})}),Hxe="SelectSeparator",$xe=_.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t;return m.jsx(hn.div,{"aria-hidden":!0,...s,ref:e})});$xe.displayName=Hxe;var pT="SelectArrow",qxe=_.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,r=Gv(n),i=Wl(pT,n),o=Kl(pT,n);return i.open&&o.position==="popper"?m.jsx(_0e,{...r,...s,ref:e}):null});qxe.displayName=pT;var Wxe="SelectBubbleInput",t7=_.forwardRef(({__scopeSelect:t,value:e,...n},s)=>{const r=_.useRef(null),i=cs(s,r),o=j0e(e);return _.useEffect(()=>{const l=r.current;if(!l)return;const u=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(u,"value").set;if(o!==e&&f){const p=new Event("change",{bubbles:!0});f.call(l,e),l.dispatchEvent(p)}},[o,e]),m.jsx(hn.select,{...n,style:{...SB,...n.style},ref:i,defaultValue:e})});t7.displayName=Wxe;function n7(t){return t===""||t===void 0}function s7(t){const e=iu(t),n=_.useRef(""),s=_.useRef(0),r=_.useCallback(o=>{const l=n.current+o;e(l),(function u(d){n.current=d,window.clearTimeout(s.current),d!==""&&(s.current=window.setTimeout(()=>u(""),1e3))})(l)},[e]),i=_.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,r,i]}function r7(t,e,n){const r=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=Kxe(t,Math.max(i,0));r.length===1&&(o=o.filter(d=>d!==n));const u=o.find(d=>d.textValue.toLowerCase().startsWith(r.toLowerCase()));return u!==n?u:void 0}function Kxe(t,e){return t.map((n,s)=>t[(e+s)%t.length])}var Gxe=DB,Yxe=OB,Xxe=LB,Qxe=VB,Jxe=zB,Zxe=BB,eve=$B,tve=GB,nve=YB,sve=QB,rve=JB,ive=ZB;function i7({...t}){return m.jsx(Gxe,{"code-path":"src/components/ui/select.tsx:10:10","data-slot":"select",...t})}function o7({...t}){return m.jsx(Xxe,{"code-path":"src/components/ui/select.tsx:22:10","data-slot":"select-value",...t})}function a7({className:t,size:e="default",children:n,...s}){return m.jsxs(Yxe,{"code-path":"src/components/ui/select.tsx:34:5","data-slot":"select-trigger","data-size":e,className:bi("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...s,children:[n,m.jsx(Qxe,{"code-path":"src/components/ui/select.tsx:44:7",asChild:!0,children:m.jsx(xv,{"code-path":"src/components/ui/select.tsx:45:9",className:"size-4 opacity-50"})})]})}function l7({className:t,children:e,position:n="item-aligned",align:s="center",...r}){return m.jsx(Jxe,{"code-path":"src/components/ui/select.tsx:59:5",children:m.jsxs(Zxe,{"code-path":"src/components/ui/select.tsx:60:7","data-slot":"select-content",className:bi("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,align:s,...r,children:[m.jsx(ove,{"code-path":"src/components/ui/select.tsx:72:9"}),m.jsx(eve,{"code-path":"src/components/ui/select.tsx:73:9",className:bi("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),m.jsx(ave,{"code-path":"src/components/ui/select.tsx:82:9"})]})})}function c7({className:t,children:e,...n}){return m.jsxs(tve,{"code-path":"src/components/ui/select.tsx:107:5","data-slot":"select-item",className:bi("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[m.jsx("span",{"code-path":"src/components/ui/select.tsx:115:7","data-slot":"select-item-indicator",className:"absolute right-2 flex size-3.5 items-center justify-center",children:m.jsx(sve,{"code-path":"src/components/ui/select.tsx:119:9",children:m.jsx(yv,{"code-path":"src/components/ui/select.tsx:120:11",className:"size-4"})})}),m.jsx(nve,{"code-path":"src/components/ui/select.tsx:123:7",children:e})]})}function ove({className:t,...e}){return m.jsx(rve,{"code-path":"src/components/ui/select.tsx:146:5","data-slot":"select-scroll-up-button",className:bi("flex cursor-default items-center justify-center py-1",t),...e,children:m.jsx(GL,{"code-path":"src/components/ui/select.tsx:154:7",className:"size-4"})})}function ave({className:t,...e}){return m.jsx(ive,{"code-path":"src/components/ui/select.tsx:164:5","data-slot":"select-scroll-down-button",className:bi("flex cursor-default items-center justify-center py-1",t),...e,children:m.jsx(xv,{"code-path":"src/components/ui/select.tsx:172:7",className:"size-4"})})}function lve({setRoute:t}){const[e,n]=_.useState("info"),{addToast:s}=Gr(),{currentUser:r,userRole:i}=mo(),[o,l]=_.useState(null),[u,d]=_.useState(!0),[f,p]=_.useState(!1),[y,x]=_.useState([]),[w,T]=_.useState(!1),[S,A]=_.useState(""),[N,P]=_.useState(!1);_.useEffect(()=>{(async()=>{try{const K=Fd(Jo(ws,"events"),I5("createdAt","desc"),WY(1)),X=await Hd(K);X.empty||l({id:X.docs[0].id,...X.docs[0].data()})}catch(K){console.error(":",K)}finally{d(!1)}})()},[]);const O=o||{id:"mock-event-id",name:"2026 ",sport:"",startDate:"2026-04-15",endDate:"2026-04-30",location:"",organizer:"",organizerId:"mock-organizer-id",description:"",bannerImage:"https://images.unsplash.com/photo-1546519638-68e109498ffc?q=80&w=2090&auto=format&fit=crop",maxTeams:16,teamsRegistered:0,registrationFee:3e3,requirePayment:!0,registrationDeadline:"2026-04-10"},L=O.teamsRegistered||0,F=O.maxTeams||16,I=Math.round(L/F*100)||0,R=i==="organizer"||i==="admin",D=r&&O.organizerId===r.uid,z=L>=F;let B="",H=!1;D?(B="",H=!0):R?(B=" ()",H=!0):z&&(B="",H=!0);const U=async()=>{if(!r){s({title:"",description:"",variant:"error"});return}if(!H){p(!0),T(!0);try{const ce=Fd(Jo(ws,"teams"),C0("captainId","==",r.uid)),X=(await Hd(ce)).docs.map(Y=>({id:Y.id,...Y.data()}));x(X),X.length>0&&A(X[0].id)}catch(ce){console.error(":",ce),s({title:"",variant:"error"})}finally{T(!1)}}},he=async()=>{if(!(!S||!r||!O)){P(!0);try{const ce=y.find(K=>K.id===S);await g_(Jo(ws,"registrations"),{eventId:O.id||"mock-event-id",eventName:O.name,teamId:ce.id,teamName:ce.name,captainId:r.uid,captainEmail:r.email,status:"pending",createdAt:R5()}),s({title:"",description:"",variant:"success"}),p(!1)}catch(ce){console.error(":",ce),s({title:"",variant:"error"})}finally{P(!1)}}};return u?m.jsx("div",{"code-path":"src/pages/PublicEventPage.tsx:159:7",className:"min-h-screen bg-slate-950 flex items-center justify-center",children:m.jsx(mi,{"code-path":"src/pages/PublicEventPage.tsx:160:9",className:"w-10 h-10 animate-spin text-orange-500"})}):m.jsxs("div",{"code-path":"src/pages/PublicEventPage.tsx:166:5",className:"min-h-screen bg-slate-950 pb-12",children:[m.jsxs("div",{"code-path":"src/pages/PublicEventPage.tsx:168:7",className:"h-64 bg-slate-900 relative border-b border-orange-500/30 overflow-hidden",children:[m.jsx(ve.div,{"code-path":"src/pages/PublicEventPage.tsx:169:9",className:"absolute inset-0 bg-cover bg-center opacity-40",style:{backgroundImage:`url(${O.bannerImage||"https://images.unsplash.com/photo-1546519638-68e109498ffc?q=80&w=2090&auto=format&fit=crop"})`},initial:{scale:1.1},animate:{scale:1},transition:{duration:10,repeat:1/0,repeatType:"reverse"}}),m.jsx("div",{"code-path":"src/pages/PublicEventPage.tsx:174:9",className:"absolute inset-0 bg-gradient-to-t from-slate-950 via-slate-950/60 to-transparent"}),m.jsx("div",{"code-path":"src/pages/PublicEventPage.tsx:175:9",className:"relative max-w-5xl mx-auto px-6 h-full flex flex-col justify-end pb-8",children:m.jsxs(ve.div,{"code-path":"src/pages/PublicEventPage.tsx:176:11",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[m.jsx(Vc,{"code-path":"src/pages/PublicEventPage.tsx:177:13",className:"w-fit mb-3 bg-orange-500/20 text-orange-400 border-orange-500/50",children:O.sport}),m.jsx("h1",{"code-path":"src/pages/PublicEventPage.tsx:180:13",className:"text-4xl font-extrabold text-white drop-shadow-md",children:O.name}),m.jsxs("p",{"code-path":"src/pages/PublicEventPage.tsx:181:13",className:"text-slate-300 mt-2 flex items-center gap-4 flex-wrap drop-shadow",children:[m.jsxs("span",{"code-path":"src/pages/PublicEventPage.tsx:182:15",className:"flex items-center gap-1",children:[m.jsx(vi,{"code-path":"src/pages/PublicEventPage.tsx:182:57",className:"w-4 h-4"})," ",O.startDate," "]}),m.jsxs("span",{"code-path":"src/pages/PublicEventPage.tsx:183:15",className:"flex items-center gap-1",children:[m.jsx(fh,{"code-path":"src/pages/PublicEventPage.tsx:183:57",className:"w-4 h-4"})," ",O.location||""]}),m.jsxs("span",{"code-path":"src/pages/PublicEventPage.tsx:184:15",className:"flex items-center gap-1",children:[m.jsx(Ss,{"code-path":"src/pages/PublicEventPage.tsx:184:57",className:"w-4 h-4"})," ",O.organizer]})]})]})})]}),m.jsx("div",{"code-path":"src/pages/PublicEventPage.tsx:191:7",className:"border-b border-slate-800 sticky top-16 bg-slate-950/80 backdrop-blur z-20",children:m.jsx("div",{"code-path":"src/pages/PublicEventPage.tsx:192:9",className:"max-w-5xl mx-auto px-6 flex gap-6 overflow-x-auto",children:["info:","bracket:","teams:","live:"].map(ce=>{const[K,X]=ce.split(":");return m.jsxs("button",{"code-path":"src/pages/PublicEventPage.tsx:196:15",onClick:()=>n(K),className:`py-4 font-medium text-sm border-b-2 transition-colors relative whitespace-nowrap ${e===K?"border-orange-500 text-orange-400":"border-transparent text-slate-400 hover:text-white"}`,children:[X,e===K&&m.jsx(ve.div,{"code-path":"src/pages/PublicEventPage.tsx:203:32",layoutId:"eventTab",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-orange-500"})]},K)})})}),m.jsxs("div",{"code-path":"src/pages/PublicEventPage.tsx:210:7",className:"max-w-5xl mx-auto px-6 py-8 relative",children:[e==="info"&&m.jsxs(vs,{"code-path":"src/pages/PublicEventPage.tsx:212:11",className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[m.jsx("div",{"code-path":"src/pages/PublicEventPage.tsx:213:13",className:"md:col-span-2 space-y-8",children:m.jsxs("section",{"code-path":"src/pages/PublicEventPage.tsx:214:15",children:[m.jsx("h3",{"code-path":"src/pages/PublicEventPage.tsx:215:18",className:"text-xl font-bold text-white mb-4",children:""}),m.jsx(kt,{"code-path":"src/pages/PublicEventPage.tsx:216:18",className:"p-6 bg-slate-800 border-slate-700",children:m.jsx("p",{"code-path":"src/pages/PublicEventPage.tsx:217:21",className:"text-slate-300 leading-relaxed whitespace-pre-wrap",children:O.description||""})})]})}),m.jsx("div",{"code-path":"src/pages/PublicEventPage.tsx:225:13",children:m.jsxs(kt,{"code-path":"src/pages/PublicEventPage.tsx:226:15",className:"p-6 space-y-6 sticky top-36 bg-slate-800 border-slate-700 shadow-xl",children:[m.jsx("h3",{"code-path":"src/pages/PublicEventPage.tsx:227:17",className:"text-lg font-bold text-white border-b border-slate-700 pb-2",children:""}),m.jsxs("div",{"code-path":"src/pages/PublicEventPage.tsx:229:17",className:"space-y-3",children:[m.jsxs("div",{"code-path":"src/pages/PublicEventPage.tsx:230:19",className:"flex justify-between text-sm",children:[m.jsx("span",{"code-path":"src/pages/PublicEventPage.tsx:231:21",className:"text-slate-400",children:""}),m.jsx("span",{"code-path":"src/pages/PublicEventPage.tsx:232:21",className:"text-emerald-400 font-bold",children:O.status||""})]}),m.jsxs("div",{"code-path":"src/pages/PublicEventPage.tsx:234:19",className:"flex justify-between text-sm",children:[m.jsx("span",{"code-path":"src/pages/PublicEventPage.tsx:235:21",className:"text-slate-400",children:""}),m.jsx("span",{"code-path":"src/pages/PublicEventPage.tsx:236:21",className:"text-white",children:O.registrationDeadline||""})]}),m.jsxs("div",{"code-path":"src/pages/PublicEventPage.tsx:238:19",className:"flex justify-between text-sm",children:[m.jsx("span",{"code-path":"src/pages/PublicEventPage.tsx:239:21",className:"text-slate-400",children:""}),m.jsx("span",{"code-path":"src/pages/PublicEventPage.tsx:240:21",className:"text-white",children:O.requirePayment?`$${O.registrationFee} / `:""})]})]}),m.jsxs("div",{"code-path":"src/pages/PublicEventPage.tsx:247:17",className:"pt-4 border-t border-slate-700/50",children:[m.jsxs("div",{"code-path":"src/pages/PublicEventPage.tsx:248:19",className:"flex justify-between items-end mb-2",children:[m.jsx("span",{"code-path":"src/pages/PublicEventPage.tsx:249:21",className:"text-sm font-medium text-slate-300",children:""}),m.jsxs("span",{"code-path":"src/pages/PublicEventPage.tsx:250:21",className:"text-sm font-bold text-orange-400",children:[L," / ",F," "]})]}),m.jsx("div",{"code-path":"src/pages/PublicEventPage.tsx:252:19",className:"bg-slate-950 rounded-full h-2.5 overflow-hidden shadow-inner border border-slate-800",children:m.jsx(ve.div,{"code-path":"src/pages/PublicEventPage.tsx:253:21",className:"h-full bg-gradient-to-r from-orange-600 to-orange-400",initial:{width:0},animate:{width:`${I}%`},transition:{duration:1}})}),z&&m.jsx("p",{"code-path":"src/pages/PublicEventPage.tsx:258:30",className:"text-xs text-red-400 mt-2 text-right",children:""})]}),m.jsx(De,{"code-path":"src/pages/PublicEventPage.tsx:262:17",className:`w-full py-6 text-lg font-bold transition-all shadow-lg ${H?"bg-slate-700 text-slate-400 cursor-not-allowed hover:bg-slate-700 shadow-none":"bg-orange-500 hover:bg-orange-600 text-white shadow-orange-500/20"}`,onClick:U,disabled:H,children:B})]})})]}),e==="bracket"&&m.jsx(vs,{"code-path":"src/pages/PublicEventPage.tsx:278:31",children:m.jsx("div",{"code-path":"src/pages/PublicEventPage.tsx:278:39",className:"text-center py-20 text-slate-400",children:""})}),e==="teams"&&m.jsx(vs,{"code-path":"src/pages/PublicEventPage.tsx:279:29",children:m.jsx("div",{"code-path":"src/pages/PublicEventPage.tsx:279:37",className:"text-center py-20 text-slate-400",children:""})}),e==="live"&&m.jsx(vs,{"code-path":"src/pages/PublicEventPage.tsx:280:28",children:m.jsx("div",{"code-path":"src/pages/PublicEventPage.tsx:280:36",className:"text-center py-20 text-slate-400",children:""})})]}),m.jsx(On,{"code-path":"src/pages/PublicEventPage.tsx:284:7",children:f&&m.jsx("div",{"code-path":"src/pages/PublicEventPage.tsx:286:11",className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-950/80 backdrop-blur-sm",children:m.jsxs(ve.div,{"code-path":"src/pages/PublicEventPage.tsx:287:13",initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"w-full max-w-md bg-slate-900 border border-slate-700 rounded-xl shadow-2xl overflow-hidden",children:[m.jsxs("div",{"code-path":"src/pages/PublicEventPage.tsx:291:15",className:"p-4 border-b border-slate-800 flex justify-between items-center bg-slate-800/50",children:[m.jsxs("h3",{"code-path":"src/pages/PublicEventPage.tsx:292:17",className:"text-lg font-bold text-white flex items-center gap-2",children:[m.jsx(Cn,{"code-path":"src/pages/PublicEventPage.tsx:293:19",className:"w-5 h-5 text-orange-400"}),""]}),m.jsx("button",{"code-path":"src/pages/PublicEventPage.tsx:296:17",onClick:()=>p(!1),className:"text-slate-400 hover:text-white transition-colors",children:m.jsx(hu,{"code-path":"src/pages/PublicEventPage.tsx:297:19",className:"w-5 h-5"})})]}),m.jsx("div",{"code-path":"src/pages/PublicEventPage.tsx:301:15",className:"p-6",children:w?m.jsxs("div",{"code-path":"src/pages/PublicEventPage.tsx:303:19",className:"flex flex-col items-center justify-center py-8",children:[m.jsx(mi,{"code-path":"src/pages/PublicEventPage.tsx:304:21",className:"w-8 h-8 animate-spin text-orange-500 mb-4"}),m.jsx("p",{"code-path":"src/pages/PublicEventPage.tsx:305:21",className:"text-slate-400",children:"..."})]}):y.length===0?m.jsxs("div",{"code-path":"src/pages/PublicEventPage.tsx:308:19",className:"text-center py-6 bg-slate-950 rounded-lg border border-dashed border-slate-700",children:[m.jsx(j0,{"code-path":"src/pages/PublicEventPage.tsx:309:21",className:"w-10 h-10 text-slate-500 mx-auto mb-3"}),m.jsx("p",{"code-path":"src/pages/PublicEventPage.tsx:310:21",className:"text-slate-300 font-medium mb-1",children:""}),m.jsx("p",{"code-path":"src/pages/PublicEventPage.tsx:311:21",className:"text-sm text-slate-500 mb-4",children:""}),m.jsx(De,{"code-path":"src/pages/PublicEventPage.tsx:312:21",onClick:()=>{p(!1),t("member")},className:"bg-slate-800 text-white hover:bg-slate-700",children:""})]}):m.jsxs("div",{"code-path":"src/pages/PublicEventPage.tsx:317:19",className:"space-y-4",children:[m.jsxs("div",{"code-path":"src/pages/PublicEventPage.tsx:318:21",className:"space-y-2",children:[m.jsx("label",{"code-path":"src/pages/PublicEventPage.tsx:319:23",className:"text-sm font-medium text-slate-300",children:""}),m.jsxs(i7,{"code-path":"src/pages/PublicEventPage.tsx:320:23",value:S,onValueChange:A,children:[m.jsx(a7,{"code-path":"src/pages/PublicEventPage.tsx:321:25",className:"w-full bg-slate-950 border-slate-700 text-white h-12",children:m.jsx(o7,{"code-path":"src/pages/PublicEventPage.tsx:322:27",placeholder:""})}),m.jsx(l7,{"code-path":"src/pages/PublicEventPage.tsx:324:25",className:"bg-slate-800 border-slate-700 text-white",children:y.map(ce=>m.jsxs(c7,{"code-path":"src/pages/PublicEventPage.tsx:326:29",value:ce.id,className:"focus:bg-slate-700",children:[ce.name," (",ce.sport||""," - ",ce.members?.length||1," )"]},ce.id))})]})]}),m.jsxs("div",{"code-path":"src/pages/PublicEventPage.tsx:333:21",className:"bg-orange-500/10 border border-orange-500/20 rounded-lg p-3 text-sm text-orange-200 flex gap-2",children:[m.jsx(j0,{"code-path":"src/pages/PublicEventPage.tsx:334:23",className:"w-4 h-4 text-orange-400 shrink-0 mt-0.5"}),m.jsx("p",{"code-path":"src/pages/PublicEventPage.tsx:335:23",children:""})]})]})}),m.jsxs("div",{"code-path":"src/pages/PublicEventPage.tsx:341:15",className:"flex justify-end gap-3 p-4 bg-slate-800/50 border-t border-slate-800",children:[m.jsx(De,{"code-path":"src/pages/PublicEventPage.tsx:342:17",variant:"ghost",onClick:()=>p(!1),className:"text-slate-300 hover:text-white",children:""}),m.jsx(De,{"code-path":"src/pages/PublicEventPage.tsx:343:17",className:"bg-orange-500 hover:bg-orange-600 text-white",onClick:he,disabled:N||y.length===0,children:N?m.jsxs(m.Fragment,{children:[m.jsx(mi,{"code-path":"src/pages/PublicEventPage.tsx:348:37",className:"w-4 h-4 mr-2 animate-spin"})," ..."]}):""})]})]})})}),m.jsx(R6,{"code-path":"src/pages/PublicEventPage.tsx:356:7"})]})}function cve({setRoute:t}){const[e,n]=_.useState(78),[s,r]=_.useState(65),[i,o]=_.useState(3),[l,u]=_.useState(2),[d,f]=_.useState(!1),[p,y]=_.useState(null),{addToast:x}=Gr(),w=(A,N)=>{A==="A"?n(P=>P+N):r(P=>P+N),y({team:A,points:N}),f(!0),setTimeout(()=>f(!1),3e3)},T=()=>{p&&(p.team==="A"?n(A=>Math.max(0,A-p.points)):r(A=>Math.max(0,A-p.points)),f(!1),x({title:"",description:` ${p.points} `,variant:"default"}))},S=A=>{A==="A"?(o(N=>Math.min(5,N+1)),i+1>=5&&x({title:"",description:" 5 ",variant:"warning"})):(u(N=>Math.min(5,N+1)),l+1>=5&&x({title:"",description:" 5 ",variant:"warning"}))};return m.jsxs("div",{"code-path":"src/pages/ScorekeeperApp.tsx:75:5",className:"fixed inset-0 bg-slate-950 z-50 flex flex-col",children:[m.jsxs("div",{"code-path":"src/pages/ScorekeeperApp.tsx:77:7",className:"h-16 bg-slate-900 border-b border-slate-800 flex items-center justify-between px-4",children:[m.jsxs(De,{"code-path":"src/pages/ScorekeeperApp.tsx:78:9",variant:"ghost",className:"px-2",onClick:()=>t("public_event"),children:[m.jsx(KL,{"code-path":"src/pages/ScorekeeperApp.tsx:79:11",className:"w-6 h-6"})," "]}),m.jsx("div",{"code-path":"src/pages/ScorekeeperApp.tsx:81:9",className:"text-center",children:m.jsx(Vc,{"code-path":"src/pages/ScorekeeperApp.tsx:82:11",className:"bg-red-500/20 text-red-400 border-red-500/50 text-sm px-3 py-1",children:" - 08:42"})}),m.jsxs(De,{"code-path":"src/pages/ScorekeeperApp.tsx:84:9",variant:"outline",className:"border-slate-700 text-xs",children:[m.jsx(V0,{"code-path":"src/pages/ScorekeeperApp.tsx:85:11",className:"w-4 h-4 mr-1"})," "]})]}),m.jsxs("div",{"code-path":"src/pages/ScorekeeperApp.tsx:90:7",className:"h-24 bg-slate-900 flex items-center justify-center gap-8 border-b border-slate-800",children:[m.jsxs("div",{"code-path":"src/pages/ScorekeeperApp.tsx:91:9",className:"text-center",children:[m.jsx("p",{"code-path":"src/pages/ScorekeeperApp.tsx:92:11",className:"text-slate-400 text-sm mb-1",children:""}),m.jsx("p",{"code-path":"src/pages/ScorekeeperApp.tsx:93:11",className:"text-4xl font-bold text-white",children:e})]}),m.jsx("div",{"code-path":"src/pages/ScorekeeperApp.tsx:95:9",className:"text-2xl text-slate-600",children:"VS"}),m.jsxs("div",{"code-path":"src/pages/ScorekeeperApp.tsx:96:9",className:"text-center",children:[m.jsx("p",{"code-path":"src/pages/ScorekeeperApp.tsx:97:11",className:"text-slate-400 text-sm mb-1",children:""}),m.jsx("p",{"code-path":"src/pages/ScorekeeperApp.tsx:98:11",className:"text-4xl font-bold text-white",children:s})]})]}),m.jsxs("div",{"code-path":"src/pages/ScorekeeperApp.tsx:103:7",className:"flex-1 flex flex-col md:flex-row",children:[m.jsxs("div",{"code-path":"src/pages/ScorekeeperApp.tsx:105:9",className:"flex-1 border-b md:border-b-0 md:border-r border-slate-800 p-4 flex flex-col relative bg-gradient-to-br from-slate-900 to-slate-950",children:[m.jsx("div",{"code-path":"src/pages/ScorekeeperApp.tsx:107:11",className:"absolute top-4 left-4 flex gap-1",children:[...Array(5)].map((A,N)=>m.jsx("div",{"code-path":"src/pages/ScorekeeperApp.tsx:109:15",className:`w-3 h-3 rounded-full ${N<i?"bg-red-500":"bg-slate-700"}`},N))}),m.jsx("div",{"code-path":"src/pages/ScorekeeperApp.tsx:116:11",className:"flex-1 flex items-center justify-center",children:m.jsx(ve.div,{"code-path":"src/pages/ScorekeeperApp.tsx:117:13",className:"text-[8rem] md:text-[12rem] font-display text-white leading-none",initial:{scale:1.2,color:"#f97316"},animate:{scale:1,color:"#ffffff"},transition:{duration:.3},children:e},e)}),m.jsxs("div",{"code-path":"src/pages/ScorekeeperApp.tsx:129:11",className:"grid grid-cols-3 gap-3 mb-3",children:[m.jsx(ve.button,{"code-path":"src/pages/ScorekeeperApp.tsx:130:13",onClick:()=>w("A",1),className:"bg-slate-800 hover:bg-slate-700 text-white rounded-2xl h-20 md:h-24 text-2xl font-bold border border-slate-700 shadow-lg active:bg-slate-600",whileTap:{scale:.95},style:{touchAction:"manipulation"},children:"+1"}),m.jsx(ve.button,{"code-path":"src/pages/ScorekeeperApp.tsx:138:13",onClick:()=>w("A",2),className:"bg-orange-600 hover:bg-orange-500 text-white rounded-2xl h-20 md:h-24 text-3xl font-bold border border-orange-500 shadow-lg shadow-orange-500/20 active:bg-orange-400",whileTap:{scale:.95},style:{touchAction:"manipulation"},children:"+2"}),m.jsx(ve.button,{"code-path":"src/pages/ScorekeeperApp.tsx:146:13",onClick:()=>w("A",3),className:"bg-slate-800 hover:bg-slate-700 text-white rounded-2xl h-20 md:h-24 text-2xl font-bold border border-slate-700 shadow-lg active:bg-slate-600",whileTap:{scale:.95},style:{touchAction:"manipulation"},children:"+3"})]}),m.jsxs("div",{"code-path":"src/pages/ScorekeeperApp.tsx:156:11",className:"flex gap-3",children:[m.jsx(ve.button,{"code-path":"src/pages/ScorekeeperApp.tsx:157:14",onClick:()=>n(A=>Math.max(0,A-1)),className:"flex-1 bg-slate-900 text-slate-500 rounded-xl py-3 border border-slate-800 text-sm",whileTap:{scale:.95},children:"-1 ()"}),m.jsxs(ve.button,{"code-path":"src/pages/ScorekeeperApp.tsx:164:14",onClick:()=>S("A"),className:"flex-1 bg-red-500/20 text-red-500 rounded-xl py-3 border border-red-500/50 text-sm font-medium",whileTap:{scale:.95},children:[" (",i,")"]})]})]}),m.jsxs("div",{"code-path":"src/pages/ScorekeeperApp.tsx:175:9",className:"flex-1 p-4 flex flex-col relative bg-gradient-to-bl from-slate-900 to-slate-950",children:[m.jsx("div",{"code-path":"src/pages/ScorekeeperApp.tsx:177:11",className:"absolute top-4 left-4 flex gap-1",children:[...Array(5)].map((A,N)=>m.jsx("div",{"code-path":"src/pages/ScorekeeperApp.tsx:179:15",className:`w-3 h-3 rounded-full ${N<l?"bg-red-500":"bg-slate-700"}`},N))}),m.jsx("div",{"code-path":"src/pages/ScorekeeperApp.tsx:186:11",className:"flex-1 flex items-center justify-center",children:m.jsx(ve.div,{"code-path":"src/pages/ScorekeeperApp.tsx:187:13",className:"text-[8rem] md:text-[12rem] font-display text-white leading-none",initial:{scale:1.2,color:"#f97316"},animate:{scale:1,color:"#ffffff"},transition:{duration:.3},children:s},s)}),m.jsxs("div",{"code-path":"src/pages/ScorekeeperApp.tsx:199:11",className:"grid grid-cols-3 gap-3 mb-3",children:[m.jsx(ve.button,{"code-path":"src/pages/ScorekeeperApp.tsx:200:13",onClick:()=>w("B",1),className:"bg-slate-800 hover:bg-slate-700 text-white rounded-2xl h-20 md:h-24 text-2xl font-bold border border-slate-700 shadow-lg active:bg-slate-600",whileTap:{scale:.95},style:{touchAction:"manipulation"},children:"+1"}),m.jsx(ve.button,{"code-path":"src/pages/ScorekeeperApp.tsx:208:13",onClick:()=>w("B",2),className:"bg-slate-600 hover:bg-slate-500 text-white rounded-2xl h-20 md:h-24 text-3xl font-bold border border-slate-600 shadow-lg active:bg-slate-400",whileTap:{scale:.95},style:{touchAction:"manipulation"},children:"+2"}),m.jsx(ve.button,{"code-path":"src/pages/ScorekeeperApp.tsx:216:13",onClick:()=>w("B",3),className:"bg-slate-800 hover:bg-slate-700 text-white rounded-2xl h-20 md:h-24 text-2xl font-bold border border-slate-700 shadow-lg active:bg-slate-600",whileTap:{scale:.95},style:{touchAction:"manipulation"},children:"+3"})]}),m.jsxs("div",{"code-path":"src/pages/ScorekeeperApp.tsx:226:11",className:"flex gap-3",children:[m.jsx(ve.button,{"code-path":"src/pages/ScorekeeperApp.tsx:227:14",onClick:()=>r(A=>Math.max(0,A-1)),className:"flex-1 bg-slate-900 text-slate-500 rounded-xl py-3 border border-slate-800 text-sm",whileTap:{scale:.95},children:"-1 ()"}),m.jsxs(ve.button,{"code-path":"src/pages/ScorekeeperApp.tsx:234:14",onClick:()=>S("B"),className:"flex-1 bg-red-500/20 text-red-500 rounded-xl py-3 border border-red-500/50 text-sm font-medium",whileTap:{scale:.95},children:[" (",l,")"]})]})]})]}),m.jsx(On,{"code-path":"src/pages/ScorekeeperApp.tsx:246:7",children:d&&m.jsxs(ve.div,{"code-path":"src/pages/ScorekeeperApp.tsx:248:11",className:"absolute bottom-6 left-1/2 -translate-x-1/2 bg-slate-800 border border-slate-700 rounded-full px-6 py-3 flex items-center gap-4 shadow-2xl",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},children:[m.jsx("span",{"code-path":"src/pages/ScorekeeperApp.tsx:254:13",className:"text-slate-300 text-sm",children:""}),m.jsx("button",{"code-path":"src/pages/ScorekeeperApp.tsx:255:13",onClick:T,className:"text-orange-400 hover:text-orange-300 text-sm font-medium",children:""})]})})]})}function Yo({className:t,type:e,...n}){return m.jsx("input",{"code-path":"src/components/ui/input.tsx:7:5",type:e,"data-slot":"input",className:bi("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}var uve=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],dve=uve.reduce((t,e)=>{const n=d6(`Primitive.${e}`),s=_.forwardRef((r,i)=>{const{asChild:o,...l}=r,u=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(u,{...l,ref:i})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{}),hve="Label",u7=_.forwardRef((t,e)=>m.jsx(dve.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));u7.displayName=hve;var fve=u7;function ai({className:t,...e}){return m.jsx(fve,{"code-path":"src/components/ui/label.tsx:13:5","data-slot":"label",className:bi("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}const pve=["","","","","","","",""],mve={totalEvents:12,upcomingEvents:3,teamsManaged:2,winRate:68};function gve({stats:t}){const{currentUser:e}=mo(),{addToast:n}=Gr(),s=_.useRef(null),[r,i]=_.useState(null),[o,l]=_.useState(!0),[u,d]=_.useState(!1),[f,p]=_.useState(!1),[y,x]=_.useState({name:"",phone:"",location:"",bio:""});_.useEffect(()=>{(async()=>{if(e)try{const A=xl(ws,"users",e.uid),N=await O5(A);if(N.exists()){const P=N.data();i(P),x({name:P.name||"",phone:P.phone||"",location:P.location||"",bio:P.bio||""})}}catch(A){console.error(A)}finally{l(!1)}})()},[e]);const w=async()=>{if(e){p(!0);try{const S=xl(ws,"users",e.uid);await NM(S,y,{merge:!0}),i(A=>({...A,...y})),d(!1),n({title:"",variant:"success"})}catch{n({title:"",variant:"error"})}finally{p(!1)}}},T=async S=>{const A=S.target.files?.[0];if(!(!A||!e)){p(!0),n({title:"...",variant:"info"});try{const N=nj(sj,`avatars/${e.uid}`);await tQ(N,A);const P=await tj(N);await NM(xl(ws,"users",e.uid),{avatarUrl:P},{merge:!0}),i(O=>({...O,avatarUrl:P})),n({title:"",variant:"success"})}catch{n({title:"",variant:"error"})}finally{p(!1)}}};return o||!r?m.jsx("div",{"code-path":"src/pages/MemberCenter.tsx:103:12",className:"flex justify-center py-20",children:m.jsx(mi,{"code-path":"src/pages/MemberCenter.tsx:103:55",className:"w-8 h-8 animate-spin text-orange-500"})}):m.jsxs("div",{"code-path":"src/pages/MemberCenter.tsx:107:5",className:"space-y-6",children:[m.jsx(kt,{"code-path":"src/pages/MemberCenter.tsx:108:7",className:"p-6 bg-slate-800 border-slate-700",children:m.jsxs("div",{"code-path":"src/pages/MemberCenter.tsx:109:9",className:"flex items-start gap-6",children:[m.jsxs("div",{"code-path":"src/pages/MemberCenter.tsx:110:11",className:"relative shrink-0 group cursor-pointer",onClick:()=>s.current?.click(),children:[m.jsx("input",{"code-path":"src/pages/MemberCenter.tsx:111:13",type:"file",accept:"image/*",className:"hidden",ref:s,onChange:T}),m.jsxs("div",{"code-path":"src/pages/MemberCenter.tsx:112:13",className:"w-24 h-24 rounded-full bg-gradient-to-br from-orange-500 to-red-500 flex items-center justify-center text-3xl font-bold text-white uppercase shadow-lg overflow-hidden relative",children:[r.avatarUrl?m.jsx("img",{"code-path":"src/pages/MemberCenter.tsx:114:17",src:r.avatarUrl,alt:"Avatar",className:"w-full h-full object-cover"}):r.name?r.name[0]:"U",f&&m.jsx("div",{"code-path":"src/pages/MemberCenter.tsx:119:17",className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:m.jsx(mi,{"code-path":"src/pages/MemberCenter.tsx:120:19",className:"w-6 h-6 animate-spin text-white"})})]}),m.jsx("button",{"code-path":"src/pages/MemberCenter.tsx:124:13",className:"absolute bottom-0 right-0 w-8 h-8 bg-slate-700 rounded-full flex items-center justify-center group-hover:bg-orange-500 transition-colors border-2 border-slate-800 z-10",children:m.jsx(Sne,{"code-path":"src/pages/MemberCenter.tsx:125:15",className:"w-4 h-4 text-white"})})]}),m.jsxs("div",{"code-path":"src/pages/MemberCenter.tsx:129:11",className:"flex-1 min-w-0",children:[m.jsxs("div",{"code-path":"src/pages/MemberCenter.tsx:130:13",className:"flex justify-between items-center",children:[m.jsxs("div",{"code-path":"src/pages/MemberCenter.tsx:131:15",children:[m.jsx("h3",{"code-path":"src/pages/MemberCenter.tsx:132:17",className:"text-2xl font-bold text-white truncate",children:r.name}),m.jsx("p",{"code-path":"src/pages/MemberCenter.tsx:133:17",className:"text-slate-400 truncate",children:e?.email})]}),m.jsxs(De,{"code-path":"src/pages/MemberCenter.tsx:135:15",variant:"outline",size:"sm",onClick:()=>d(!0),className:"border-slate-700 text-slate-300",children:[m.jsx(i2,{"code-path":"src/pages/MemberCenter.tsx:136:17",className:"w-4 h-4 mr-1"})," "]})]}),m.jsxs("div",{"code-path":"src/pages/MemberCenter.tsx:139:13",className:"flex flex-wrap items-center gap-x-6 gap-y-2 mt-4 text-sm text-slate-400",children:[m.jsxs("span",{"code-path":"src/pages/MemberCenter.tsx:140:15",className:"flex items-center gap-1.5",children:[m.jsx(o2,{"code-path":"src/pages/MemberCenter.tsx:140:59",className:"w-4 h-4"})," ",r.phone||""]}),m.jsxs("span",{"code-path":"src/pages/MemberCenter.tsx:141:15",className:"flex items-center gap-1.5",children:[m.jsx(fh,{"code-path":"src/pages/MemberCenter.tsx:141:59",className:"w-4 h-4"})," ",r.location||""]})]}),m.jsx("p",{"code-path":"src/pages/MemberCenter.tsx:143:13",className:"mt-4 text-slate-300 bg-slate-900/50 p-3 rounded-lg border border-slate-700/50",children:r.bio})]})]})}),m.jsx("div",{"code-path":"src/pages/MemberCenter.tsx:148:7",className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"",value:t.totalEvents,icon:Cn,color:"text-orange-500"},{label:"",value:t.upcomingEvents,icon:vi,color:"text-blue-500"},{label:"",value:t.teamsManaged,icon:Ss,color:"text-emerald-500"},{label:"",value:`${t.winRate}%`,icon:bS,color:"text-purple-500"}].map(S=>m.jsxs(kt,{"code-path":"src/pages/MemberCenter.tsx:155:11",className:"p-4 bg-slate-800 border-slate-700",children:[m.jsxs("div",{"code-path":"src/pages/MemberCenter.tsx:156:13",className:"flex items-center justify-between",children:[m.jsx(S.icon,{"code-path":"src/pages/MemberCenter.tsx:157:15",className:`w-8 h-8 ${S.color}`}),m.jsx("span",{"code-path":"src/pages/MemberCenter.tsx:158:15",className:"text-2xl font-bold text-white",children:S.value})]}),m.jsx("p",{"code-path":"src/pages/MemberCenter.tsx:160:13",className:"text-sm text-slate-400 mt-2",children:S.label})]},S.label))}),m.jsx(On,{"code-path":"src/pages/MemberCenter.tsx:165:7",children:u&&m.jsx("div",{"code-path":"src/pages/MemberCenter.tsx:167:11",className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-950/80 backdrop-blur-sm",children:m.jsxs(ve.div,{"code-path":"src/pages/MemberCenter.tsx:168:13",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-lg bg-slate-900 border border-slate-800 rounded-xl shadow-2xl",children:[m.jsxs("div",{"code-path":"src/pages/MemberCenter.tsx:169:15",className:"p-4 border-b border-slate-800 flex justify-between",children:[m.jsx("h3",{"code-path":"src/pages/MemberCenter.tsx:170:17",className:"text-lg font-bold text-white",children:""}),m.jsx("button",{"code-path":"src/pages/MemberCenter.tsx:171:17",onClick:()=>d(!1),className:"text-slate-400",children:m.jsx(hu,{"code-path":"src/pages/MemberCenter.tsx:171:88",className:"w-5 h-5"})})]}),m.jsxs("div",{"code-path":"src/pages/MemberCenter.tsx:173:15",className:"p-6 space-y-4",children:[m.jsxs("div",{"code-path":"src/pages/MemberCenter.tsx:174:17",children:[m.jsx(ai,{"code-path":"src/pages/MemberCenter.tsx:175:19",className:"text-slate-300",children:""}),m.jsx(Yo,{"code-path":"src/pages/MemberCenter.tsx:176:19",value:y.name,onChange:S=>x({...y,name:S.target.value}),className:"bg-slate-950 border-slate-800 text-white"})]}),m.jsxs("div",{"code-path":"src/pages/MemberCenter.tsx:178:17",className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{"code-path":"src/pages/MemberCenter.tsx:179:19",children:[m.jsx(ai,{"code-path":"src/pages/MemberCenter.tsx:180:21",className:"text-slate-300",children:""}),m.jsx(Yo,{"code-path":"src/pages/MemberCenter.tsx:181:21",value:y.phone,onChange:S=>x({...y,phone:S.target.value}),className:"bg-slate-950 border-slate-800 text-white"})]}),m.jsxs("div",{"code-path":"src/pages/MemberCenter.tsx:183:19",children:[m.jsx(ai,{"code-path":"src/pages/MemberCenter.tsx:184:21",className:"text-slate-300",children:""}),m.jsx(Yo,{"code-path":"src/pages/MemberCenter.tsx:185:21",value:y.location,onChange:S=>x({...y,location:S.target.value}),className:"bg-slate-950 border-slate-800 text-white"})]})]}),m.jsxs("div",{"code-path":"src/pages/MemberCenter.tsx:188:17",children:[m.jsx(ai,{"code-path":"src/pages/MemberCenter.tsx:189:19",className:"text-slate-300",children:""}),m.jsx("textarea",{"code-path":"src/pages/MemberCenter.tsx:190:19",value:y.bio,onChange:S=>x({...y,bio:S.target.value}),className:"w-full h-24 p-3 bg-slate-950 border border-slate-800 rounded-md text-white resize-none"})]})]}),m.jsxs("div",{"code-path":"src/pages/MemberCenter.tsx:193:15",className:"flex justify-end gap-3 p-4 bg-slate-900/50 border-t border-slate-800",children:[m.jsx(De,{"code-path":"src/pages/MemberCenter.tsx:194:17",variant:"ghost",onClick:()=>d(!1),className:"text-slate-300",children:""}),m.jsx(De,{"code-path":"src/pages/MemberCenter.tsx:195:17",className:"bg-orange-500 hover:bg-orange-600 text-white",onClick:w,disabled:f,children:""})]})]})})})]})}function yve(){const{currentUser:t}=mo(),{addToast:e}=Gr(),[n,s]=_.useState([]),[r,i]=_.useState(!0),[o,l]=_.useState(!1),[u,d]=_.useState(""),[f,p]=_.useState(""),[y,x]=_.useState(null),[w,T]=_.useState({id:"",name:"",number:"",shirtSize:"L",pantsSize:"L",phone:"",role:""}),S=_.useCallback(async()=>{if(t)try{const O=Fd(Jo(ws,"teams"),C0("captainId","==",t.uid)),L=await Hd(O);s(L.docs.map(F=>({id:F.id,...F.data()})))}finally{i(!1)}},[t]);_.useEffect(()=>{S()},[S]);const A=async()=>{if(!(!u.trim()||!t))try{await g_(Jo(ws,"teams"),{name:u,sport:f,captainId:t.uid,captainEmail:t.email,createdAt:new Date().toISOString(),members:[{id:t.uid,name:t.email?.split("@")[0],role:"",number:"00",shirtSize:"L",pantsSize:"L",phone:""}],eventCount:0,winRate:0}),e({title:"",variant:"success"}),l(!1),d(""),S()}catch{e({title:"",variant:"error"})}},N=async O=>{if(!w.name)return e({title:"",variant:"error"});try{const L=xl(ws,"teams",O.id);let F=[...O.members||[]];w.id?F=F.map(I=>I.id===w.id?w:I):F.push({...w,id:Date.now().toString()}),await GE(L,{members:F}),e({title:"",variant:"success"}),x(null),S()}catch{e({title:"",variant:"error"})}},P=async(O,L)=>{if(!confirm(""))return;const F=O.members.filter(I=>I.id!==L);await GE(xl(ws,"teams",O.id),{members:F}),S()};return r?m.jsx("div",{"code-path":"src/pages/MemberCenter.tsx:283:25",className:"py-10 flex justify-center",children:m.jsx(mi,{"code-path":"src/pages/MemberCenter.tsx:283:68",className:"w-8 h-8 animate-spin text-orange-500"})}):m.jsxs("div",{"code-path":"src/pages/MemberCenter.tsx:286:5",className:"space-y-6",children:[m.jsxs("div",{"code-path":"src/pages/MemberCenter.tsx:287:7",className:"flex justify-between items-center",children:[m.jsx("h3",{"code-path":"src/pages/MemberCenter.tsx:288:9",className:"text-xl font-bold text-white",children:""}),m.jsxs(De,{"code-path":"src/pages/MemberCenter.tsx:289:9",className:"bg-orange-500 hover:bg-orange-600 text-white",onClick:()=>l(!o),children:[m.jsx(L0,{"code-path":"src/pages/MemberCenter.tsx:290:11",className:"w-4 h-4 mr-1"})," "]})]}),o&&m.jsxs(kt,{"code-path":"src/pages/MemberCenter.tsx:295:9",className:"p-4 bg-slate-800 border-orange-500/50 flex flex-wrap gap-4 items-end mb-4",children:[m.jsxs("div",{"code-path":"src/pages/MemberCenter.tsx:296:11",className:"flex-1 space-y-2",children:[m.jsx(ai,{"code-path":"src/pages/MemberCenter.tsx:297:13",className:"text-slate-300",children:""}),m.jsx(Yo,{"code-path":"src/pages/MemberCenter.tsx:298:13",value:u,onChange:O=>d(O.target.value),className:"bg-slate-950 border-slate-700 text-white"})]}),m.jsxs("div",{"code-path":"src/pages/MemberCenter.tsx:300:11",className:"w-40 space-y-2",children:[m.jsx(ai,{"code-path":"src/pages/MemberCenter.tsx:301:13",className:"text-slate-300",children:""}),m.jsxs(i7,{"code-path":"src/pages/MemberCenter.tsx:302:13",value:f,onValueChange:p,children:[m.jsx(a7,{"code-path":"src/pages/MemberCenter.tsx:303:15",className:"bg-slate-950 text-white",children:m.jsx(o7,{"code-path":"src/pages/MemberCenter.tsx:303:66"})}),m.jsx(l7,{"code-path":"src/pages/MemberCenter.tsx:304:15",className:"bg-slate-900 text-white",children:pve.map(O=>m.jsx(c7,{"code-path":"src/pages/MemberCenter.tsx:305:41",value:O,children:O},O))})]})]}),m.jsx(De,{"code-path":"src/pages/MemberCenter.tsx:309:11",variant:"ghost",onClick:()=>l(!1),className:"text-white",children:""}),m.jsx(De,{"code-path":"src/pages/MemberCenter.tsx:310:11",className:"bg-orange-500",onClick:A,children:""})]}),n.map(O=>m.jsxs(kt,{"code-path":"src/pages/MemberCenter.tsx:315:9",className:"p-6 bg-slate-800 border-slate-700",children:[m.jsxs("div",{"code-path":"src/pages/MemberCenter.tsx:316:11",className:"flex justify-between items-start mb-6 border-b border-slate-700/50 pb-4",children:[m.jsxs("div",{"code-path":"src/pages/MemberCenter.tsx:317:13",children:[m.jsxs("div",{"code-path":"src/pages/MemberCenter.tsx:318:15",className:"flex items-center gap-2",children:[m.jsx("h4",{"code-path":"src/pages/MemberCenter.tsx:319:17",className:"text-2xl font-bold text-white",children:O.name}),m.jsx(Vc,{"code-path":"src/pages/MemberCenter.tsx:320:17",className:"bg-blue-500/20 text-blue-400",children:O.sport})]}),m.jsxs("p",{"code-path":"src/pages/MemberCenter.tsx:322:15",className:"text-sm text-slate-400 mt-2",children:[O.members?.length,"    ",O.winRate,"%"]})]}),m.jsx(De,{"code-path":"src/pages/MemberCenter.tsx:324:13",variant:"outline",className:"border-slate-600 text-white",onClick:()=>{x(O.id),T({id:"",name:"",number:"",shirtSize:"L",pantsSize:"L",phone:"",role:""})},children:""})]}),m.jsx(On,{"code-path":"src/pages/MemberCenter.tsx:330:11",children:y===O.id&&m.jsxs(ve.div,{"code-path":"src/pages/MemberCenter.tsx:332:15",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-8 p-6 bg-slate-900 border border-orange-500/30 rounded-xl grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{"code-path":"src/pages/MemberCenter.tsx:333:17",className:"space-y-2",children:[m.jsx(ai,{"code-path":"src/pages/MemberCenter.tsx:333:44",className:"text-slate-300",children:""}),m.jsx(Yo,{"code-path":"src/pages/MemberCenter.tsx:333:88",value:w.name,onChange:L=>T({...w,name:L.target.value}),className:"bg-slate-950 text-white"})]}),m.jsxs("div",{"code-path":"src/pages/MemberCenter.tsx:334:17",className:"space-y-2",children:[m.jsx(ai,{"code-path":"src/pages/MemberCenter.tsx:334:44",className:"text-slate-300",children:""}),m.jsx(Yo,{"code-path":"src/pages/MemberCenter.tsx:334:88",type:"number",value:w.number,onChange:L=>T({...w,number:L.target.value}),className:"bg-slate-950 text-white"})]}),m.jsxs("div",{"code-path":"src/pages/MemberCenter.tsx:335:17",className:"space-y-2",children:[m.jsx(ai,{"code-path":"src/pages/MemberCenter.tsx:335:44",className:"text-slate-300",children:""}),m.jsx(Yo,{"code-path":"src/pages/MemberCenter.tsx:335:88",value:w.phone,onChange:L=>T({...w,phone:L.target.value}),className:"bg-slate-950 text-white"})]}),m.jsx(De,{"code-path":"src/pages/MemberCenter.tsx:336:17",className:"md:col-start-3 bg-emerald-600",onClick:()=>N(O),children:""})]})}),m.jsx("div",{"code-path":"src/pages/MemberCenter.tsx:341:11",className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:O.members?.map(L=>m.jsxs("div",{"code-path":"src/pages/MemberCenter.tsx:343:15",className:"p-4 bg-slate-900 rounded-lg border border-slate-700 flex justify-between items-center group",children:[m.jsxs("div",{"code-path":"src/pages/MemberCenter.tsx:344:17",className:"flex items-center gap-4",children:[m.jsx("div",{"code-path":"src/pages/MemberCenter.tsx:345:19",className:"w-10 h-10 bg-slate-800 rounded-full flex items-center justify-center text-orange-500 font-bold",children:L.number}),m.jsxs("div",{"code-path":"src/pages/MemberCenter.tsx:346:19",children:[m.jsx("p",{"code-path":"src/pages/MemberCenter.tsx:346:24",className:"text-white font-bold",children:L.name}),m.jsxs("p",{"code-path":"src/pages/MemberCenter.tsx:346:72",className:"text-slate-400 text-xs",children:[L.shirtSize,"/",L.pantsSize]})]})]}),m.jsxs("div",{"code-path":"src/pages/MemberCenter.tsx:348:17",className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[m.jsx(De,{"code-path":"src/pages/MemberCenter.tsx:349:19",variant:"ghost",size:"icon",onClick:()=>{x(O.id),T(L)},children:m.jsx(i2,{"code-path":"src/pages/MemberCenter.tsx:349:120",className:"w-4 h-4 text-slate-400"})}),m.jsx(De,{"code-path":"src/pages/MemberCenter.tsx:350:19",variant:"ghost",size:"icon",onClick:()=>P(O,L.id),children:m.jsx(l2,{"code-path":"src/pages/MemberCenter.tsx:350:96",className:"w-4 h-4 text-red-400"})})]})]},L.id))})]},O.id))]})}function xve(){return m.jsx("div",{"code-path":"src/pages/MemberCenter.tsx:362:37",className:"text-slate-400",children:""})}function vve(){return m.jsx("div",{"code-path":"src/pages/MemberCenter.tsx:363:39",className:"text-slate-400",children:""})}function bve(){return m.jsx("div",{"code-path":"src/pages/MemberCenter.tsx:364:38",className:"text-slate-400",children:""})}function wve({setRoute:t}){const[e,n]=_.useState("overview"),{logout:s,userRole:r}=mo(),i=[{id:"overview",label:"",icon:ym},{id:"teams",label:"",icon:Ss},...r==="organizer"||r==="admin"?[{id:"hosted",label:"",icon:vi}]:[],{id:"payments",label:"",icon:n2},{id:"notifications",label:"",icon:gne}];return m.jsx("div",{"code-path":"src/pages/MemberCenter.tsx:382:5",className:"min-h-screen bg-slate-950 py-8 px-4",children:m.jsxs("div",{"code-path":"src/pages/MemberCenter.tsx:383:7",className:"max-w-6xl mx-auto",children:[m.jsxs("div",{"code-path":"src/pages/MemberCenter.tsx:384:9",className:"flex justify-between items-center mb-8",children:[m.jsx("div",{"code-path":"src/pages/MemberCenter.tsx:385:11",children:m.jsx("h1",{"code-path":"src/pages/MemberCenter.tsx:385:16",className:"text-3xl font-bold text-white",children:""})}),m.jsxs("div",{"code-path":"src/pages/MemberCenter.tsx:386:11",className:"flex gap-3",children:[m.jsx(De,{"code-path":"src/pages/MemberCenter.tsx:387:13",variant:"outline",onClick:()=>t("home"),className:"border-slate-700 text-white",children:""}),m.jsx(De,{"code-path":"src/pages/MemberCenter.tsx:388:13",variant:"destructive",onClick:async()=>{await s(),t("home")},children:""})]})]}),m.jsxs("div",{"code-path":"src/pages/MemberCenter.tsx:392:9",className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[m.jsx(kt,{"code-path":"src/pages/MemberCenter.tsx:393:11",className:"lg:col-span-1 bg-slate-800 border-slate-700 p-2 h-fit",children:i.map(o=>m.jsxs("button",{"code-path":"src/pages/MemberCenter.tsx:395:15",onClick:()=>n(o.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-left transition-all ${e===o.id?"bg-orange-500/10 text-orange-500":"text-slate-400 hover:bg-slate-700"}`,children:[m.jsx(o.icon,{"code-path":"src/pages/MemberCenter.tsx:400:17",className:"w-5 h-5"}),m.jsx("span",{"code-path":"src/pages/MemberCenter.tsx:400:49",children:o.label})]},o.id))}),m.jsx("div",{"code-path":"src/pages/MemberCenter.tsx:405:11",className:"lg:col-span-3",children:m.jsx(On,{"code-path":"src/pages/MemberCenter.tsx:406:13",mode:"wait",children:m.jsxs(ve.div,{"code-path":"src/pages/MemberCenter.tsx:407:15",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:[e==="overview"&&m.jsx(gve,{"code-path":"src/pages/MemberCenter.tsx:408:46",stats:mve}),e==="teams"&&m.jsx(yve,{"code-path":"src/pages/MemberCenter.tsx:409:43"}),e==="hosted"&&m.jsx(xve,{"code-path":"src/pages/MemberCenter.tsx:410:44"}),e==="payments"&&m.jsx(vve,{"code-path":"src/pages/MemberCenter.tsx:411:46"}),e==="notifications"&&m.jsx(bve,{"code-path":"src/pages/MemberCenter.tsx:412:51"})]},e)})})]})]})})}function Eve({setRoute:t}){return _.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route")},[]),m.jsx("div",{"code-path":"src/pages/NotFound.tsx:18:5",className:"flex flex-col items-center justify-center min-h-[calc(100vh-64px)] bg-slate-950 text-slate-100",children:m.jsxs(ve.div,{"code-path":"src/pages/NotFound.tsx:19:7",className:"text-center space-y-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[m.jsx(ve.h1,{"code-path":"src/pages/NotFound.tsx:25:9",className:"text-8xl font-display font-bold text-orange-500 drop-shadow-lg",animate:{textShadow:["0 0 20px rgba(249, 115, 22, 0.3)","0 0 40px rgba(249, 115, 22, 0.5)","0 0 20px rgba(249, 115, 22, 0.3)"]},transition:{duration:2,repeat:1/0},children:"404"}),m.jsx("p",{"code-path":"src/pages/NotFound.tsx:38:9",className:"text-xl text-slate-400 font-medium",children:" (Page not found)"}),m.jsx(ve.div,{"code-path":"src/pages/NotFound.tsx:39:9",animate:{y:[0,-10,0]},transition:{duration:2,repeat:1/0},children:m.jsx(Cn,{"code-path":"src/pages/NotFound.tsx:43:11",className:"w-16 h-16 text-slate-600 mx-auto my-6"})}),m.jsx(De,{"code-path":"src/pages/NotFound.tsx:45:9",className:"mt-4 px-8 py-3 text-lg bg-orange-500 hover:bg-orange-600 shadow-lg shadow-orange-500/20",onClick:()=>t("home"),children:""})]})})}function Sve(){const[t,e]=_.useState(!0),[n,s]=_.useState(!1),[r,i]=_.useState(""),[o,l]=_.useState(""),u=nh(),{addToast:d}=Gr(),f=async y=>{y.preventDefault(),s(!0);try{t?(await uq(Zf,r,o),d({title:"",variant:"success"})):(await cq(Zf,r,o),d({title:"",variant:"success"})),u("/member")}catch(x){console.error("Auth Error:",x);let w="";switch(x.code){case"auth/email-already-in-use":w="";break;case"auth/invalid-credential":case"auth/user-not-found":case"auth/wrong-password":w="";break;case"auth/weak-password":w=" 6 ";break}d({title:w,variant:"error"})}finally{s(!1)}},p=async()=>{if(!r){d({title:"",variant:"warning"});return}try{await lq(Zf,r),d({title:"",description:"",variant:"success"})}catch(y){d({title:"",description:y.code==="auth/user-not-found"?"":"",variant:"error"})}};return m.jsxs("div",{"code-path":"src/pages/LoginPage.tsx:89:5",className:"min-h-screen bg-slate-950 flex items-center justify-center p-4 relative overflow-hidden",children:[m.jsx("div",{"code-path":"src/pages/LoginPage.tsx:91:7",className:"absolute top-1/4 left-1/4 w-96 h-96 bg-orange-500/10 rounded-full blur-3xl"}),m.jsx("div",{"code-path":"src/pages/LoginPage.tsx:92:7",className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl"}),m.jsxs("div",{"code-path":"src/pages/LoginPage.tsx:94:7",className:"w-full max-w-md relative z-10",children:[m.jsxs("div",{"code-path":"src/pages/LoginPage.tsx:96:9",className:"text-center mb-8",children:[m.jsx("div",{"code-path":"src/pages/LoginPage.tsx:97:11",className:"w-16 h-16 bg-slate-900 border border-slate-800 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-xl",children:m.jsx(Cn,{"code-path":"src/pages/LoginPage.tsx:98:13",className:"w-8 h-8 text-orange-500"})}),m.jsx("h1",{"code-path":"src/pages/LoginPage.tsx:100:11",className:"text-3xl font-display font-bold text-white tracking-wider",children:"CHAMPIO"}),m.jsx("p",{"code-path":"src/pages/LoginPage.tsx:103:11",className:"text-slate-400 mt-2",children:""})]}),m.jsx(kt,{"code-path":"src/pages/LoginPage.tsx:106:9",className:"p-8 bg-slate-900/80 border-slate-800 backdrop-blur-xl shadow-2xl",children:m.jsx(On,{"code-path":"src/pages/LoginPage.tsx:107:11",mode:"wait",children:m.jsxs(ve.div,{"code-path":"src/pages/LoginPage.tsx:108:13",initial:{opacity:0,x:t?-20:20},animate:{opacity:1,x:0},exit:{opacity:0,x:t?20:-20},transition:{duration:.3},children:[m.jsxs("div",{"code-path":"src/pages/LoginPage.tsx:115:15",className:"mb-6",children:[m.jsx("h2",{"code-path":"src/pages/LoginPage.tsx:116:17",className:"text-2xl font-bold text-white",children:t?"":""}),m.jsx("p",{"code-path":"src/pages/LoginPage.tsx:119:17",className:"text-slate-400 text-sm mt-1",children:t?"":""})]}),m.jsxs("form",{"code-path":"src/pages/LoginPage.tsx:124:15",onSubmit:f,className:"space-y-5",children:[m.jsxs("div",{"code-path":"src/pages/LoginPage.tsx:125:17",className:"space-y-2",children:[m.jsx(ai,{"code-path":"src/pages/LoginPage.tsx:126:19",htmlFor:"email",className:"text-slate-300",children:""}),m.jsxs("div",{"code-path":"src/pages/LoginPage.tsx:127:19",className:"relative",children:[m.jsx(s2,{"code-path":"src/pages/LoginPage.tsx:128:21",className:"absolute left-3 top-3 h-5 w-5 text-slate-500"}),m.jsx(Yo,{"code-path":"src/pages/LoginPage.tsx:129:21",id:"email",type:"email",placeholder:"name@example.com",className:"pl-10 bg-slate-950 border-slate-800 text-white focus:border-orange-500",value:r,onChange:y=>i(y.target.value),required:!0})]})]}),m.jsxs("div",{"code-path":"src/pages/LoginPage.tsx:141:17",className:"space-y-2",children:[m.jsxs("div",{"code-path":"src/pages/LoginPage.tsx:142:19",className:"flex items-center justify-between",children:[m.jsx(ai,{"code-path":"src/pages/LoginPage.tsx:143:21",htmlFor:"password",className:"text-slate-300",children:""}),t&&m.jsx("button",{"code-path":"src/pages/LoginPage.tsx:145:23",type:"button",onClick:p,className:"text-xs text-orange-500 hover:text-orange-400",children:""})]}),m.jsxs("div",{"code-path":"src/pages/LoginPage.tsx:154:19",className:"relative",children:[m.jsx(Cse,{"code-path":"src/pages/LoginPage.tsx:155:21",className:"absolute left-3 top-3 h-5 w-5 text-slate-500"}),m.jsx(Yo,{"code-path":"src/pages/LoginPage.tsx:156:21",id:"password",type:"password",placeholder:"",className:"pl-10 bg-slate-950 border-slate-800 text-white focus:border-orange-500",value:o,onChange:y=>l(y.target.value),required:!0,minLength:6})]})]}),m.jsx(De,{"code-path":"src/pages/LoginPage.tsx:169:17",type:"submit",className:"w-full bg-orange-500 hover:bg-orange-600 text-white h-11",disabled:n,children:n?m.jsx(mi,{"code-path":"src/pages/LoginPage.tsx:175:21",className:"h-5 w-5 animate-spin"}):m.jsxs(m.Fragment,{children:[t?"":"",m.jsx(WL,{"code-path":"src/pages/LoginPage.tsx:179:23",className:"ml-2 h-5 w-5"})]})})]}),m.jsxs("div",{"code-path":"src/pages/LoginPage.tsx:185:15",className:"mt-6 text-center text-sm text-slate-400",children:[t?"":"",m.jsx("button",{"code-path":"src/pages/LoginPage.tsx:187:17",type:"button",onClick:()=>e(!t),className:"ml-2 text-orange-500 hover:text-orange-400 font-medium transition-colors",children:t?"":""})]})]},t?"login":"register")})})]})]})}function Tve(t,e=[]){const n=_.useCallback(s=>{t.forEach(({key:r,handler:i,modifiers:o})=>{s.key===r&&(o&&(o.ctrl&&!s.ctrlKey||o.shift&&!s.shiftKey||o.alt&&!s.altKey||o.meta&&!s.metaKey)||(s.preventDefault(),i(s)))})},[t]);_.useEffect(()=>(window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)),[n,...e])}function _ve(t){Tve([{key:"k",handler:t,modifiers:{ctrl:!0}},{key:"k",handler:t,modifiers:{meta:!0}}])}function wE({children:t}){const{currentUser:e,isLoading:n}=mo();return n?m.jsx("div",{"code-path":"src/App.tsx:31:7",className:"min-h-screen bg-slate-950 flex items-center justify-center",children:m.jsx(mi,{"code-path":"src/App.tsx:32:9",className:"w-10 h-10 animate-spin text-orange-500"})}):e?m.jsx(m.Fragment,{children:t}):m.jsx(WU,{"code-path":"src/App.tsx:39:12",to:"/login",replace:!0})}function Ave(){const t=nh(),e=fo(),s=(()=>{const f=e.pathname;return f==="/"?"home":f==="/wizard"?"wizard":f==="/dashboard"?"dashboard":f==="/member"?"member":f==="/event"?"public_event":f==="/scorekeeper"?"scorekeeper":f==="/login"?"login":"not_found"})(),r=_.useCallback(f=>{t({home:"/",wizard:"/wizard",dashboard:"/dashboard",member:"/member",public_event:"/event",scorekeeper:"/scorekeeper",not_found:"/404",login:"/login"}[f]||"/404")},[t]),[i,o]=_.useState("basketball"),[l,u]=_.useState(!1);_ve(()=>u(!0)),_.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[e.pathname]),_.useEffect(()=>{const f={home:"Champio  ",wizard:"  Champio",dashboard:"  Champio",member:"  Champio",public_event:"2026   Champio",scorekeeper:"  Champio",not_found:"  Champio",login:"  Champio"};document.title=f[s]||"Champio"},[s]);const d=_.useCallback((f,p)=>{switch(f){case"event":r("public_event");break;case"team":r("dashboard");break;case"announcement":r("public_event");break}},[r]);return m.jsxs("div",{"code-path":"src/App.tsx:127:5",className:"min-h-screen bg-slate-950 font-sans text-slate-100 selection:bg-orange-500/30",children:[m.jsx("style",{"code-path":"src/App.tsx:128:7",children:`
        @import url('https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Inter:wght@400;500;600;700&display=swap');
        .font-sans { font-family: 'Inter', ui-sans-serif, system-ui, sans-serif; }
        .font-display { font-family: 'Bebas Neue', ui-sans-serif, system-ui, sans-serif; letter-spacing: 0.05em; }
      `}),s!=="scorekeeper"&&m.jsx(jie,{"code-path":"src/App.tsx:136:9",setRoute:r,activeSport:i,setActiveSport:o,isSearchOpen:l,setIsSearchOpen:u,onSearchSelect:d}),m.jsx("main",{"code-path":"src/App.tsx:146:7",children:m.jsx(Hie,{"code-path":"src/App.tsx:147:9",route:s,children:m.jsxs(GU,{"code-path":"src/App.tsx:148:11",children:[m.jsx(Ho,{"code-path":"src/App.tsx:150:13",path:"/",element:m.jsx(Gie,{"code-path":"src/App.tsx:150:38",setRoute:r,activeSport:i})}),m.jsx(Ho,{"code-path":"src/App.tsx:152:13",path:"/wizard",element:m.jsx(wE,{"code-path":"src/App.tsx:154:24",children:m.jsx(toe,{"code-path":"src/App.tsx:154:40",setRoute:r})})}),m.jsx(Ho,{"code-path":"src/App.tsx:156:13",path:"/dashboard",element:m.jsx(wE,{"code-path":"src/App.tsx:158:24",children:m.jsx(wge,{"code-path":"src/App.tsx:158:40",setRoute:r})})}),m.jsx(Ho,{"code-path":"src/App.tsx:162:13",path:"/member",element:m.jsx(wE,{"code-path":"src/App.tsx:164:24",children:m.jsx(wve,{"code-path":"src/App.tsx:164:40",setRoute:r})})}),m.jsx(Ho,{"code-path":"src/App.tsx:167:13",path:"/event",element:m.jsx(lve,{"code-path":"src/App.tsx:167:43",setRoute:r})}),m.jsx(Ho,{"code-path":"src/App.tsx:168:13",path:"/scorekeeper",element:m.jsx(cve,{"code-path":"src/App.tsx:168:49",setRoute:r})}),m.jsx(Ho,{"code-path":"src/App.tsx:169:13",path:"/login",element:m.jsx(Sve,{"code-path":"src/App.tsx:169:43"})}),m.jsx(Ho,{"code-path":"src/App.tsx:170:13",path:"*",element:m.jsx(Eve,{"code-path":"src/App.tsx:170:38",setRoute:r})})]})})})]})}function Cve(){return m.jsx(Vie,{"code-path":"src/App.tsx:180:5",children:m.jsx(Dre,{"code-path":"src/App.tsx:181:7",defaultTheme:"dark",children:m.jsx(lQ,{"code-path":"src/App.tsx:182:9",children:m.jsx(dQ,{"code-path":"src/App.tsx:183:11",children:m.jsx(Ave,{"code-path":"src/App.tsx:184:13"})})})})})}const kve=_.memo(Cve);X8.createRoot(document.getElementById("root")).render(m.jsx(_.StrictMode,{"code-path":"src/main.tsx:8:3",children:m.jsx(xF,{"code-path":"src/main.tsx:9:5",children:m.jsx(kve,{"code-path":"src/main.tsx:10:7"})})}));
